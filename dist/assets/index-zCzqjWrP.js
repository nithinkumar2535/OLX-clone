function dP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lw={exports:{}},pd={},Mw={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=Symbol.for("react.element"),mP=Symbol.for("react.portal"),gP=Symbol.for("react.fragment"),_P=Symbol.for("react.strict_mode"),vP=Symbol.for("react.profiler"),yP=Symbol.for("react.provider"),EP=Symbol.for("react.context"),wP=Symbol.for("react.forward_ref"),TP=Symbol.for("react.suspense"),IP=Symbol.for("react.memo"),AP=Symbol.for("react.lazy"),zv=Symbol.iterator;function SP(t){return t===null||typeof t!="object"?null:(t=zv&&t[zv]||t["@@iterator"],typeof t=="function"?t:null)}var Vw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uw=Object.assign,Fw={};function pa(t,e,n){this.props=t,this.context=e,this.refs=Fw,this.updater=n||Vw}pa.prototype.isReactComponent={};pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $w(){}$w.prototype=pa.prototype;function qm(t,e,n){this.props=t,this.context=e,this.refs=Fw,this.updater=n||Vw}var Gm=qm.prototype=new $w;Gm.constructor=qm;Uw(Gm,pa.prototype);Gm.isPureReactComponent=!0;var Hv=Array.isArray,jw=Object.prototype.hasOwnProperty,Qm={current:null},Bw={key:!0,ref:!0,__self:!0,__source:!0};function zw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jw.call(e,r)&&!Bw.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:vu,type:t,key:s,ref:o,props:i,_owner:Qm.current}}function CP(t,e){return{$$typeof:vu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ym(t){return typeof t=="object"&&t!==null&&t.$$typeof===vu}function RP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wv=/\/+/g;function Lf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RP(""+t.key):e.toString(36)}function Qc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vu:case mP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Lf(o,0):r,Hv(i)?(n="",t!=null&&(n=t.replace(Wv,"$&/")+"/"),Qc(i,e,n,"",function(h){return h})):i!=null&&(Ym(i)&&(i=CP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Wv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Hv(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+Lf(s,u);o+=Qc(s,e,n,c,i)}else if(c=SP(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+Lf(s,u++),o+=Qc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ic(t,e,n){if(t==null)return t;var r=[],i=0;return Qc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},Yc={transition:null},kP={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Yc,ReactCurrentOwner:Qm};function Hw(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Ic,forEach:function(t,e,n){Ic(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ic(t,function(){e++}),e},toArray:function(t){return Ic(t,function(e){return e})||[]},only:function(t){if(!Ym(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=pa;_e.Fragment=gP;_e.Profiler=vP;_e.PureComponent=qm;_e.StrictMode=_P;_e.Suspense=TP;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kP;_e.act=Hw;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Uw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)jw.call(e,c)&&!Bw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:vu,type:t.type,key:i,ref:s,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:EP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yP,_context:t},t.Consumer=t};_e.createElement=zw;_e.createFactory=function(t){var e=zw.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:wP,render:t}};_e.isValidElement=Ym;_e.lazy=function(t){return{$$typeof:AP,_payload:{_status:-1,_result:t},_init:PP}};_e.memo=function(t,e){return{$$typeof:IP,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Yc.transition;Yc.transition={};try{t()}finally{Yc.transition=e}};_e.unstable_act=Hw;_e.useCallback=function(t,e){return en.current.useCallback(t,e)};_e.useContext=function(t){return en.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return en.current.useDeferredValue(t)};_e.useEffect=function(t,e){return en.current.useEffect(t,e)};_e.useId=function(){return en.current.useId()};_e.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return en.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};_e.useRef=function(t){return en.current.useRef(t)};_e.useState=function(t){return en.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return en.current.useTransition()};_e.version="18.3.1";Mw.exports=_e;var W=Mw.exports;const Ww=pP(W),NP=dP({__proto__:null,default:Ww},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bP=W,OP=Symbol.for("react.element"),xP=Symbol.for("react.fragment"),DP=Object.prototype.hasOwnProperty,LP=bP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MP={key:!0,ref:!0,__self:!0,__source:!0};function Kw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)DP.call(e,r)&&!MP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:OP,type:t,key:s,ref:o,props:i,_owner:LP.current}}pd.Fragment=xP;pd.jsx=Kw;pd.jsxs=Kw;Lw.exports=pd;var I=Lw.exports,Ap={},qw={exports:{}},vn={},Gw={exports:{}},Qw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,oe){var he=Z.length;Z.push(oe);e:for(;0<he;){var Me=he-1>>>1,Ce=Z[Me];if(0<i(Ce,oe))Z[Me]=oe,Z[he]=Ce,he=Me;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var oe=Z[0],he=Z.pop();if(he!==oe){Z[0]=he;e:for(var Me=0,Ce=Z.length,Be=Ce>>>1;Me<Be;){var En=2*(Me+1)-1,un=Z[En],Vn=En+1,wn=Z[Vn];if(0>i(un,he))Vn<Ce&&0>i(wn,un)?(Z[Me]=wn,Z[Vn]=he,Me=Vn):(Z[Me]=un,Z[En]=he,Me=En);else if(Vn<Ce&&0>i(wn,he))Z[Me]=wn,Z[Vn]=he,Me=Vn;else break e}}return oe}function i(Z,oe){var he=Z.sortIndex-oe.sortIndex;return he!==0?he:Z.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],h=[],g=1,_=null,w=3,b=!1,x=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Z){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=Z)r(h),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=n(h)}}function $(Z){if(M=!1,P(Z),!x)if(n(c)!==null)x=!0,ni(Q);else{var oe=n(h);oe!==null&&Mn($,oe.startTime-Z)}}function Q(Z,oe){x=!1,M&&(M=!1,C(E),E=-1),b=!0;var he=w;try{for(P(oe),_=n(c);_!==null&&(!(_.expirationTime>oe)||Z&&!O());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,w=_.priorityLevel;var Ce=Me(_.expirationTime<=oe);oe=t.unstable_now(),typeof Ce=="function"?_.callback=Ce:_===n(c)&&r(c),P(oe)}else r(c);_=n(c)}if(_!==null)var Be=!0;else{var En=n(h);En!==null&&Mn($,En.startTime-oe),Be=!1}return Be}finally{_=null,w=he,b=!1}}var K=!1,A=null,E=-1,S=5,k=-1;function O(){return!(t.unstable_now()-k<S)}function V(){if(A!==null){var Z=t.unstable_now();k=Z;var oe=!0;try{oe=A(!0,Z)}finally{oe?N():(K=!1,A=null)}}else K=!1}var N;if(typeof T=="function")N=function(){T(V)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,nr=Ot.port2;Ot.port1.onmessage=V,N=function(){nr.postMessage(null)}}else N=function(){D(V,0)};function ni(Z){A=Z,K||(K=!0,N())}function Mn(Z,oe){E=D(function(){Z(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,ni(Q))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var he=w;w=oe;try{return Z()}finally{w=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var he=w;w=Z;try{return oe()}finally{w=he}},t.unstable_scheduleCallback=function(Z,oe,he){var Me=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Me+he:Me):he=Me,Z){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=he+Ce,Z={id:g++,callback:oe,priorityLevel:Z,startTime:he,expirationTime:Ce,sortIndex:-1},he>Me?(Z.sortIndex=he,e(h,Z),n(c)===null&&Z===n(h)&&(M?(C(E),E=-1):M=!0,Mn($,he-Me))):(Z.sortIndex=Ce,e(c,Z),x||b||(x=!0,ni(Q))),Z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(Z){var oe=w;return function(){var he=w;w=oe;try{return Z.apply(this,arguments)}finally{w=he}}}})(Qw);Gw.exports=Qw;var VP=Gw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP=W,_n=VP;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yw=new Set,Hl={};function Js(t,e){ea(t,e),ea(t+"Capture",e)}function ea(t,e){for(Hl[t]=e,t=0;t<e.length;t++)Yw.add(e[t])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sp=Object.prototype.hasOwnProperty,FP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kv={},qv={};function $P(t){return Sp.call(qv,t)?!0:Sp.call(Kv,t)?!1:FP.test(t)?qv[t]=!0:(Kv[t]=!0,!1)}function jP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BP(t,e,n,r){if(e===null||typeof e>"u"||jP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xm=/[\-:]([a-z])/g;function Jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);bt[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);bt[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xm,Jm);bt[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zm(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BP(e,n,i,r)&&(n=null),r||i===null?$P(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ti=UP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ac=Symbol.for("react.element"),bo=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),Xw=Symbol.for("react.provider"),Jw=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),Rp=Symbol.for("react.suspense"),Pp=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),Ei=Symbol.for("react.lazy"),Zw=Symbol.for("react.offscreen"),Gv=Symbol.iterator;function al(t){return t===null||typeof t!="object"?null:(t=Gv&&t[Gv]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Mf;function _l(t){if(Mf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mf=e&&e[1]||""}return`
`+Mf+t}var Vf=!1;function Uf(t,e){if(!t||Vf)return"";Vf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{Vf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_l(t):""}function zP(t){switch(t.tag){case 5:return _l(t.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 2:case 15:return t=Uf(t.type,!1),t;case 11:return t=Uf(t.type.render,!1),t;case 1:return t=Uf(t.type,!0),t;default:return""}}function kp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oo:return"Fragment";case bo:return"Portal";case Cp:return"Profiler";case eg:return"StrictMode";case Rp:return"Suspense";case Pp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jw:return(t.displayName||"Context")+".Consumer";case Xw:return(t._context.displayName||"Context")+".Provider";case tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ng:return e=t.displayName||null,e!==null?e:kp(t.type)||"Memo";case Ei:e=t._payload,t=t._init;try{return kp(t(e))}catch{}}return null}function HP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kp(e);case 8:return e===eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function e0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WP(t){var e=e0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sc(t){t._valueTracker||(t._valueTracker=WP(t))}function t0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=e0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Np(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function n0(t,e){e=e.checked,e!=null&&Zm(t,"checked",e,!1)}function bp(t,e){n0(t,e);var n=qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Op(t,e.type,n):e.hasOwnProperty("defaultValue")&&Op(t,e.type,qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Op(t,e,n){(e!=="number"||yh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vl=Array.isArray;function Ho(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(vl(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qi(n)}}function r0(t,e){var n=qi(e.value),r=qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function i0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?i0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cc,s0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cc=Cc||document.createElement("div"),Cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KP=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(t){KP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rl[e]=Rl[t]})});function o0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rl.hasOwnProperty(t)&&Rl[t]?(""+e).trim():e+"px"}function a0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=o0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qP=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(t,e){if(e){if(qP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function rg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Up=null,Wo=null,Ko=null;function Zv(t){if(t=wu(t)){if(typeof Up!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=yd(e),Up(t.stateNode,t.type,e))}}function l0(t){Wo?Ko?Ko.push(t):Ko=[t]:Wo=t}function u0(){if(Wo){var t=Wo,e=Ko;if(Ko=Wo=null,Zv(t),e)for(t=0;t<e.length;t++)Zv(e[t])}}function c0(t,e){return t(e)}function h0(){}var Ff=!1;function d0(t,e,n){if(Ff)return t(e,n);Ff=!0;try{return c0(t,e,n)}finally{Ff=!1,(Wo!==null||Ko!==null)&&(h0(),u0())}}function Kl(t,e){var n=t.stateNode;if(n===null)return null;var r=yd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Fp=!1;if(qr)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Fp=!1}function GP(t,e,n,r,i,s,o,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(g){this.onError(g)}}var Pl=!1,Eh=null,wh=!1,$p=null,QP={onError:function(t){Pl=!0,Eh=t}};function YP(t,e,n,r,i,s,o,u,c){Pl=!1,Eh=null,GP.apply(QP,arguments)}function XP(t,e,n,r,i,s,o,u,c){if(YP.apply(this,arguments),Pl){if(Pl){var h=Eh;Pl=!1,Eh=null}else throw Error(Y(198));wh||(wh=!0,$p=h)}}function Zs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ey(t){if(Zs(t)!==t)throw Error(Y(188))}function JP(t){var e=t.alternate;if(!e){if(e=Zs(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ey(i),t;if(s===r)return ey(i),e;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function p0(t){return t=JP(t),t!==null?m0(t):null}function m0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=m0(t);if(e!==null)return e;t=t.sibling}return null}var g0=_n.unstable_scheduleCallback,ty=_n.unstable_cancelCallback,ZP=_n.unstable_shouldYield,ek=_n.unstable_requestPaint,rt=_n.unstable_now,tk=_n.unstable_getCurrentPriorityLevel,ig=_n.unstable_ImmediatePriority,_0=_n.unstable_UserBlockingPriority,Th=_n.unstable_NormalPriority,nk=_n.unstable_LowPriority,v0=_n.unstable_IdlePriority,md=null,mr=null;function rk(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(md,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:ok,ik=Math.log,sk=Math.LN2;function ok(t){return t>>>=0,t===0?32:31-(ik(t)/sk|0)|0}var Rc=64,Pc=4194304;function yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ih(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=yl(u):(s&=o,s!==0&&(r=yl(s)))}else o=n&~i,o!==0?r=yl(o):s!==0&&(r=yl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),i=1<<n,r|=t[n],e&=~i;return r}function ak(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xn(s),u=1<<o,c=i[o];c===-1?(!(u&n)||u&r)&&(i[o]=ak(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function jp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function y0(){var t=Rc;return Rc<<=1,!(Rc&4194240)&&(Rc=64),t}function $f(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function uk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function sg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function E0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var w0,og,T0,I0,A0,Bp=!1,kc=[],Di=null,Li=null,Mi=null,ql=new Map,Gl=new Map,Ti=[],ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ny(t,e){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(e.pointerId)}}function ul(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wu(e),e!==null&&og(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hk(t,e,n,r,i){switch(e){case"focusin":return Di=ul(Di,t,e,n,r,i),!0;case"dragenter":return Li=ul(Li,t,e,n,r,i),!0;case"mouseover":return Mi=ul(Mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ql.set(s,ul(ql.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gl.set(s,ul(Gl.get(s)||null,t,e,n,r,i)),!0}return!1}function S0(t){var e=bs(t.target);if(e!==null){var n=Zs(e);if(n!==null){if(e=n.tag,e===13){if(e=f0(n),e!==null){t.blockedOn=e,A0(t.priority,function(){T0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vp=r,n.target.dispatchEvent(r),Vp=null}else return e=wu(n),e!==null&&og(e),t.blockedOn=n,!1;e.shift()}return!0}function ry(t,e,n){Xc(t)&&n.delete(e)}function dk(){Bp=!1,Di!==null&&Xc(Di)&&(Di=null),Li!==null&&Xc(Li)&&(Li=null),Mi!==null&&Xc(Mi)&&(Mi=null),ql.forEach(ry),Gl.forEach(ry)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,Bp||(Bp=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,dk)))}function Ql(t){function e(i){return cl(i,t)}if(0<kc.length){cl(kc[0],t);for(var n=1;n<kc.length;n++){var r=kc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Di!==null&&cl(Di,t),Li!==null&&cl(Li,t),Mi!==null&&cl(Mi,t),ql.forEach(e),Gl.forEach(e),n=0;n<Ti.length;n++)r=Ti[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ti.length&&(n=Ti[0],n.blockedOn===null);)S0(n),n.blockedOn===null&&Ti.shift()}var qo=ti.ReactCurrentBatchConfig,Ah=!0;function fk(t,e,n,r){var i=ke,s=qo.transition;qo.transition=null;try{ke=1,ag(t,e,n,r)}finally{ke=i,qo.transition=s}}function pk(t,e,n,r){var i=ke,s=qo.transition;qo.transition=null;try{ke=4,ag(t,e,n,r)}finally{ke=i,qo.transition=s}}function ag(t,e,n,r){if(Ah){var i=zp(t,e,n,r);if(i===null)Yf(t,e,r,Sh,n),ny(t,r);else if(hk(i,t,e,n,r))r.stopPropagation();else if(ny(t,r),e&4&&-1<ck.indexOf(t)){for(;i!==null;){var s=wu(i);if(s!==null&&w0(s),s=zp(t,e,n,r),s===null&&Yf(t,e,r,Sh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yf(t,e,r,null,n)}}var Sh=null;function zp(t,e,n,r){if(Sh=null,t=rg(r),t=bs(t),t!==null)if(e=Zs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=f0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sh=t,null}function C0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tk()){case ig:return 1;case _0:return 4;case Th:case nk:return 16;case v0:return 536870912;default:return 16}default:return 16}}var ki=null,lg=null,Jc=null;function R0(){if(Jc)return Jc;var t,e=lg,n=e.length,r,i="value"in ki?ki.value:ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jc=i.slice(t,1<r?1-r:void 0)}function Zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nc(){return!0}function iy(){return!1}function yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nc:iy,this.isPropagationStopped=iy,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nc)},persist:function(){},isPersistent:Nc}),e}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ug=yn(ma),Eu=qe({},ma,{view:0,detail:0}),mk=yn(Eu),jf,Bf,hl,gd=qe({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hl&&(hl&&t.type==="mousemove"?(jf=t.screenX-hl.screenX,Bf=t.screenY-hl.screenY):Bf=jf=0,hl=t),jf)},movementY:function(t){return"movementY"in t?t.movementY:Bf}}),sy=yn(gd),gk=qe({},gd,{dataTransfer:0}),_k=yn(gk),vk=qe({},Eu,{relatedTarget:0}),zf=yn(vk),yk=qe({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),Ek=yn(yk),wk=qe({},ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tk=yn(wk),Ik=qe({},ma,{data:0}),oy=yn(Ik),Ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ck[t])?!!e[t]:!1}function cg(){return Rk}var Pk=qe({},Eu,{key:function(t){if(t.key){var e=Ak[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cg,charCode:function(t){return t.type==="keypress"?Zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kk=yn(Pk),Nk=qe({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ay=yn(Nk),bk=qe({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cg}),Ok=yn(bk),xk=qe({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dk=yn(xk),Lk=qe({},gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mk=yn(Lk),Vk=[9,13,27,32],hg=qr&&"CompositionEvent"in window,kl=null;qr&&"documentMode"in document&&(kl=document.documentMode);var Uk=qr&&"TextEvent"in window&&!kl,P0=qr&&(!hg||kl&&8<kl&&11>=kl),ly=" ",uy=!1;function k0(t,e){switch(t){case"keyup":return Vk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function Fk(t,e){switch(t){case"compositionend":return N0(e);case"keypress":return e.which!==32?null:(uy=!0,ly);case"textInput":return t=e.data,t===ly&&uy?null:t;default:return null}}function $k(t,e){if(xo)return t==="compositionend"||!hg&&k0(t,e)?(t=R0(),Jc=lg=ki=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return P0&&e.locale!=="ko"?null:e.data;default:return null}}var jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jk[t.type]:e==="textarea"}function b0(t,e,n,r){l0(r),e=Ch(e,"onChange"),0<e.length&&(n=new ug("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nl=null,Yl=null;function Bk(t){B0(t,0)}function _d(t){var e=Mo(t);if(t0(e))return t}function zk(t,e){if(t==="change")return e}var O0=!1;if(qr){var Hf;if(qr){var Wf="oninput"in document;if(!Wf){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),Wf=typeof hy.oninput=="function"}Hf=Wf}else Hf=!1;O0=Hf&&(!document.documentMode||9<document.documentMode)}function dy(){Nl&&(Nl.detachEvent("onpropertychange",x0),Yl=Nl=null)}function x0(t){if(t.propertyName==="value"&&_d(Yl)){var e=[];b0(e,Yl,t,rg(t)),d0(Bk,e)}}function Hk(t,e,n){t==="focusin"?(dy(),Nl=e,Yl=n,Nl.attachEvent("onpropertychange",x0)):t==="focusout"&&dy()}function Wk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _d(Yl)}function Kk(t,e){if(t==="click")return _d(e)}function qk(t,e){if(t==="input"||t==="change")return _d(e)}function Gk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:Gk;function Xl(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sp.call(e,i)||!Zn(t[i],e[i]))return!1}return!0}function fy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function py(t,e){var n=fy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fy(n)}}function D0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?D0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L0(){for(var t=window,e=yh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yh(t.document)}return e}function dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qk(t){var e=L0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&D0(n.ownerDocument.documentElement,n)){if(r!==null&&dg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=py(n,s);var o=py(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yk=qr&&"documentMode"in document&&11>=document.documentMode,Do=null,Hp=null,bl=null,Wp=!1;function my(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wp||Do==null||Do!==yh(r)||(r=Do,"selectionStart"in r&&dg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bl&&Xl(bl,r)||(bl=r,r=Ch(Hp,"onSelect"),0<r.length&&(e=new ug("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Do)))}function bc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lo={animationend:bc("Animation","AnimationEnd"),animationiteration:bc("Animation","AnimationIteration"),animationstart:bc("Animation","AnimationStart"),transitionend:bc("Transition","TransitionEnd")},Kf={},M0={};qr&&(M0=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function vd(t){if(Kf[t])return Kf[t];if(!Lo[t])return t;var e=Lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in M0)return Kf[t]=e[n];return t}var V0=vd("animationend"),U0=vd("animationiteration"),F0=vd("animationstart"),$0=vd("transitionend"),j0=new Map,gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(t,e){j0.set(t,e),Js(e,[t])}for(var qf=0;qf<gy.length;qf++){var Gf=gy[qf],Xk=Gf.toLowerCase(),Jk=Gf[0].toUpperCase()+Gf.slice(1);Ji(Xk,"on"+Jk)}Ji(V0,"onAnimationEnd");Ji(U0,"onAnimationIteration");Ji(F0,"onAnimationStart");Ji("dblclick","onDoubleClick");Ji("focusin","onFocus");Ji("focusout","onBlur");Ji($0,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Js("onBeforeInput",["compositionend","keypress","textInput","paste"]);Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zk=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function _y(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XP(r,e,void 0,t),t.currentTarget=null}function B0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;_y(i,u,h),s=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,h=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;_y(i,u,h),s=c}}}if(wh)throw t=$p,wh=!1,$p=null,t}function Fe(t,e){var n=e[Yp];n===void 0&&(n=e[Yp]=new Set);var r=t+"__bubble";n.has(r)||(z0(e,t,2,!1),n.add(r))}function Qf(t,e,n){var r=0;e&&(r|=4),z0(n,t,r,e)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[Oc]){t[Oc]=!0,Yw.forEach(function(n){n!=="selectionchange"&&(Zk.has(n)||Qf(n,!1,t),Qf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oc]||(e[Oc]=!0,Qf("selectionchange",!1,e))}}function z0(t,e,n,r){switch(C0(e)){case 1:var i=fk;break;case 4:i=pk;break;default:i=ag}n=i.bind(null,e,n,t),i=void 0,!Fp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;u!==null;){if(o=bs(u),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}u=u.parentNode}}r=r.return}d0(function(){var h=s,g=rg(n),_=[];e:{var w=j0.get(t);if(w!==void 0){var b=ug,x=t;switch(t){case"keypress":if(Zc(n)===0)break e;case"keydown":case"keyup":b=kk;break;case"focusin":x="focus",b=zf;break;case"focusout":x="blur",b=zf;break;case"beforeblur":case"afterblur":b=zf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=_k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Ok;break;case V0:case U0:case F0:b=Ek;break;case $0:b=Dk;break;case"scroll":b=mk;break;case"wheel":b=Mk;break;case"copy":case"cut":case"paste":b=Tk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=ay}var M=(e&4)!==0,D=!M&&t==="scroll",C=M?w!==null?w+"Capture":null:w;M=[];for(var T=h,P;T!==null;){P=T;var $=P.stateNode;if(P.tag===5&&$!==null&&(P=$,C!==null&&($=Kl(T,C),$!=null&&M.push(Zl(T,$,P)))),D)break;T=T.return}0<M.length&&(w=new b(w,x,null,n,g),_.push({event:w,listeners:M}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",w&&n!==Vp&&(x=n.relatedTarget||n.fromElement)&&(bs(x)||x[Gr]))break e;if((b||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,b?(x=n.relatedTarget||n.toElement,b=h,x=x?bs(x):null,x!==null&&(D=Zs(x),x!==D||x.tag!==5&&x.tag!==6)&&(x=null)):(b=null,x=h),b!==x)){if(M=sy,$="onMouseLeave",C="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(M=ay,$="onPointerLeave",C="onPointerEnter",T="pointer"),D=b==null?w:Mo(b),P=x==null?w:Mo(x),w=new M($,T+"leave",b,n,g),w.target=D,w.relatedTarget=P,$=null,bs(g)===h&&(M=new M(C,T+"enter",x,n,g),M.target=P,M.relatedTarget=D,$=M),D=$,b&&x)t:{for(M=b,C=x,T=0,P=M;P;P=Co(P))T++;for(P=0,$=C;$;$=Co($))P++;for(;0<T-P;)M=Co(M),T--;for(;0<P-T;)C=Co(C),P--;for(;T--;){if(M===C||C!==null&&M===C.alternate)break t;M=Co(M),C=Co(C)}M=null}else M=null;b!==null&&vy(_,w,b,M,!1),x!==null&&D!==null&&vy(_,D,x,M,!0)}}e:{if(w=h?Mo(h):window,b=w.nodeName&&w.nodeName.toLowerCase(),b==="select"||b==="input"&&w.type==="file")var Q=zk;else if(cy(w))if(O0)Q=qk;else{Q=Wk;var K=Hk}else(b=w.nodeName)&&b.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(Q=Kk);if(Q&&(Q=Q(t,h))){b0(_,Q,n,g);break e}K&&K(t,w,h),t==="focusout"&&(K=w._wrapperState)&&K.controlled&&w.type==="number"&&Op(w,"number",w.value)}switch(K=h?Mo(h):window,t){case"focusin":(cy(K)||K.contentEditable==="true")&&(Do=K,Hp=h,bl=null);break;case"focusout":bl=Hp=Do=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,my(_,n,g);break;case"selectionchange":if(Yk)break;case"keydown":case"keyup":my(_,n,g)}var A;if(hg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else xo?k0(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(P0&&n.locale!=="ko"&&(xo||E!=="onCompositionStart"?E==="onCompositionEnd"&&xo&&(A=R0()):(ki=g,lg="value"in ki?ki.value:ki.textContent,xo=!0)),K=Ch(h,E),0<K.length&&(E=new oy(E,t,null,n,g),_.push({event:E,listeners:K}),A?E.data=A:(A=N0(n),A!==null&&(E.data=A)))),(A=Uk?Fk(t,n):$k(t,n))&&(h=Ch(h,"onBeforeInput"),0<h.length&&(g=new oy("onBeforeInput","beforeinput",null,n,g),_.push({event:g,listeners:h}),g.data=A))}B0(_,e)})}function Zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ch(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Kl(t,n),s!=null&&r.unshift(Zl(t,s,i)),s=Kl(t,e),s!=null&&r.push(Zl(t,s,i))),t=t.return}return r}function Co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,i?(c=Kl(n,s),c!=null&&o.unshift(Zl(n,c,u))):i||(c=Kl(n,s),c!=null&&o.push(Zl(n,c,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eN=/\r\n?/g,tN=/\u0000|\uFFFD/g;function yy(t){return(typeof t=="string"?t:""+t).replace(eN,`
`).replace(tN,"")}function xc(t,e,n){if(e=yy(e),yy(t)!==e&&n)throw Error(Y(425))}function Rh(){}var Kp=null,qp=null;function Gp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qp=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,Ey=typeof Promise=="function"?Promise:void 0,rN=typeof queueMicrotask=="function"?queueMicrotask:typeof Ey<"u"?function(t){return Ey.resolve(null).then(t).catch(iN)}:Qp;function iN(t){setTimeout(function(){throw t})}function Xf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ql(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ga=Math.random().toString(36).slice(2),fr="__reactFiber$"+ga,eu="__reactProps$"+ga,Gr="__reactContainer$"+ga,Yp="__reactEvents$"+ga,sN="__reactListeners$"+ga,oN="__reactHandles$"+ga;function bs(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wy(t);t!==null;){if(n=t[fr])return n;t=wy(t)}return e}t=n,n=t.parentNode}return null}function wu(t){return t=t[fr]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function yd(t){return t[eu]||null}var Xp=[],Vo=-1;function Zi(t){return{current:t}}function je(t){0>Vo||(t.current=Xp[Vo],Xp[Vo]=null,Vo--)}function xe(t,e){Vo++,Xp[Vo]=t.current,t.current=e}var Gi={},Ht=Zi(Gi),on=Zi(!1),$s=Gi;function ta(t,e){var n=t.type.contextTypes;if(!n)return Gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function Ph(){je(on),je(Ht)}function Ty(t,e,n){if(Ht.current!==Gi)throw Error(Y(168));xe(Ht,e),xe(on,n)}function H0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,HP(t)||"Unknown",i));return qe({},n,r)}function kh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gi,$s=Ht.current,xe(Ht,t),xe(on,on.current),!0}function Iy(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=H0(t,e,$s),r.__reactInternalMemoizedMergedChildContext=t,je(on),je(Ht),xe(Ht,t)):je(on),xe(on,n)}var Fr=null,Ed=!1,Jf=!1;function W0(t){Fr===null?Fr=[t]:Fr.push(t)}function aN(t){Ed=!0,W0(t)}function es(){if(!Jf&&Fr!==null){Jf=!0;var t=0,e=ke;try{var n=Fr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,Ed=!1}catch(i){throw Fr!==null&&(Fr=Fr.slice(t+1)),g0(ig,es),i}finally{ke=e,Jf=!1}}return null}var Uo=[],Fo=0,Nh=null,bh=0,Cn=[],Rn=0,js=null,$r=1,jr="";function Ps(t,e){Uo[Fo++]=bh,Uo[Fo++]=Nh,Nh=t,bh=e}function K0(t,e,n){Cn[Rn++]=$r,Cn[Rn++]=jr,Cn[Rn++]=js,js=t;var r=$r;t=jr;var i=32-Xn(r)-1;r&=~(1<<i),n+=1;var s=32-Xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-Xn(e)+i|n<<i|r,jr=s+t}else $r=1<<s|n<<i|r,jr=t}function fg(t){t.return!==null&&(Ps(t,1),K0(t,1,0))}function pg(t){for(;t===Nh;)Nh=Uo[--Fo],Uo[Fo]=null,bh=Uo[--Fo],Uo[Fo]=null;for(;t===js;)js=Cn[--Rn],Cn[Rn]=null,jr=Cn[--Rn],Cn[Rn]=null,$r=Cn[--Rn],Cn[Rn]=null}var gn=null,pn=null,ze=!1,Qn=null;function q0(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ay(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,pn=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=js!==null?{id:$r,overflow:jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gn=t,pn=null,!0):!1;default:return!1}}function Jp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zp(t){if(ze){var e=pn;if(e){var n=e;if(!Ay(t,e)){if(Jp(t))throw Error(Y(418));e=Vi(n.nextSibling);var r=gn;e&&Ay(t,e)?q0(r,n):(t.flags=t.flags&-4097|2,ze=!1,gn=t)}}else{if(Jp(t))throw Error(Y(418));t.flags=t.flags&-4097|2,ze=!1,gn=t}}}function Sy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function Dc(t){if(t!==gn)return!1;if(!ze)return Sy(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gp(t.type,t.memoizedProps)),e&&(e=pn)){if(Jp(t))throw G0(),Error(Y(418));for(;e;)q0(t,e),e=Vi(e.nextSibling)}if(Sy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=Vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=gn?Vi(t.stateNode.nextSibling):null;return!0}function G0(){for(var t=pn;t;)t=Vi(t.nextSibling)}function na(){pn=gn=null,ze=!1}function mg(t){Qn===null?Qn=[t]:Qn.push(t)}var lN=ti.ReactCurrentBatchConfig;function dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Lc(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cy(t){var e=t._init;return e(t._payload)}function Q0(t){function e(C,T){if(t){var P=C.deletions;P===null?(C.deletions=[T],C.flags|=16):P.push(T)}}function n(C,T){if(!t)return null;for(;T!==null;)e(C,T),T=T.sibling;return null}function r(C,T){for(C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function i(C,T){return C=ji(C,T),C.index=0,C.sibling=null,C}function s(C,T,P){return C.index=P,t?(P=C.alternate,P!==null?(P=P.index,P<T?(C.flags|=2,T):P):(C.flags|=2,T)):(C.flags|=1048576,T)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function u(C,T,P,$){return T===null||T.tag!==6?(T=sp(P,C.mode,$),T.return=C,T):(T=i(T,P),T.return=C,T)}function c(C,T,P,$){var Q=P.type;return Q===Oo?g(C,T,P.props.children,$,P.key):T!==null&&(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ei&&Cy(Q)===T.type)?($=i(T,P.props),$.ref=dl(C,T,P),$.return=C,$):($=oh(P.type,P.key,P.props,null,C.mode,$),$.ref=dl(C,T,P),$.return=C,$)}function h(C,T,P,$){return T===null||T.tag!==4||T.stateNode.containerInfo!==P.containerInfo||T.stateNode.implementation!==P.implementation?(T=op(P,C.mode,$),T.return=C,T):(T=i(T,P.children||[]),T.return=C,T)}function g(C,T,P,$,Q){return T===null||T.tag!==7?(T=Vs(P,C.mode,$,Q),T.return=C,T):(T=i(T,P),T.return=C,T)}function _(C,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return T=sp(""+T,C.mode,P),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ac:return P=oh(T.type,T.key,T.props,null,C.mode,P),P.ref=dl(C,null,T),P.return=C,P;case bo:return T=op(T,C.mode,P),T.return=C,T;case Ei:var $=T._init;return _(C,$(T._payload),P)}if(vl(T)||al(T))return T=Vs(T,C.mode,P,null),T.return=C,T;Lc(C,T)}return null}function w(C,T,P,$){var Q=T!==null?T.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return Q!==null?null:u(C,T,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ac:return P.key===Q?c(C,T,P,$):null;case bo:return P.key===Q?h(C,T,P,$):null;case Ei:return Q=P._init,w(C,T,Q(P._payload),$)}if(vl(P)||al(P))return Q!==null?null:g(C,T,P,$,null);Lc(C,P)}return null}function b(C,T,P,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number")return C=C.get(P)||null,u(T,C,""+$,Q);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Ac:return C=C.get($.key===null?P:$.key)||null,c(T,C,$,Q);case bo:return C=C.get($.key===null?P:$.key)||null,h(T,C,$,Q);case Ei:var K=$._init;return b(C,T,P,K($._payload),Q)}if(vl($)||al($))return C=C.get(P)||null,g(T,C,$,Q,null);Lc(T,$)}return null}function x(C,T,P,$){for(var Q=null,K=null,A=T,E=T=0,S=null;A!==null&&E<P.length;E++){A.index>E?(S=A,A=null):S=A.sibling;var k=w(C,A,P[E],$);if(k===null){A===null&&(A=S);break}t&&A&&k.alternate===null&&e(C,A),T=s(k,T,E),K===null?Q=k:K.sibling=k,K=k,A=S}if(E===P.length)return n(C,A),ze&&Ps(C,E),Q;if(A===null){for(;E<P.length;E++)A=_(C,P[E],$),A!==null&&(T=s(A,T,E),K===null?Q=A:K.sibling=A,K=A);return ze&&Ps(C,E),Q}for(A=r(C,A);E<P.length;E++)S=b(A,C,E,P[E],$),S!==null&&(t&&S.alternate!==null&&A.delete(S.key===null?E:S.key),T=s(S,T,E),K===null?Q=S:K.sibling=S,K=S);return t&&A.forEach(function(O){return e(C,O)}),ze&&Ps(C,E),Q}function M(C,T,P,$){var Q=al(P);if(typeof Q!="function")throw Error(Y(150));if(P=Q.call(P),P==null)throw Error(Y(151));for(var K=Q=null,A=T,E=T=0,S=null,k=P.next();A!==null&&!k.done;E++,k=P.next()){A.index>E?(S=A,A=null):S=A.sibling;var O=w(C,A,k.value,$);if(O===null){A===null&&(A=S);break}t&&A&&O.alternate===null&&e(C,A),T=s(O,T,E),K===null?Q=O:K.sibling=O,K=O,A=S}if(k.done)return n(C,A),ze&&Ps(C,E),Q;if(A===null){for(;!k.done;E++,k=P.next())k=_(C,k.value,$),k!==null&&(T=s(k,T,E),K===null?Q=k:K.sibling=k,K=k);return ze&&Ps(C,E),Q}for(A=r(C,A);!k.done;E++,k=P.next())k=b(A,C,E,k.value,$),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?E:k.key),T=s(k,T,E),K===null?Q=k:K.sibling=k,K=k);return t&&A.forEach(function(V){return e(C,V)}),ze&&Ps(C,E),Q}function D(C,T,P,$){if(typeof P=="object"&&P!==null&&P.type===Oo&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Ac:e:{for(var Q=P.key,K=T;K!==null;){if(K.key===Q){if(Q=P.type,Q===Oo){if(K.tag===7){n(C,K.sibling),T=i(K,P.props.children),T.return=C,C=T;break e}}else if(K.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ei&&Cy(Q)===K.type){n(C,K.sibling),T=i(K,P.props),T.ref=dl(C,K,P),T.return=C,C=T;break e}n(C,K);break}else e(C,K);K=K.sibling}P.type===Oo?(T=Vs(P.props.children,C.mode,$,P.key),T.return=C,C=T):($=oh(P.type,P.key,P.props,null,C.mode,$),$.ref=dl(C,T,P),$.return=C,C=$)}return o(C);case bo:e:{for(K=P.key;T!==null;){if(T.key===K)if(T.tag===4&&T.stateNode.containerInfo===P.containerInfo&&T.stateNode.implementation===P.implementation){n(C,T.sibling),T=i(T,P.children||[]),T.return=C,C=T;break e}else{n(C,T);break}else e(C,T);T=T.sibling}T=op(P,C.mode,$),T.return=C,C=T}return o(C);case Ei:return K=P._init,D(C,T,K(P._payload),$)}if(vl(P))return x(C,T,P,$);if(al(P))return M(C,T,P,$);Lc(C,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,T!==null&&T.tag===6?(n(C,T.sibling),T=i(T,P),T.return=C,C=T):(n(C,T),T=sp(P,C.mode,$),T.return=C,C=T),o(C)):n(C,T)}return D}var ra=Q0(!0),Y0=Q0(!1),Oh=Zi(null),xh=null,$o=null,gg=null;function _g(){gg=$o=xh=null}function vg(t){var e=Oh.current;je(Oh),t._currentValue=e}function em(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Go(t,e){xh=t,gg=$o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function xn(t){var e=t._currentValue;if(gg!==t)if(t={context:t,memoizedValue:e,next:null},$o===null){if(xh===null)throw Error(Y(308));$o=t,xh.dependencies={lanes:0,firstContext:t}}else $o=$o.next=t;return e}var Os=null;function yg(t){Os===null?Os=[t]:Os.push(t)}function X0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wi=!1;function Eg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qr(t,n)}return i=r.interleaved,i===null?(e.next=e,yg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qr(t,n)}function eh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sg(t,n)}}function Ry(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dh(t,e,n,r){var i=t.updateQueue;wi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var g=t.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==o&&(u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=c))}if(s!==null){var _=i.baseState;o=0,g=h=c=null,u=s;do{var w=u.lane,b=u.eventTime;if((r&w)===w){g!==null&&(g=g.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=t,M=u;switch(w=e,b=n,M.tag){case 1:if(x=M.payload,typeof x=="function"){_=x.call(b,_,w);break e}_=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=M.payload,w=typeof x=="function"?x.call(b,_,w):x,w==null)break e;_=qe({},_,w);break e;case 2:wi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[u]:w.push(u))}else b={eventTime:b,lane:w,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(h=g=b,c=_):g=g.next=b,o|=w;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;w=u,u=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(g===null&&(c=_),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zs|=o,t.lanes=o,t.memoizedState=_}}function Py(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var Tu={},gr=Zi(Tu),tu=Zi(Tu),nu=Zi(Tu);function xs(t){if(t===Tu)throw Error(Y(174));return t}function wg(t,e){switch(xe(nu,e),xe(tu,t),xe(gr,Tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dp(e,t)}je(gr),xe(gr,e)}function ia(){je(gr),je(tu),je(nu)}function Z0(t){xs(nu.current);var e=xs(gr.current),n=Dp(e,t.type);e!==n&&(xe(tu,t),xe(gr,n))}function Tg(t){tu.current===t&&(je(gr),je(tu))}var We=Zi(0);function Lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zf=[];function Ig(){for(var t=0;t<Zf.length;t++)Zf[t]._workInProgressVersionPrimary=null;Zf.length=0}var th=ti.ReactCurrentDispatcher,ep=ti.ReactCurrentBatchConfig,Bs=0,Ke=null,ft=null,wt=null,Mh=!1,Ol=!1,ru=0,uN=0;function Ut(){throw Error(Y(321))}function Ag(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zn(t[n],e[n]))return!1;return!0}function Sg(t,e,n,r,i,s){if(Bs=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,th.current=t===null||t.memoizedState===null?fN:pN,t=n(r,i),Ol){s=0;do{if(Ol=!1,ru=0,25<=s)throw Error(Y(301));s+=1,wt=ft=null,e.updateQueue=null,th.current=mN,t=n(r,i)}while(Ol)}if(th.current=Vh,e=ft!==null&&ft.next!==null,Bs=0,wt=ft=Ke=null,Mh=!1,e)throw Error(Y(300));return t}function Cg(){var t=ru!==0;return ru=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ke.memoizedState=wt=t:wt=wt.next=t,wt}function Dn(){if(ft===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=wt===null?Ke.memoizedState:wt.next;if(e!==null)wt=e,ft=t;else{if(t===null)throw Error(Y(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},wt===null?Ke.memoizedState=wt=t:wt=wt.next=t}return wt}function iu(t,e){return typeof e=="function"?e(t):e}function tp(t){var e=Dn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,c=null,h=s;do{var g=h.lane;if((Bs&g)===g)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var _={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=_,o=r):c=c.next=_,Ke.lanes|=g,zs|=g}h=h.next}while(h!==null&&h!==s);c===null?o=r:c.next=u,Zn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,zs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function np(t){var e=Dn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Zn(s,e.memoizedState)||(sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eT(){}function tT(t,e){var n=Ke,r=Dn(),i=e(),s=!Zn(r.memoizedState,i);if(s&&(r.memoizedState=i,sn=!0),r=r.queue,Rg(iT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,su(9,rT.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(Y(349));Bs&30||nT(n,e,i)}return i}function nT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rT(t,e,n,r){e.value=n,e.getSnapshot=r,sT(e)&&oT(t)}function iT(t,e,n){return n(function(){sT(e)&&oT(t)})}function sT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zn(t,n)}catch{return!0}}function oT(t){var e=Qr(t,1);e!==null&&Jn(e,t,1,-1)}function ky(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:t},e.queue=t,t=t.dispatch=dN.bind(null,Ke,t),[e.memoizedState,t]}function su(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aT(){return Dn().memoizedState}function nh(t,e,n,r){var i=dr();Ke.flags|=t,i.memoizedState=su(1|e,n,void 0,r===void 0?null:r)}function wd(t,e,n,r){var i=Dn();r=r===void 0?null:r;var s=void 0;if(ft!==null){var o=ft.memoizedState;if(s=o.destroy,r!==null&&Ag(r,o.deps)){i.memoizedState=su(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=su(1|e,n,s,r)}function Ny(t,e){return nh(8390656,8,t,e)}function Rg(t,e){return wd(2048,8,t,e)}function lT(t,e){return wd(4,2,t,e)}function uT(t,e){return wd(4,4,t,e)}function cT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hT(t,e,n){return n=n!=null?n.concat([t]):null,wd(4,4,cT.bind(null,e,t),n)}function Pg(){}function dT(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ag(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fT(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ag(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pT(t,e,n){return Bs&21?(Zn(n,e)||(n=y0(),Ke.lanes|=n,zs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function cN(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=ep.transition;ep.transition={};try{t(!1),e()}finally{ke=n,ep.transition=r}}function mT(){return Dn().memoizedState}function hN(t,e,n){var r=$i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gT(t))_T(e,n);else if(n=X0(t,e,n,r),n!==null){var i=Zt();Jn(n,t,r,i),vT(n,e,r)}}function dN(t,e,n){var r=$i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gT(t))_T(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,Zn(u,o)){var c=e.interleaved;c===null?(i.next=i,yg(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=X0(t,e,i,r),n!==null&&(i=Zt(),Jn(n,t,r,i),vT(n,e,r))}}function gT(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function _T(t,e){Ol=Mh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sg(t,n)}}var Vh={readContext:xn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},fN={readContext:xn,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:Ny,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nh(4194308,4,cT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nh(4194308,4,t,e)},useInsertionEffect:function(t,e){return nh(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hN.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:ky,useDebugValue:Pg,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=ky(!1),e=t[0];return t=cN.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=dr();if(ze){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Tt===null)throw Error(Y(349));Bs&30||nT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ny(iT.bind(null,r,s,t),[t]),r.flags|=2048,su(9,rT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=dr(),e=Tt.identifierPrefix;if(ze){var n=jr,r=$r;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ru++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pN={readContext:xn,useCallback:dT,useContext:xn,useEffect:Rg,useImperativeHandle:hT,useInsertionEffect:lT,useLayoutEffect:uT,useMemo:fT,useReducer:tp,useRef:aT,useState:function(){return tp(iu)},useDebugValue:Pg,useDeferredValue:function(t){var e=Dn();return pT(e,ft.memoizedState,t)},useTransition:function(){var t=tp(iu)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:eT,useSyncExternalStore:tT,useId:mT,unstable_isNewReconciler:!1},mN={readContext:xn,useCallback:dT,useContext:xn,useEffect:Rg,useImperativeHandle:hT,useInsertionEffect:lT,useLayoutEffect:uT,useMemo:fT,useReducer:np,useRef:aT,useState:function(){return np(iu)},useDebugValue:Pg,useDeferredValue:function(t){var e=Dn();return ft===null?e.memoizedState=t:pT(e,ft.memoizedState,t)},useTransition:function(){var t=np(iu)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:eT,useSyncExternalStore:tT,useId:mT,unstable_isNewReconciler:!1};function qn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Td={isMounted:function(t){return(t=t._reactInternals)?Zs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=$i(t),s=Hr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(Jn(e,t,i,r),eh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=$i(t),s=Hr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(Jn(e,t,i,r),eh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=$i(t),i=Hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ui(t,i,r),e!==null&&(Jn(e,t,r,n),eh(e,t,r))}};function by(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xl(n,r)||!Xl(i,s):!0}function yT(t,e,n){var r=!1,i=Gi,s=e.contextType;return typeof s=="object"&&s!==null?s=xn(s):(i=an(e)?$s:Ht.current,r=e.contextTypes,s=(r=r!=null)?ta(t,i):Gi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Oy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Td.enqueueReplaceState(e,e.state,null)}function nm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Eg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xn(s):(s=an(e)?$s:Ht.current,i.context=ta(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Td.enqueueReplaceState(i,i.state,null),Dh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function sa(t,e){try{var n="",r=e;do n+=zP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function rp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gN=typeof WeakMap=="function"?WeakMap:Map;function ET(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fh||(Fh=!0,fm=r),rm(t,e)},n}function wT(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rm(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=NN.bind(null,t,e,n),e.then(t,t))}function Dy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ly(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Ui(n,e,1))),n.lanes|=1),t)}var _N=ti.ReactCurrentOwner,sn=!1;function Xt(t,e,n,r){e.child=t===null?Y0(e,null,n,r):ra(e,t.child,n,r)}function My(t,e,n,r,i){n=n.render;var s=e.ref;return Go(e,i),r=Sg(t,e,n,r,s,i),n=Cg(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(ze&&n&&fg(e),e.flags|=1,Xt(t,e,r,i),e.child)}function Vy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Mg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,TT(t,e,s,r,i)):(t=oh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xl,n(o,r)&&t.ref===e.ref)return Yr(t,e,i)}return e.flags|=1,t=ji(s,r),t.ref=e.ref,t.return=e,e.child=t}function TT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xl(s,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Yr(t,e,i)}return im(t,e,n,r,i)}function IT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Bo,fn),fn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(Bo,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(Bo,fn),fn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xe(Bo,fn),fn|=r;return Xt(t,e,i,n),e.child}function AT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function im(t,e,n,r,i){var s=an(n)?$s:Ht.current;return s=ta(e,s),Go(e,i),n=Sg(t,e,n,r,s,i),r=Cg(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(ze&&r&&fg(e),e.flags|=1,Xt(t,e,n,i),e.child)}function Uy(t,e,n,r,i){if(an(n)){var s=!0;kh(e)}else s=!1;if(Go(e,i),e.stateNode===null)rh(t,e),yT(e,n,r),nm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=xn(h):(h=an(n)?$s:Ht.current,h=ta(e,h));var g=n.getDerivedStateFromProps,_=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==h)&&Oy(e,o,r,h),wi=!1;var w=e.memoizedState;o.state=w,Dh(e,r,o,i),c=e.memoizedState,u!==r||w!==c||on.current||wi?(typeof g=="function"&&(tm(e,n,g,r),c=e.memoizedState),(u=wi||by(e,n,u,r,w,c,h))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,J0(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:qn(e.type,u),o.props=h,_=e.pendingProps,w=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xn(c):(c=an(n)?$s:Ht.current,c=ta(e,c));var b=n.getDerivedStateFromProps;(g=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==_||w!==c)&&Oy(e,o,r,c),wi=!1,w=e.memoizedState,o.state=w,Dh(e,r,o,i);var x=e.memoizedState;u!==_||w!==x||on.current||wi?(typeof b=="function"&&(tm(e,n,b,r),x=e.memoizedState),(h=wi||by(e,n,h,r,w,x,c)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return sm(t,e,n,r,s,i)}function sm(t,e,n,r,i,s){AT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Iy(e,n,!1),Yr(t,e,s);r=e.stateNode,_N.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ra(e,t.child,null,s),e.child=ra(e,null,u,s)):Xt(t,e,u,s),e.memoizedState=r.state,i&&Iy(e,n,!0),e.child}function ST(t){var e=t.stateNode;e.pendingContext?Ty(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ty(t,e.context,!1),wg(t,e.containerInfo)}function Fy(t,e,n,r,i){return na(),mg(i),e.flags|=256,Xt(t,e,n,r),e.child}var om={dehydrated:null,treeContext:null,retryLane:0};function am(t){return{baseLanes:t,cachePool:null,transitions:null}}function CT(t,e,n){var r=e.pendingProps,i=We.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(We,i&1),t===null)return Zp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sd(o,r,0,null),t=Vs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=am(n),e.memoizedState=om,t):kg(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return vN(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ji(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=ji(u,s):(s=Vs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?am(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=om,r}return s=t.child,t=s.sibling,r=ji(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kg(t,e){return e=Sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mc(t,e,n,r){return r!==null&&mg(r),ra(e,t.child,null,n),t=kg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=rp(Error(Y(422))),Mc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Sd({mode:"visible",children:r.children},i,0,null),s=Vs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ra(e,t.child,null,o),e.child.memoizedState=am(o),e.memoizedState=om,s);if(!(e.mode&1))return Mc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(Y(419)),r=rp(s,r,void 0),Mc(t,e,o,r)}if(u=(o&t.childLanes)!==0,sn||u){if(r=Tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qr(t,i),Jn(r,t,i,-1))}return Lg(),r=rp(Error(Y(421))),Mc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pn=Vi(i.nextSibling),gn=e,ze=!0,Qn=null,t!==null&&(Cn[Rn++]=$r,Cn[Rn++]=jr,Cn[Rn++]=js,$r=t.id,jr=t.overflow,js=e),e=kg(e,r.children),e.flags|=4096,e)}function $y(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),em(t.return,e,n)}function ip(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function RT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$y(t,n,e);else if(t.tag===19)$y(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(We,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ip(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ip(e,!0,n,null,s);break;case"together":ip(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yN(t,e,n){switch(e.tag){case 3:ST(e),na();break;case 5:Z0(e);break;case 1:an(e.type)&&kh(e);break;case 4:wg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xe(Oh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?CT(t,e,n):(xe(We,We.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);xe(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,IT(t,e,n)}return Yr(t,e,n)}var PT,lm,kT,NT;PT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lm=function(){};kT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xs(gr.current);var s=null;switch(n){case"input":i=Np(t,i),r=Np(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=xp(t,i),r=xp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rh)}Lp(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Hl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Hl.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Fe("scroll",t),s||u===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};NT=function(t,e,n,r){n!==r&&(e.flags|=4)};function fl(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EN(t,e,n){var r=e.pendingProps;switch(pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return an(e.type)&&Ph(),Ft(e),null;case 3:return r=e.stateNode,ia(),je(on),je(Ht),Ig(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(gm(Qn),Qn=null))),lm(t,e),Ft(e),null;case 5:Tg(e);var i=xs(nu.current);if(n=e.type,t!==null&&e.stateNode!=null)kT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Ft(e),null}if(t=xs(gr.current),Dc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fr]=e,r[eu]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<El.length;i++)Fe(El[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Qv(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":Xv(r,s),Fe("invalid",r)}Lp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&xc(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&xc(r.textContent,u,t),i=["children",""+u]):Hl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Sc(r),Yv(r,s,!0);break;case"textarea":Sc(r),Jv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=i0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fr]=e,t[eu]=r,PT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mp(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<El.length;i++)Fe(El[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":Qv(t,r),i=Np(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":Xv(t,r),i=xp(t,r),Fe("invalid",t);break;default:i=r}Lp(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?a0(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&s0(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wl(t,c):typeof c=="number"&&Wl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Fe("scroll",t):c!=null&&Zm(t,s,c,o))}switch(n){case"input":Sc(t),Yv(t,r,!1);break;case"textarea":Sc(t),Jv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ho(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)NT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=xs(nu.current),xs(gr.current),Dc(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(s=r.nodeValue!==n)&&(t=gn,t!==null))switch(t.tag){case 3:xc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Ft(e),null;case 13:if(je(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&pn!==null&&e.mode&1&&!(e.flags&128))G0(),na(),e.flags|=98560,s=!1;else if(s=Dc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[fr]=e}else na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else Qn!==null&&(gm(Qn),Qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?pt===0&&(pt=3):Lg())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return ia(),lm(t,e),t===null&&Jl(e.stateNode.containerInfo),Ft(e),null;case 10:return vg(e.type._context),Ft(e),null;case 17:return an(e.type)&&Ph(),Ft(e),null;case 19:if(je(We),s=e.memoizedState,s===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)fl(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lh(t),o!==null){for(e.flags|=128,fl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(We,We.current&1|2),e.child}t=t.sibling}s.tail!==null&&rt()>oa&&(e.flags|=128,r=!0,fl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ze)return Ft(e),null}else 2*rt()-s.renderingStartTime>oa&&n!==1073741824&&(e.flags|=128,r=!0,fl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,n=We.current,xe(We,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return Dg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function wN(t,e){switch(pg(e),e.tag){case 1:return an(e.type)&&Ph(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ia(),je(on),je(Ht),Ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tg(e),null;case 13:if(je(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(We),null;case 4:return ia(),null;case 10:return vg(e.type._context),null;case 22:case 23:return Dg(),null;case 24:return null;default:return null}}var Vc=!1,Bt=!1,TN=typeof WeakSet=="function"?WeakSet:Set,ee=null;function jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function um(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var jy=!1;function IN(t,e){if(Kp=Ah,t=L0(),dg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,h=0,g=0,_=t,w=null;t:for(;;){for(var b;_!==n||i!==0&&_.nodeType!==3||(u=o+i),_!==s||r!==0&&_.nodeType!==3||(c=o+r),_.nodeType===3&&(o+=_.nodeValue.length),(b=_.firstChild)!==null;)w=_,_=b;for(;;){if(_===t)break t;if(w===n&&++h===i&&(u=o),w===s&&++g===r&&(c=o),(b=_.nextSibling)!==null)break;_=w,w=_.parentNode}_=b}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qp={focusedElem:t,selectionRange:n},Ah=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var M=x.memoizedProps,D=x.memoizedState,C=e.stateNode,T=C.getSnapshotBeforeUpdate(e.elementType===e.type?M:qn(e.type,M),D);C.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch($){Xe(e,e.return,$)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return x=jy,jy=!1,x}function xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&um(e,n,s)}i=i.next}while(i!==r)}}function Id(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bT(t){var e=t.alternate;e!==null&&(t.alternate=null,bT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[eu],delete e[Yp],delete e[sN],delete e[oN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OT(t){return t.tag===5||t.tag===3||t.tag===4}function By(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rh));else if(r!==4&&(t=t.child,t!==null))for(hm(t,e,n),t=t.sibling;t!==null;)hm(t,e,n),t=t.sibling}function dm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dm(t,e,n),t=t.sibling;t!==null;)dm(t,e,n),t=t.sibling}var Ct=null,Gn=!1;function _i(t,e,n){for(n=n.child;n!==null;)xT(t,e,n),n=n.sibling}function xT(t,e,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(md,n)}catch{}switch(n.tag){case 5:Bt||jo(n,e);case 6:var r=Ct,i=Gn;Ct=null,_i(t,e,n),Ct=r,Gn=i,Ct!==null&&(Gn?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Gn?(t=Ct,n=n.stateNode,t.nodeType===8?Xf(t.parentNode,n):t.nodeType===1&&Xf(t,n),Ql(t)):Xf(Ct,n.stateNode));break;case 4:r=Ct,i=Gn,Ct=n.stateNode.containerInfo,Gn=!0,_i(t,e,n),Ct=r,Gn=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&um(n,e,o),i=i.next}while(i!==r)}_i(t,e,n);break;case 1:if(!Bt&&(jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Xe(n,e,u)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,_i(t,e,n),Bt=r):_i(t,e,n);break;default:_i(t,e,n)}}function zy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TN),e.forEach(function(r){var i=ON.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Ct=u.stateNode,Gn=!1;break e;case 3:Ct=u.stateNode.containerInfo,Gn=!0;break e;case 4:Ct=u.stateNode.containerInfo,Gn=!0;break e}u=u.return}if(Ct===null)throw Error(Y(160));xT(s,o,i),Ct=null,Gn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){Xe(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DT(e,t),e=e.sibling}function DT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),hr(t),r&4){try{xl(3,t,t.return),Id(3,t)}catch(M){Xe(t,t.return,M)}try{xl(5,t,t.return)}catch(M){Xe(t,t.return,M)}}break;case 1:Kn(e,t),hr(t),r&512&&n!==null&&jo(n,n.return);break;case 5:if(Kn(e,t),hr(t),r&512&&n!==null&&jo(n,n.return),t.flags&32){var i=t.stateNode;try{Wl(i,"")}catch(M){Xe(t,t.return,M)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&n0(i,s),Mp(u,o);var h=Mp(u,s);for(o=0;o<c.length;o+=2){var g=c[o],_=c[o+1];g==="style"?a0(i,_):g==="dangerouslySetInnerHTML"?s0(i,_):g==="children"?Wl(i,_):Zm(i,g,_,h)}switch(u){case"input":bp(i,s);break;case"textarea":r0(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?Ho(i,!!s.multiple,b,!1):w!==!!s.multiple&&(s.defaultValue!=null?Ho(i,!!s.multiple,s.defaultValue,!0):Ho(i,!!s.multiple,s.multiple?[]:"",!1))}i[eu]=s}catch(M){Xe(t,t.return,M)}}break;case 6:if(Kn(e,t),hr(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(M){Xe(t,t.return,M)}}break;case 3:if(Kn(e,t),hr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ql(e.containerInfo)}catch(M){Xe(t,t.return,M)}break;case 4:Kn(e,t),hr(t);break;case 13:Kn(e,t),hr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Og=rt())),r&4&&zy(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(h=Bt)||g,Kn(e,t),Bt=h):Kn(e,t),hr(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!g&&t.mode&1)for(ee=t,g=t.child;g!==null;){for(_=ee=g;ee!==null;){switch(w=ee,b=w.child,w.tag){case 0:case 11:case 14:case 15:xl(4,w,w.return);break;case 1:jo(w,w.return);var x=w.stateNode;if(typeof x.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(M){Xe(r,n,M)}}break;case 5:jo(w,w.return);break;case 22:if(w.memoizedState!==null){Wy(_);continue}}b!==null?(b.return=w,ee=b):Wy(_)}g=g.sibling}e:for(g=null,_=t;;){if(_.tag===5){if(g===null){g=_;try{i=_.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=_.stateNode,c=_.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=o0("display",o))}catch(M){Xe(t,t.return,M)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=h?"":_.memoizedProps}catch(M){Xe(t,t.return,M)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Kn(e,t),hr(t),r&4&&zy(t);break;case 21:break;default:Kn(e,t),hr(t)}}function hr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OT(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wl(i,""),r.flags&=-33);var s=By(t);dm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=By(t);hm(t,u,o);break;default:throw Error(Y(161))}}catch(c){Xe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AN(t,e,n){ee=t,LT(t)}function LT(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vc;if(!o){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Bt;u=Vc;var h=Bt;if(Vc=o,(Bt=c)&&!h)for(ee=i;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?Ky(i):c!==null?(c.return=o,ee=c):Ky(i);for(;s!==null;)ee=s,LT(s),s=s.sibling;ee=i,Vc=u,Bt=h}Hy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):Hy(t)}}function Hy(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||Id(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Py(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Py(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&Ql(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Bt||e.flags&512&&cm(e)}catch(w){Xe(e,e.return,w)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Wy(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Ky(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Id(4,e)}catch(c){Xe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Xe(e,i,c)}}var s=e.return;try{cm(e)}catch(c){Xe(e,s,c)}break;case 5:var o=e.return;try{cm(e)}catch(c){Xe(e,o,c)}}}catch(c){Xe(e,e.return,c)}if(e===t){ee=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ee=u;break}ee=e.return}}var SN=Math.ceil,Uh=ti.ReactCurrentDispatcher,Ng=ti.ReactCurrentOwner,Nn=ti.ReactCurrentBatchConfig,Te=0,Tt=null,lt=null,kt=0,fn=0,Bo=Zi(0),pt=0,ou=null,zs=0,Ad=0,bg=0,Dl=null,rn=null,Og=0,oa=1/0,Ur=null,Fh=!1,fm=null,Fi=null,Uc=!1,Ni=null,$h=0,Ll=0,pm=null,ih=-1,sh=0;function Zt(){return Te&6?rt():ih!==-1?ih:ih=rt()}function $i(t){return t.mode&1?Te&2&&kt!==0?kt&-kt:lN.transition!==null?(sh===0&&(sh=y0()),sh):(t=ke,t!==0||(t=window.event,t=t===void 0?16:C0(t.type)),t):1}function Jn(t,e,n,r){if(50<Ll)throw Ll=0,pm=null,Error(Y(185));yu(t,n,r),(!(Te&2)||t!==Tt)&&(t===Tt&&(!(Te&2)&&(Ad|=n),pt===4&&Ii(t,kt)),ln(t,r),n===1&&Te===0&&!(e.mode&1)&&(oa=rt()+500,Ed&&es()))}function ln(t,e){var n=t.callbackNode;lk(t,e);var r=Ih(t,t===Tt?kt:0);if(r===0)n!==null&&ty(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ty(n),e===1)t.tag===0?aN(qy.bind(null,t)):W0(qy.bind(null,t)),rN(function(){!(Te&6)&&es()}),n=null;else{switch(E0(r)){case 1:n=ig;break;case 4:n=_0;break;case 16:n=Th;break;case 536870912:n=v0;break;default:n=Th}n=zT(n,MT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function MT(t,e){if(ih=-1,sh=0,Te&6)throw Error(Y(327));var n=t.callbackNode;if(Qo()&&t.callbackNode!==n)return null;var r=Ih(t,t===Tt?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jh(t,r);else{e=r;var i=Te;Te|=2;var s=UT();(Tt!==t||kt!==e)&&(Ur=null,oa=rt()+500,Ms(t,e));do try{PN();break}catch(u){VT(t,u)}while(!0);_g(),Uh.current=s,Te=i,lt!==null?e=0:(Tt=null,kt=0,e=pt)}if(e!==0){if(e===2&&(i=jp(t),i!==0&&(r=i,e=mm(t,i))),e===1)throw n=ou,Ms(t,0),Ii(t,r),ln(t,rt()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!CN(i)&&(e=jh(t,r),e===2&&(s=jp(t),s!==0&&(r=s,e=mm(t,s))),e===1))throw n=ou,Ms(t,0),Ii(t,r),ln(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:ks(t,rn,Ur);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=Og+500-rt(),10<e)){if(Ih(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qp(ks.bind(null,t,rn,Ur),e);break}ks(t,rn,Ur);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SN(r/1960))-r,10<r){t.timeoutHandle=Qp(ks.bind(null,t,rn,Ur),r);break}ks(t,rn,Ur);break;case 5:ks(t,rn,Ur);break;default:throw Error(Y(329))}}}return ln(t,rt()),t.callbackNode===n?MT.bind(null,t):null}function mm(t,e){var n=Dl;return t.current.memoizedState.isDehydrated&&(Ms(t,e).flags|=256),t=jh(t,e),t!==2&&(e=rn,rn=n,e!==null&&gm(e)),t}function gm(t){rn===null?rn=t:rn.push.apply(rn,t)}function CN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~bg,e&=~Ad,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function qy(t){if(Te&6)throw Error(Y(327));Qo();var e=Ih(t,0);if(!(e&1))return ln(t,rt()),null;var n=jh(t,e);if(t.tag!==0&&n===2){var r=jp(t);r!==0&&(e=r,n=mm(t,r))}if(n===1)throw n=ou,Ms(t,0),Ii(t,e),ln(t,rt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ks(t,rn,Ur),ln(t,rt()),null}function xg(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(oa=rt()+500,Ed&&es())}}function Hs(t){Ni!==null&&Ni.tag===0&&!(Te&6)&&Qo();var e=Te;Te|=1;var n=Nn.transition,r=ke;try{if(Nn.transition=null,ke=1,t)return t()}finally{ke=r,Nn.transition=n,Te=e,!(Te&6)&&es()}}function Dg(){fn=Bo.current,je(Bo)}function Ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nN(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ph();break;case 3:ia(),je(on),je(Ht),Ig();break;case 5:Tg(r);break;case 4:ia();break;case 13:je(We);break;case 19:je(We);break;case 10:vg(r.type._context);break;case 22:case 23:Dg()}n=n.return}if(Tt=t,lt=t=ji(t.current,null),kt=fn=e,pt=0,ou=null,bg=Ad=zs=0,rn=Dl=null,Os!==null){for(e=0;e<Os.length;e++)if(n=Os[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Os=null}return t}function VT(t,e){do{var n=lt;try{if(_g(),th.current=Vh,Mh){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mh=!1}if(Bs=0,wt=ft=Ke=null,Ol=!1,ru=0,Ng.current=null,n===null||n.return===null){pt=1,ou=e,lt=null;break}e:{var s=t,o=n.return,u=n,c=e;if(e=kt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,g=u,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=Dy(o);if(b!==null){b.flags&=-257,Ly(b,o,u,s,e),b.mode&1&&xy(s,h,e),e=b,c=h;var x=e.updateQueue;if(x===null){var M=new Set;M.add(c),e.updateQueue=M}else x.add(c);break e}else{if(!(e&1)){xy(s,h,e),Lg();break e}c=Error(Y(426))}}else if(ze&&u.mode&1){var D=Dy(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Ly(D,o,u,s,e),mg(sa(c,u));break e}}s=c=sa(c,u),pt!==4&&(pt=2),Dl===null?Dl=[s]:Dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=ET(s,c,e);Ry(s,C);break e;case 1:u=c;var T=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Fi===null||!Fi.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var $=wT(s,u,e);Ry(s,$);break e}}s=s.return}while(s!==null)}$T(n)}catch(Q){e=Q,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function UT(){var t=Uh.current;return Uh.current=Vh,t===null?Vh:t}function Lg(){(pt===0||pt===3||pt===2)&&(pt=4),Tt===null||!(zs&268435455)&&!(Ad&268435455)||Ii(Tt,kt)}function jh(t,e){var n=Te;Te|=2;var r=UT();(Tt!==t||kt!==e)&&(Ur=null,Ms(t,e));do try{RN();break}catch(i){VT(t,i)}while(!0);if(_g(),Te=n,Uh.current=r,lt!==null)throw Error(Y(261));return Tt=null,kt=0,pt}function RN(){for(;lt!==null;)FT(lt)}function PN(){for(;lt!==null&&!ZP();)FT(lt)}function FT(t){var e=BT(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?$T(t):lt=e,Ng.current=null}function $T(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wN(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,lt=null;return}}else if(n=EN(n,e,fn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);pt===0&&(pt=5)}function ks(t,e,n){var r=ke,i=Nn.transition;try{Nn.transition=null,ke=1,kN(t,e,n,r)}finally{Nn.transition=i,ke=r}return null}function kN(t,e,n,r){do Qo();while(Ni!==null);if(Te&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uk(t,s),t===Tt&&(lt=Tt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uc||(Uc=!0,zT(Th,function(){return Qo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nn.transition,Nn.transition=null;var o=ke;ke=1;var u=Te;Te|=4,Ng.current=null,IN(t,n),DT(n,t),Qk(qp),Ah=!!Kp,qp=Kp=null,t.current=n,AN(n),ek(),Te=u,ke=o,Nn.transition=s}else t.current=n;if(Uc&&(Uc=!1,Ni=t,$h=i),s=t.pendingLanes,s===0&&(Fi=null),rk(n.stateNode),ln(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fh)throw Fh=!1,t=fm,fm=null,t;return $h&1&&t.tag!==0&&Qo(),s=t.pendingLanes,s&1?t===pm?Ll++:(Ll=0,pm=t):Ll=0,es(),null}function Qo(){if(Ni!==null){var t=E0($h),e=Nn.transition,n=ke;try{if(Nn.transition=null,ke=16>t?16:t,Ni===null)var r=!1;else{if(t=Ni,Ni=null,$h=0,Te&6)throw Error(Y(331));var i=Te;for(Te|=4,ee=t.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(ee=h;ee!==null;){var g=ee;switch(g.tag){case 0:case 11:case 15:xl(8,g,s)}var _=g.child;if(_!==null)_.return=g,ee=_;else for(;ee!==null;){g=ee;var w=g.sibling,b=g.return;if(bT(g),g===h){ee=null;break}if(w!==null){w.return=b,ee=w;break}ee=b}}}var x=s.alternate;if(x!==null){var M=x.child;if(M!==null){x.child=null;do{var D=M.sibling;M.sibling=null,M=D}while(M!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xl(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,ee=C;break e}ee=s.return}}var T=t.current;for(ee=T;ee!==null;){o=ee;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,ee=P;else e:for(o=T;ee!==null;){if(u=ee,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Id(9,u)}}catch(Q){Xe(u,u.return,Q)}if(u===o){ee=null;break e}var $=u.sibling;if($!==null){$.return=u.return,ee=$;break e}ee=u.return}}if(Te=i,es(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(md,t)}catch{}r=!0}return r}finally{ke=n,Nn.transition=e}}return!1}function Gy(t,e,n){e=sa(n,e),e=ET(t,e,1),t=Ui(t,e,1),e=Zt(),t!==null&&(yu(t,1,e),ln(t,e))}function Xe(t,e,n){if(t.tag===3)Gy(t,t,n);else for(;e!==null;){if(e.tag===3){Gy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=sa(n,t),t=wT(e,t,1),e=Ui(e,t,1),t=Zt(),e!==null&&(yu(e,1,t),ln(e,t));break}}e=e.return}}function NN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(kt&n)===n&&(pt===4||pt===3&&(kt&130023424)===kt&&500>rt()-Og?Ms(t,0):bg|=n),ln(t,e)}function jT(t,e){e===0&&(t.mode&1?(e=Pc,Pc<<=1,!(Pc&130023424)&&(Pc=4194304)):e=1);var n=Zt();t=Qr(t,e),t!==null&&(yu(t,e,n),ln(t,n))}function bN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jT(t,n)}function ON(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),jT(t,n)}var BT;BT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,yN(t,e,n);sn=!!(t.flags&131072)}else sn=!1,ze&&e.flags&1048576&&K0(e,bh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rh(t,e),t=e.pendingProps;var i=ta(e,Ht.current);Go(e,n),i=Sg(null,e,r,t,i,n);var s=Cg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(s=!0,kh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Eg(e),i.updater=Td,e.stateNode=i,i._reactInternals=e,nm(e,r,t,n),e=sm(null,e,r,!0,s,n)):(e.tag=0,ze&&s&&fg(e),Xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DN(r),t=qn(r,t),i){case 0:e=im(null,e,r,t,n);break e;case 1:e=Uy(null,e,r,t,n);break e;case 11:e=My(null,e,r,t,n);break e;case 14:e=Vy(null,e,r,qn(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),im(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Uy(t,e,r,i,n);case 3:e:{if(ST(e),t===null)throw Error(Y(387));r=e.pendingProps,s=e.memoizedState,i=s.element,J0(t,e),Dh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=sa(Error(Y(423)),e),e=Fy(t,e,r,n,i);break e}else if(r!==i){i=sa(Error(Y(424)),e),e=Fy(t,e,r,n,i);break e}else for(pn=Vi(e.stateNode.containerInfo.firstChild),gn=e,ze=!0,Qn=null,n=Y0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(na(),r===i){e=Yr(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return Z0(e),t===null&&Zp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Gp(r,i)?o=null:s!==null&&Gp(r,s)&&(e.flags|=32),AT(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&Zp(e),null;case 13:return CT(t,e,n);case 4:return wg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ra(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),My(t,e,r,i,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xe(Oh,r._currentValue),r._currentValue=o,s!==null)if(Zn(s.value,o)){if(s.children===i.children&&!on.current){e=Yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Hr(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?c.next=c:(c.next=g.next,g.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),em(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Y(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),em(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Go(e,n),i=xn(i),r=r(i),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,i=qn(r,e.pendingProps),i=qn(r.type,i),Vy(t,e,r,i,n);case 15:return TT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),rh(t,e),e.tag=1,an(r)?(t=!0,kh(e)):t=!1,Go(e,n),yT(e,r,i),nm(e,r,i,n),sm(null,e,r,!0,t,n);case 19:return RT(t,e,n);case 22:return IT(t,e,n)}throw Error(Y(156,e.tag))};function zT(t,e){return g0(t,e)}function xN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new xN(t,e,n,r)}function Mg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DN(t){if(typeof t=="function")return Mg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tg)return 11;if(t===ng)return 14}return 2}function ji(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Mg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oo:return Vs(n.children,i,s,e);case eg:o=8,i|=8;break;case Cp:return t=kn(12,n,e,i|2),t.elementType=Cp,t.lanes=s,t;case Rp:return t=kn(13,n,e,i),t.elementType=Rp,t.lanes=s,t;case Pp:return t=kn(19,n,e,i),t.elementType=Pp,t.lanes=s,t;case Zw:return Sd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xw:o=10;break e;case Jw:o=9;break e;case tg:o=11;break e;case ng:o=14;break e;case Ei:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=kn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vs(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function Sd(t,e,n,r){return t=kn(22,t,r,e),t.elementType=Zw,t.lanes=n,t.stateNode={isHidden:!1},t}function sp(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function op(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$f(0),this.expirationTimes=$f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vg(t,e,n,r,i,s,o,u,c){return t=new LN(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eg(s),t}function MN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HT(t){if(!t)return Gi;t=t._reactInternals;e:{if(Zs(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(an(n))return H0(t,n,e)}return e}function WT(t,e,n,r,i,s,o,u,c){return t=Vg(n,r,!0,t,i,s,o,u,c),t.context=HT(null),n=t.current,r=Zt(),i=$i(n),s=Hr(r,i),s.callback=e??null,Ui(n,s,i),t.current.lanes=i,yu(t,i,r),ln(t,r),t}function Cd(t,e,n,r){var i=e.current,s=Zt(),o=$i(i);return n=HT(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ui(i,e,o),t!==null&&(Jn(t,i,o,s),eh(t,i,o)),o}function Bh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ug(t,e){Qy(t,e),(t=t.alternate)&&Qy(t,e)}function VN(){return null}var KT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fg(t){this._internalRoot=t}Rd.prototype.render=Fg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Cd(t,e,null,null)};Rd.prototype.unmount=Fg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hs(function(){Cd(null,t,null,null)}),e[Gr]=null}};function Rd(t){this._internalRoot=t}Rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=I0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ti.length&&e!==0&&e<Ti[n].priority;n++);Ti.splice(n,0,t),n===0&&S0(t)}};function $g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yy(){}function UN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Bh(o);s.call(h)}}var o=WT(e,r,t,0,null,!1,!1,"",Yy);return t._reactRootContainer=o,t[Gr]=o.current,Jl(t.nodeType===8?t.parentNode:t),Hs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=Bh(c);u.call(h)}}var c=Vg(t,0,!1,null,null,!1,!1,"",Yy);return t._reactRootContainer=c,t[Gr]=c.current,Jl(t.nodeType===8?t.parentNode:t),Hs(function(){Cd(e,c,n,r)}),c}function kd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var c=Bh(o);u.call(c)}}Cd(e,o,t,i)}else o=UN(n,e,t,i,r);return Bh(o)}w0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yl(e.pendingLanes);n!==0&&(sg(e,n|1),ln(e,rt()),!(Te&6)&&(oa=rt()+500,es()))}break;case 13:Hs(function(){var r=Qr(t,1);if(r!==null){var i=Zt();Jn(r,t,1,i)}}),Ug(t,1)}};og=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=Zt();Jn(e,t,134217728,n)}Ug(t,134217728)}};T0=function(t){if(t.tag===13){var e=$i(t),n=Qr(t,e);if(n!==null){var r=Zt();Jn(n,t,e,r)}Ug(t,e)}};I0=function(){return ke};A0=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Up=function(t,e,n){switch(e){case"input":if(bp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yd(r);if(!i)throw Error(Y(90));t0(r),bp(r,i)}}}break;case"textarea":r0(t,n);break;case"select":e=n.value,e!=null&&Ho(t,!!n.multiple,e,!1)}};c0=xg;h0=Hs;var FN={usingClientEntryPoint:!1,Events:[wu,Mo,yd,l0,u0,xg]},pl={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$N={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=p0(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||VN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{md=Fc.inject($N),mr=Fc}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FN;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$g(e))throw Error(Y(200));return MN(t,e,null,n)};vn.createRoot=function(t,e){if(!$g(t))throw Error(Y(299));var n=!1,r="",i=KT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vg(t,1,!1,null,null,n,!1,r,i),t[Gr]=e.current,Jl(t.nodeType===8?t.parentNode:t),new Fg(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=p0(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return Hs(t)};vn.hydrate=function(t,e,n){if(!Pd(e))throw Error(Y(200));return kd(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!$g(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=KT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WT(e,null,t,1,n??null,i,!1,s,o),t[Gr]=e.current,Jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rd(e)};vn.render=function(t,e,n){if(!Pd(e))throw Error(Y(200));return kd(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Pd(t))throw Error(Y(40));return t._reactRootContainer?(Hs(function(){kd(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};vn.unstable_batchedUpdates=xg;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pd(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return kd(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function qT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qT)}catch(t){console.error(t)}}qT(),qw.exports=vn;var jN=qw.exports,Xy=jN;Ap.createRoot=Xy.createRoot,Ap.hydrateRoot=Xy.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const Jy="popstate";function BN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:u}=r.location;return _m("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zh(i)}return HN(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function GT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zN(){return Math.random().toString(36).substr(2,8)}function Zy(t,e){return{usr:t.state,key:t.key,idx:e}}function _m(t,e,n,r){return n===void 0&&(n=null),au({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_a(e):e,{state:n,key:e&&e.key||r||zN()})}function zh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=bi.Pop,c=null,h=g();h==null&&(h=0,o.replaceState(au({},o.state,{idx:h}),""));function g(){return(o.state||{idx:null}).idx}function _(){u=bi.Pop;let D=g(),C=D==null?null:D-h;h=D,c&&c({action:u,location:M.location,delta:C})}function w(D,C){u=bi.Push;let T=_m(M.location,D,C);h=g()+1;let P=Zy(T,h),$=M.createHref(T);try{o.pushState(P,"",$)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign($)}s&&c&&c({action:u,location:M.location,delta:1})}function b(D,C){u=bi.Replace;let T=_m(M.location,D,C);h=g();let P=Zy(T,h),$=M.createHref(T);o.replaceState(P,"",$),s&&c&&c({action:u,location:M.location,delta:0})}function x(D){let C=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof D=="string"?D:zh(D);return T=T.replace(/ $/,"%20"),ct(C,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,C)}let M={get action(){return u},get location(){return t(i,o)},listen(D){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Jy,_),c=D,()=>{i.removeEventListener(Jy,_),c=null}},createHref(D){return e(i,D)},createURL:x,encodeLocation(D){let C=x(D);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:b,go(D){return o.go(D)}};return M}var eE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eE||(eE={}));function WN(t,e,n){return n===void 0&&(n="/"),KN(t,e,n,!1)}function KN(t,e,n,r){let i=typeof e=="string"?_a(e):e,s=jg(i.pathname||"/",n);if(s==null)return null;let o=QT(t);qN(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let h=ib(s);u=nb(o[c],h,r)}return u}function QT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Bi([r,c.relativePath]),g=n.concat(c);s.children&&s.children.length>0&&(ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),QT(s.children,e,g,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:eb(h,s.index),routesMeta:g})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let c of YT(s.path))i(s,o,c)}),e}function YT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=YT(r.join("/")),u=[];return u.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function qN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GN=/^:[\w-]+$/,QN=3,YN=2,XN=1,JN=10,ZN=-2,tE=t=>t==="*";function eb(t,e){let n=t.split("/"),r=n.length;return n.some(tE)&&(r+=ZN),e&&(r+=YN),n.filter(i=>!tE(i)).reduce((i,s)=>i+(GN.test(s)?QN:s===""?XN:JN),r)}function tb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function nb(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,g=s==="/"?e:e.slice(s.length)||"/",_=nE({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},g),w=c.route;if(!_&&h&&n&&!r[r.length-1].route.index&&(_=nE({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),o.push({params:i,pathname:Bi([s,_.pathname]),pathnameBase:lb(Bi([s,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(s=Bi([s,_.pathnameBase]))}return o}function nE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,g,_)=>{let{paramName:w,isOptional:b}=g;if(w==="*"){let M=u[_]||"";o=s.slice(0,s.length-M.length).replace(/(.)\/+$/,"$1")}const x=u[_];return b&&!x?h[w]=void 0:h[w]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function rb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),GT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ib(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return GT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_a(t):t;return{pathname:n?n.startsWith("/")?n:ob(n,e):e,search:ub(r),hash:cb(i)}}function ob(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ap(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ab(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XT(t,e){let n=ab(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function JT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_a(t):(i=au({},t),ct(!i.pathname||!i.pathname.includes("?"),ap("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),ap("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),ap("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=n;else{let _=e.length-1;if(!r&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}u=_>=0?e[_]:"/"}let c=sb(i,u),h=o&&o!=="/"&&o.endsWith("/"),g=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||g)&&(c.pathname+="/"),c}const Bi=t=>t.join("/").replace(/\/\/+/g,"/"),lb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ub=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZT=["post","put","patch","delete"];new Set(ZT);const db=["get",...ZT];new Set(db);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lu.apply(this,arguments)}const Bg=W.createContext(null),fb=W.createContext(null),eo=W.createContext(null),Nd=W.createContext(null),to=W.createContext({outlet:null,matches:[],isDataRoute:!1}),eI=W.createContext(null);function pb(t,e){let{relative:n}=e===void 0?{}:e;Iu()||ct(!1);let{basename:r,navigator:i}=W.useContext(eo),{hash:s,pathname:o,search:u}=nI(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Bi([r,o])),i.createHref({pathname:c,search:u,hash:s})}function Iu(){return W.useContext(Nd)!=null}function bd(){return Iu()||ct(!1),W.useContext(Nd).location}function tI(t){W.useContext(eo).static||W.useLayoutEffect(t)}function va(){let{isDataRoute:t}=W.useContext(to);return t?Rb():mb()}function mb(){Iu()||ct(!1);let t=W.useContext(Bg),{basename:e,future:n,navigator:r}=W.useContext(eo),{matches:i}=W.useContext(to),{pathname:s}=bd(),o=JSON.stringify(XT(i,n.v7_relativeSplatPath)),u=W.useRef(!1);return tI(()=>{u.current=!0}),W.useCallback(function(h,g){if(g===void 0&&(g={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let _=JT(h,JSON.parse(o),s,g.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Bi([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,o,s,t])}function nI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=W.useContext(eo),{matches:i}=W.useContext(to),{pathname:s}=bd(),o=JSON.stringify(XT(i,r.v7_relativeSplatPath));return W.useMemo(()=>JT(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function gb(t,e){return _b(t,e)}function _b(t,e,n,r){Iu()||ct(!1);let{navigator:i}=W.useContext(eo),{matches:s}=W.useContext(to),o=s[s.length-1],u=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=bd(),g;if(e){var _;let D=typeof e=="string"?_a(e):e;c==="/"||(_=D.pathname)!=null&&_.startsWith(c)||ct(!1),g=D}else g=h;let w=g.pathname||"/",b=w;if(c!=="/"){let D=c.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(D.length).join("/")}let x=WN(t,{pathname:b}),M=Tb(x&&x.map(D=>Object.assign({},D,{params:Object.assign({},u,D.params),pathname:Bi([c,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?c:Bi([c,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,r);return e&&M?W.createElement(Nd.Provider,{value:{location:lu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:bi.Pop}},M):M}function vb(){let t=Cb(),e=hb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:i},n):null,null)}const yb=W.createElement(vb,null);class Eb extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?W.createElement(to.Provider,{value:this.props.routeContext},W.createElement(eI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wb(t){let{routeContext:e,match:n,children:r}=t,i=W.useContext(Bg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(to.Provider,{value:e},r)}function Tb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);g>=0||ct(!1),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<o.length;g++){let _=o[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=g),_.route.id){let{loaderData:w,errors:b}=n,x=_.route.loader&&w[_.route.id]===void 0&&(!b||b[_.route.id]===void 0);if(_.route.lazy||x){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((g,_,w)=>{let b,x=!1,M=null,D=null;n&&(b=u&&_.route.id?u[_.route.id]:void 0,M=_.route.errorElement||yb,c&&(h<0&&w===0?(x=!0,D=null):h===w&&(x=!0,D=_.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,w+1)),T=()=>{let P;return b?P=M:x?P=D:_.route.Component?P=W.createElement(_.route.Component,null):_.route.element?P=_.route.element:P=g,W.createElement(wb,{match:_,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:P})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?W.createElement(Eb,{location:n.location,revalidation:n.revalidation,component:M,error:b,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}var rI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rI||{}),Hh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hh||{});function Ib(t){let e=W.useContext(Bg);return e||ct(!1),e}function Ab(t){let e=W.useContext(fb);return e||ct(!1),e}function Sb(t){let e=W.useContext(to);return e||ct(!1),e}function iI(t){let e=Sb(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function Cb(){var t;let e=W.useContext(eI),n=Ab(Hh.UseRouteError),r=iI(Hh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Rb(){let{router:t}=Ib(rI.UseNavigateStable),e=iI(Hh.UseNavigateStable),n=W.useRef(!1);return tI(()=>{n.current=!0}),W.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lu({fromRouteId:e},s)))},[t,e])}function Ro(t){ct(!1)}function Pb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bi.Pop,navigator:s,static:o=!1,future:u}=t;Iu()&&ct(!1);let c=e.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:c,navigator:s,static:o,future:lu({v7_relativeSplatPath:!1},u)}),[c,u,s,o]);typeof r=="string"&&(r=_a(r));let{pathname:g="/",search:_="",hash:w="",state:b=null,key:x="default"}=r,M=W.useMemo(()=>{let D=jg(g,c);return D==null?null:{location:{pathname:D,search:_,hash:w,state:b,key:x},navigationType:i}},[c,g,_,w,b,x,i]);return M==null?null:W.createElement(eo.Provider,{value:h},W.createElement(Nd.Provider,{children:n,value:M}))}function kb(t){let{children:e,location:n}=t;return gb(vm(e),n)}new Promise(()=>{});function vm(t,e){e===void 0&&(e=[]);let n=[];return W.Children.forEach(t,(r,i)=>{if(!W.isValidElement(r))return;let s=[...e,i];if(r.type===W.Fragment){n.push.apply(n,vm(r.props.children,s));return}r.type!==Ro&&ct(!1),!r.props.index||!r.props.children||ct(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(this,arguments)}function Nb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ob(t,e){return t.button===0&&(!e||e==="_self")&&!bb(t)}const xb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Db="6";try{window.__reactRouterVersion=Db}catch{}const Lb="startTransition",rE=NP[Lb];function Mb(t){let{basename:e,children:n,future:r,window:i}=t,s=W.useRef();s.current==null&&(s.current=BN({window:i,v5Compat:!0}));let o=s.current,[u,c]=W.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},g=W.useCallback(_=>{h&&rE?rE(()=>c(_)):c(_)},[c,h]);return W.useLayoutEffect(()=>o.listen(g),[o,g]),W.createElement(Pb,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}const Vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wh=W.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:c,to:h,preventScrollReset:g,unstable_viewTransition:_}=e,w=Nb(e,xb),{basename:b}=W.useContext(eo),x,M=!1;if(typeof h=="string"&&Ub.test(h)&&(x=h,Vb))try{let P=new URL(window.location.href),$=h.startsWith("//")?new URL(P.protocol+h):new URL(h),Q=jg($.pathname,b);$.origin===P.origin&&Q!=null?h=Q+$.search+$.hash:M=!0}catch{}let D=pb(h,{relative:i}),C=Fb(h,{replace:o,state:u,target:c,preventScrollReset:g,relative:i,unstable_viewTransition:_});function T(P){r&&r(P),P.defaultPrevented||C(P)}return W.createElement("a",ym({},w,{href:x||D,onClick:M||s?r:T,ref:n,target:c}))});var iE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iE||(iE={}));var sE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sE||(sE={}));function Fb(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:u}=e===void 0?{}:e,c=va(),h=bd(),g=nI(t,{relative:o});return W.useCallback(_=>{if(Ob(_,n)){_.preventDefault();let w=r!==void 0?r:zh(h)===zh(g);c(t,{replace:w,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:u})}},[h,c,g,r,i,n,t,s,o,u])}const sI="/assets/olx-logo-vsesqqx0.png",ts=W.createContext(null),Od=W.createContext(null);function $b({children:t}){const[e,n]=W.useState(null);return I.jsx(Od.Provider,{value:{user:e,setUser:n},children:t})}var oE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},aI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,g=s>>2,_=(s&3)<<4|u>>4;let w=(u&15)<<2|h>>6,b=h&63;c||(b=64,o||(w=64)),r.push(n[g],n[_],n[w],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||_==null)throw new Bb;const w=s<<2|u>>4;if(r.push(w),h!==64){const b=u<<4&240|h>>2;if(r.push(b),_!==64){const x=h<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(t){const e=oI(t);return aI.encodeByteArray(e,!0)},Kh=function(t){return zb(t).replace(/\./g,"")},zg=function(t){try{return aI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=()=>Hb().__FIREBASE_DEFAULTS__,Kb=()=>{if(typeof process>"u"||typeof oE>"u")return;const t=oE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zg(t[1]);return e&&JSON.parse(e)},xd=()=>{try{return Wb()||Kb()||qb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lI=t=>{var e,n;return(n=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uI=t=>{const e=lI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cI=()=>{var t;return(t=xd())===null||t===void 0?void 0:t.config},hI=t=>{var e;return(e=xd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kh(JSON.stringify(n)),Kh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Qb(){var t;const e=(t=xd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yb(){const t=Le();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Xb(){return!Qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jb(){try{return typeof indexedDB=="object"}catch{return!1}}function Zb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="FirebaseError";class Ln extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eO,Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ns.prototype.create)}}class ns{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tO(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Ln(i,u,r)}}function tO(t,e){return t.replace(nO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nO=/\{\$([^}]+)}/g;function rO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(aE(s)&&aE(o)){if(!qh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gI(t,e){const n=new iO(t,e);return n.subscribe.bind(n)}class iO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lp),i.error===void 0&&(i.error=lp),i.complete===void 0&&(i.complete=lp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t){return t&&t._delegate?t._delegate:t}class wr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lO(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aO(t){return t===Ns?void 0:t}function lO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const cO={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},hO=ge.INFO,dO={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},fO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dd{constructor(e){this.name=e,this._logLevel=hO,this._logHandler=fO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const pO=(t,e)=>e.some(n=>t instanceof n);let lE,uE;function mO(){return lE||(lE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gO(){return uE||(uE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _I=new WeakMap,Em=new WeakMap,vI=new WeakMap,up=new WeakMap,Hg=new WeakMap;function _O(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_I.set(n,t)}).catch(()=>{}),Hg.set(e,t),e}function vO(t){if(Em.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Em.set(t,e)}let wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yO(t){wm=t(wm)}function EO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cp(this),e,...n);return vI.set(r,e.sort?e.sort():[e]),zi(r)}:gO().includes(t)?function(...e){return t.apply(cp(this),e),zi(_I.get(this))}:function(...e){return zi(t.apply(cp(this),e))}}function wO(t){return typeof t=="function"?EO(t):(t instanceof IDBTransaction&&vO(t),pO(t,mO())?new Proxy(t,wm):t)}function zi(t){if(t instanceof IDBRequest)return _O(t);if(up.has(t))return up.get(t);const e=wO(t);return e!==t&&(up.set(t,e),Hg.set(e,t)),e}const cp=t=>Hg.get(t);function TO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=zi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(zi(o.result),c.oldVersion,c.newVersion,zi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const IO=["get","getKey","getAll","getAllKeys","count"],AO=["put","add","delete","clear"],hp=new Map;function cE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IO.includes(n)))return;const s=async function(o,...u){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&c.done]))[0]};return hp.set(e,s),s}yO(t=>({...t,get:(e,n,r)=>cE(e,n)||t.get(e,n,r),has:(e,n)=>!!cE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",hE="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Dd("@firebase/app"),RO="@firebase/app-compat",PO="@firebase/analytics-compat",kO="@firebase/analytics",NO="@firebase/app-check-compat",bO="@firebase/app-check",OO="@firebase/auth",xO="@firebase/auth-compat",DO="@firebase/database",LO="@firebase/database-compat",MO="@firebase/functions",VO="@firebase/functions-compat",UO="@firebase/installations",FO="@firebase/installations-compat",$O="@firebase/messaging",jO="@firebase/messaging-compat",BO="@firebase/performance",zO="@firebase/performance-compat",HO="@firebase/remote-config",WO="@firebase/remote-config-compat",KO="@firebase/storage",qO="@firebase/storage-compat",GO="@firebase/firestore",QO="@firebase/vertexai-preview",YO="@firebase/firestore-compat",XO="firebase",JO="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",ZO={[Tm]:"fire-core",[RO]:"fire-core-compat",[kO]:"fire-analytics",[PO]:"fire-analytics-compat",[bO]:"fire-app-check",[NO]:"fire-app-check-compat",[OO]:"fire-auth",[xO]:"fire-auth-compat",[DO]:"fire-rtdb",[LO]:"fire-rtdb-compat",[MO]:"fire-fn",[VO]:"fire-fn-compat",[UO]:"fire-iid",[FO]:"fire-iid-compat",[$O]:"fire-fcm",[jO]:"fire-fcm-compat",[BO]:"fire-perf",[zO]:"fire-perf-compat",[HO]:"fire-rc",[WO]:"fire-rc-compat",[KO]:"fire-gcs",[qO]:"fire-gcs-compat",[GO]:"fire-fst",[YO]:"fire-fst-compat",[QO]:"fire-vertex","fire-js":"fire-js",[XO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Map,ex=new Map,Am=new Map;function dE(t,e){try{t.container.addComponent(e)}catch(n){Ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xr(t){const e=t.name;if(Am.has(e))return Ws.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,t);for(const n of Gh.values())dE(n,t);for(const n of ex.values())dE(n,t);return!0}function Ld(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jt(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new ns("app","Firebase",tx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=JO;function yI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Im,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=cI()),!n)throw Hi.create("no-options");const s=Gh.get(i);if(s){if(qh(n,s.options)&&qh(r,s.config))return s;throw Hi.create("duplicate-app",{appName:i})}const o=new uO(i);for(const c of Am.values())o.addComponent(c);const u=new nx(n,r,o);return Gh.set(i,u),u}function Wg(t=Im){const e=Gh.get(t);if(!e&&t===Im&&cI())return yI();if(!e)throw Hi.create("no-app",{appName:t});return e}function bn(t,e,n){var r;let i=(r=ZO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ws.warn(u.join(" "));return}Xr(new wr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="firebase-heartbeat-database",ix=1,uu="firebase-heartbeat-store";let dp=null;function EI(){return dp||(dp=TO(rx,ix,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),dp}async function sx(t){try{const n=(await EI()).transaction(uu),r=await n.objectStore(uu).get(wI(t));return await n.done,r}catch(e){if(e instanceof Ln)Ws.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ws.warn(n.message)}}}async function fE(t,e){try{const r=(await EI()).transaction(uu,"readwrite");await r.objectStore(uu).put(e,wI(t)),await r.done}catch(n){if(n instanceof Ln)Ws.warn(n.message);else{const r=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ws.warn(r.message)}}}function wI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=1024,ax=30*24*60*60*1e3;class lx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=ax}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pE(),{heartbeatsToSend:r,unsentEntries:i}=ux(this._heartbeatsCache.heartbeats),s=Kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function pE(){return new Date().toISOString().substring(0,10)}function ux(t,e=ox){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jb()?Zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mE(t){return Kh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){Xr(new wr("platform-logger",e=>new SO(e),"PRIVATE")),Xr(new wr("heartbeat",e=>new lx(e),"PRIVATE")),bn(Tm,hE,t),bn(Tm,hE,"esm2017"),bn("fire-js","")}hx("");function Au(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dx=TI,II=new ns("auth","Firebase",TI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Dd("@firebase/auth");function fx(t,...e){Qh.logLevel<=ge.WARN&&Qh.warn(`Auth (${Ir}): ${t}`,...e)}function ah(t,...e){Qh.logLevel<=ge.ERROR&&Qh.error(`Auth (${Ir}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,...e){throw Kg(t,...e)}function _r(t,...e){return Kg(t,...e)}function AI(t,e,n){const r=Object.assign(Object.assign({},dx()),{[e]:n});return new ns("auth","Firebase",r).create(e,{appName:t.name})}function Wr(t){return AI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return II.create(t,...e)}function ae(t,e,...n){if(!t)throw Kg(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ah(e),new Error(e)}function Jr(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function px(){return gE()==="http:"||gE()==="https:"}function gE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(px()||pI()||"connection"in navigator)?navigator.onLine:!0}function gx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=fI()||mI()}get(){return mx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){Jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SI=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new Su(3e4,6e4);function rs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function is(t,e,n,r,i={}){return CI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=no(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),SI.fetch()(RI(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function CI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_x),e);try{const i=new Ex(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $c(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw $c(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw $c(t,"user-disabled",o);const g=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw AI(t,g,h);er(t,g)}}catch(i){if(i instanceof Ln)throw i;er(t,"network-request-failed",{message:String(i)})}}async function Cu(t,e,n,r,i={}){const s=await is(t,e,n,r,i);return"mfaPendingCredential"in s&&er(t,"multi-factor-auth-required",{_serverResponse:s}),s}function RI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?qg(t.config,i):`${t.config.apiScheme}://${i}`}function yx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let Ex=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),vx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function $c(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_r(t,e,r);return i.customData._tokenResponse=n,i}function _E(t){return t!==void 0&&t.enterprise!==void 0}class wx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Tx(t,e){return is(t,"GET","/v2/recaptchaConfig",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(t,e){return is(t,"POST","/v1/accounts:delete",e)}async function PI(t,e){return is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ax(t,e=!1){const n=He(t),r=await n.getIdToken(e),i=Gg(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ml(fp(i.auth_time)),issuedAtTime:Ml(fp(i.iat)),expirationTime:Ml(fp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function fp(t){return Number(t)*1e3}function Gg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const i=zg(n);return i?JSON.parse(i):(ah("Failed to decode base64 JWT payload"),null)}catch(i){return ah("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vE(t){const e=Gg(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ln&&Sx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Sx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cx=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await cu(t,PI(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kI(s.providerUserInfo):[],u=Px(t.providerData,o),c=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),g=c?h:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Cm(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function Rx(t){const e=He(t);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Px(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kI(t){return t.map(e=>{var{providerId:n}=e,r=Au(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t,e){const n=await CI(t,{},async()=>{const r=no({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=RI(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",SI.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nx(t,e){return is(t,"POST","/v2/accounts:revokeToken",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp=class Rm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=vE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kx(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Rm;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rm,this.toJSON())}_performRefresh(){return Br("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let Xh=class Il{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Au(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Cm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await cu(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ax(this,e)}reload(){return Rx(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Il(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jt(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await cu(this,Ix(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,c,h,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,b=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(u=n.tenantId)!==null&&u!==void 0?u:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:P,emailVerified:$,isAnonymous:Q,providerData:K,stsTokenManager:A}=n;ae(P&&A,e,"internal-error");const E=pp.fromJSON(this.name,A);ae(typeof P=="string",e,"internal-error"),vi(_,e.name),vi(w,e.name),ae(typeof $=="boolean",e,"internal-error"),ae(typeof Q=="boolean",e,"internal-error"),vi(b,e.name),vi(x,e.name),vi(M,e.name),vi(D,e.name),vi(C,e.name),vi(T,e.name);const S=new Il({uid:P,auth:e,email:w,emailVerified:$,displayName:_,isAnonymous:Q,photoURL:x,phoneNumber:b,tenantId:M,stsTokenManager:E,createdAt:C,lastLoginAt:T});return K&&Array.isArray(K)&&(S.providerData=K.map(k=>Object.assign({},k))),D&&(S._redirectEventId=D),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new pp;i.updateFromServerResponse(n);const s=new Il({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?kI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new pp;u.updateFromIdToken(r);const c=new Il({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Cm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;function zr(t){Jr(t instanceof Function,"Expected a class definition");let e=yE.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NI=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};NI.type="NONE";const EE=NI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e,n){return`firebase:${t}:${e}:${n}`}let wE=class uh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lh(this.userKey,i.apiKey,s),this.fullPersistenceKey=lh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xh._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uh(zr(EE),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||zr(EE);const o=lh(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const g=await h._get(o);if(g){const _=Xh._fromJSON(e,g);h!==s&&(u=_),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new uh(s,e,r):(s=c[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new uh(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LI(e))return"Blackberry";if(MI(e))return"Webos";if(Qg(e))return"Safari";if((e.includes("chrome/")||OI(e))&&!e.includes("edge/"))return"Chrome";if(DI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bI(t=Le()){return/firefox\//i.test(t)}function Qg(t=Le()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OI(t=Le()){return/crios\//i.test(t)}function xI(t=Le()){return/iemobile/i.test(t)}function DI(t=Le()){return/android/i.test(t)}function LI(t=Le()){return/blackberry/i.test(t)}function MI(t=Le()){return/webos/i.test(t)}function Md(t=Le()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bx(t=Le()){var e;return Md(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ox(){return Yb()&&document.documentMode===10}function VI(t=Le()){return Md(t)||DI(t)||MI(t)||LI(t)||/windows phone/i.test(t)||xI(t)}function xx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t,e=[]){let n;switch(t){case"Browser":n=TE(Le());break;case"Worker":n=`${TE(Le())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ir}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dx=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const c=e(s);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(t,e={}){return is(t,"GET","/v2/passwordPolicy",rs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=6;let Vx=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Mx,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ux=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new Dx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=II,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wE.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await PI(this,{idToken:e}),r=await Xh._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jt(this.app))return Promise.reject(Wr(this));const n=e?He(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jt(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jt(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lx(this),n=new Vx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ns("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await wE.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function ro(t){return He(t)}let IE=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=gI(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fx(t){Vd=t}function FI(t){return Vd.loadJS(t)}function $x(){return Vd.recaptchaEnterpriseScript}function jx(){return Vd.gapiScript}function Bx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zx="recaptcha-enterprise",Hx="NO_RECAPTCHA";class Wx{constructor(e){this.type=zx,this.auth=ro(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,u)=>{Tx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new wx(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(c=>{u(c)})})}function i(s,o,u){const c=window.grecaptcha;_E(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(Hx)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(u=>{if(!n&&_E(window.grecaptcha))i(u,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=$x();c.length!==0&&(c+=u),FI(c).then(()=>{i(u,s,o)}).catch(h=>{o(h)})}}).catch(u=>{o(u)})})}}async function AE(t,e,n,r=!1){const i=new Wx(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Pm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await AE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await AE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e){const n=Ld(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(qh(s,e??{}))return i;er(i,"already-initialized")}return n.initialize({options:e})}function qx(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Gx(t,e,n){const r=ro(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=$I(e),{host:o,port:u}=Qx(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Yx()}function $I(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qx(t){const e=$I(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:SE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:SE(o)}}}function SE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Yx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function Xx(t,e){return is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(t,e){return Cu(t,"POST","/v1/accounts:signInWithPassword",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t,e){return Cu(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,e))}async function eD(t,e){return Cu(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Yg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,n,"signInWithPassword",Jx);case"emailLink":return Zx(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,r,"signUpPassword",Xx);case"emailLink":return eD(e,{idToken:n,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return Cu(t,"POST","/v1/accounts:signInWithIdp",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="http://localhost";class Ks extends Yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Au(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ks(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:tD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=no(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rD(t){const e=wl(Tl(t)).link,n=e?wl(Tl(e)).deep_link_id:null,r=wl(Tl(t)).deep_link_id;return(r?wl(Tl(r)).link:null)||r||n||e||t}class Xg{constructor(e){var n,r,i,s,o,u;const c=wl(Tl(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,g=(r=c.oobCode)!==null&&r!==void 0?r:null,_=nD((i=c.mode)!==null&&i!==void 0?i:null);ae(h&&g&&_,"argument-error"),this.apiKey=h,this.operation=_,this.code=g,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=rD(e);try{return new Xg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xg.parseLink(n);return ae(r,"argument-error"),hu._fromEmailAndCode(e,r.code,r.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends jI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Ru{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Ru{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Ru{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ri.credential(n,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e){return Cu(t,"POST","/v1/accounts:signUp",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Xh._fromIdTokenResponse(e,r,i),o=CE(r);return new qs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=CE(r);return new qs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function CE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Ln{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jh(e,n,r,i)}}function BI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(t,s,e,r):s})}async function sD(t,e,n=!1){const r=await cu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t,e,n=!1){const{auth:r}=t;if(Jt(r.app))return Promise.reject(Wr(r));const i="reauthenticate";try{const s=await cu(t,BI(r,i,e,t),n);ae(s.idToken,r,"internal-error");const o=Gg(s.idToken);ae(o,r,"internal-error");const{sub:u}=o;return ae(t.uid===u,r,"user-mismatch"),qs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&er(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(t,e,n=!1){if(Jt(t.app))return Promise.reject(Wr(t));const r="signIn",i=await BI(t,r,e),s=await qs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function aD(t,e){return zI(ro(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(t){const e=ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lD(t,e,n){if(Jt(t.app))return Promise.reject(Wr(t));const r=ro(t),o=await Pm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iD).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&HI(t),c}),u=await qs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(u.user),u}function uD(t,e,n){return Jt(t.app)?Promise.reject(Wr(t)):aD(He(t),ya.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HI(t),r})}function cD(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function hD(t,e,n){return He(t).beforeAuthStateChanged(e,n)}function dD(t,e,n,r){return He(t).onAuthStateChanged(e,n,r)}function fD(t){return He(t).signOut()}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){const t=Le();return Qg(t)||Md(t)}const mD=1e3,gD=10;class KI extends WI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=pD()&&xx(),this.fallbackToPolling=VI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Ox()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KI.type="LOCAL";const _D=KI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI extends WI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qI.type="SESSION";const GI=qI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ud(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async h=>h(n.origin,s)),c=await vD(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,c)=>{const h=Jg("",20);i.port1.start();const g=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===h)switch(w.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(w.data.response);break;default:clearTimeout(g),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function ED(t){vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function wD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ID(){return QI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebaseLocalStorageDb",AD=1,ed="firebaseLocalStorage",XI="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fd(t,e){return t.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function SD(){const t=indexedDB.deleteDatabase(YI);return new Pu(t).toPromise()}function km(){const t=indexedDB.open(YI,AD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ed,{keyPath:XI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ed)?e(r):(r.close(),await SD(),e(await km()))})})}async function RE(t,e,n){const r=Fd(t,!0).put({[XI]:e,value:n});return new Pu(r).toPromise()}async function CD(t,e){const n=Fd(t,!1).get(e),r=await new Pu(n).toPromise();return r===void 0?null:r.value}function PE(t,e){const n=Fd(t,!0).delete(e);return new Pu(n).toPromise()}const RD=800,PD=3;class JI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ud._getInstance(ID()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wD(),!this.activeServiceWorker)return;this.sender=new yD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await RE(e,Zh,"1"),await PE(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>RE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fd(i,!1).getAll();return new Pu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JI.type="LOCAL";const kD=JI;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e){return e?zr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg extends Yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bD(t){return zI(t.auth,new Zg(t),t.bypassAuthState)}function OD(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),oD(n,new Zg(t),t.bypassAuthState)}async function xD(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),sD(n,new Zg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bD;case"linkViaPopup":case"linkViaRedirect":return xD;case"reauthViaPopup":case"reauthViaRedirect":return OD;default:er(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Su(2e3,1e4);class zo extends ZI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=Jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DD.get())};e()}}zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="pendingRedirect",ch=new Map;class MD extends ZI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await VD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VD(t,e){const n=$D(e),r=FD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UD(t,e){ch.set(t._key(),e)}function FD(t){return zr(t._redirectPersistence)}function $D(t){return lh(LD,t.config.apiKey,t.name)}async function jD(t,e,n=!1){if(Jt(t.app))return Promise.reject(Wr(t));const r=ro(t),i=ND(r,e),o=await new MD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=10*60*1e3;class zD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_r(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BD&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e={}){return is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qD=/^https?/;async function GD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WD(t);for(const n of e)try{if(QD(n))return}catch{}er(t,"unauthorized-domain")}function QD(t){const e=Sm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qD.test(n))return!1;if(KD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Su(3e4,6e4);function NE(){const t=vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XD(t){return new Promise((e,n)=>{var r,i,s;function o(){NE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NE(),n(_r(t,"network-request-failed"))},timeout:YD.get()})}if(!((i=(r=vr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=vr().gapi)===null||s===void 0)&&s.load)o();else{const u=Bx("iframefcb");return vr()[u]=()=>{gapi.load?o():n(_r(t,"network-request-failed"))},FI(`${jx()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw hh=null,e})}let hh=null;function JD(t){return hh=hh||XD(t),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new Su(5e3,15e3),eL="__/auth/iframe",tL="emulator/auth/iframe",nL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iL(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qg(e,tL):`https://${t.config.authDomain}/${eL}`,r={apiKey:e.apiKey,appName:t.name,v:Ir},i=rL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${no(r).slice(1)}`}async function sL(t){const e=await JD(t),n=vr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:iL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=_r(t,"network-request-failed"),u=vr().setTimeout(()=>{s(o)},ZD.get());function c(){vr().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aL=500,lL=600,uL="_blank",cL="http://localhost";class bE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hL(t,e,n,r=aL,i=lL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},oL),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Le().toLowerCase();n&&(u=OI(h)?uL:n),bI(h)&&(e=e||cL,c.scrollbars="yes");const g=Object.entries(c).reduce((w,[b,x])=>`${w}${b}=${x},`,"");if(bx(h)&&u!=="_self")return dL(e||"",u),new bE(null);const _=window.open(e||"",u,g);ae(_,t,"popup-blocked");try{_.focus()}catch{}return new bE(_)}function dL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="__/auth/handler",pL="emulator/auth/handler",mL=encodeURIComponent("fac");async function OE(t,e,n,r,i,s){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ir,eventId:i};if(e instanceof jI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))o[g]=_}if(e instanceof Ru){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const c=await t._getAppCheckToken(),h=c?`#${mL}=${encodeURIComponent(c)}`:"";return`${gL(t)}?${no(u).slice(1)}${h}`}function gL({config:t}){return t.emulator?qg(t,pL):`https://${t.authDomain}/${fL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="webStorageSupport";class _L{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GI,this._completeRedirectFn=jD,this._overrideRedirectResult=UD}async _openPopup(e,n,r,i){var s;Jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await OE(e,n,r,Sm(),i);return hL(e,o,Jg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await OE(e,n,r,Sm(),i);return ED(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sL(e),r=new zD(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mp,{type:mp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[mp];o!==void 0&&n(!!o),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VI()||Qg()||Md()}}const vL=_L;var xE="@firebase/auth",DE="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yL=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wL(t){Xr(new wr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UI(t)},h=new Ux(r,i,s,c);return qx(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xr(new wr("auth-internal",e=>{const n=ro(e.getProvider("auth").getImmediate());return(r=>new yL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(xE,DE,EL(t)),bn(xE,DE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=5*60,IL=hI("authIdTokenMaxAge")||TL;let LE=null;const AL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>IL)return;const i=n==null?void 0:n.token;LE!==i&&(LE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SL(t=Wg()){const e=Ld(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Kx(t,{popupRedirectResolver:vL,persistence:[kD,_D,GI]}),r=hI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=AL(s.toString());hD(n,o,()=>o(n.currentUser)),cD(n,u=>o(u))}}const i=lI("auth");return i&&Gx(n,`http://${i}`),n}function CL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Fx({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_r("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",CL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wL("Browser");function tA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RL=tA,nA=new ns("auth","Firebase",tA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Dd("@firebase/auth");function PL(t,...e){td.logLevel<=ge.WARN&&td.warn(`Auth (${Ir}): ${t}`,...e)}function dh(t,...e){td.logLevel<=ge.ERROR&&td.error(`Auth (${Ir}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,...e){throw e_(t,...e)}function rA(t,...e){return e_(t,...e)}function iA(t,e,n){const r=Object.assign(Object.assign({},RL()),{[e]:n});return new ns("auth","Firebase",r).create(e,{appName:t.name})}function fh(t){return iA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nA.create(t,...e)}function Se(t,e,...n){if(!t)throw e_(e,...n)}function Vl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dh(e),new Error(e)}function nd(t,e){t||Vl(e)}function kL(){return VE()==="http:"||VE()==="https:"}function VE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kL()||pI()||"connection"in navigator)?navigator.onLine:!0}function bL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.shortDelay=e,this.longDelay=n,nd(n>e,"Short delay should be less than long delay!"),this.isMobile=fI()||mI()}get(){return NL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e){nd(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=new OL(3e4,6e4);function oA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ku(t,e,n,r,i={}){return aA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=no(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),sA.fetch()(lA(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function aA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DL),e);try{const i=new ML(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw jc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw jc(t,"user-disabled",o);const g=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw iA(t,g,h);ME(t,g)}}catch(i){if(i instanceof Ln)throw i;ME(t,"network-request-failed",{message:String(i)})}}function lA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xL(t.config,i):`${t.config.apiScheme}://${i}`}class ML{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rA(this.auth,"network-request-failed")),LL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rA(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e){return ku(t,"POST","/v1/accounts:delete",e)}async function uA(t,e){return ku(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UL(t,e=!1){const n=He(t),r=await n.getIdToken(e),i=cA(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ul(gp(i.auth_time)),issuedAtTime:Ul(gp(i.iat)),expirationTime:Ul(gp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function gp(t){return Number(t)*1e3}function cA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const i=zg(n);return i?JSON.parse(i):(dh("Failed to decode base64 JWT payload"),null)}catch(i){return dh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function UE(t){const e=cA(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ln&&FL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){var e;const n=t.auth,r=await t.getIdToken(),i=await rd(t,uA(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hA(s.providerUserInfo):[],u=BL(t.providerData,o),c=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),g=c?h:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Nm(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function jL(t){const e=He(t);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hA(t){return t.map(e=>{var{providerId:n}=e,r=Au(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e){const n=await aA(t,{},async()=>{const r=no({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=lA(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",sA.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HL(t,e){return ku(t,"POST","/v2/accounts:revokeToken",oA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=UE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await zL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Xo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Vl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Au(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $L(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await rd(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UL(this,e)}reload(){return jL(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jt(this.auth.app))return Promise.reject(fh(this.auth));const e=await this.getIdToken();return await rd(this,VL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,c,h,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,b=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(u=n.tenantId)!==null&&u!==void 0?u:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:P,emailVerified:$,isAnonymous:Q,providerData:K,stsTokenManager:A}=n;Se(P&&A,e,"internal-error");const E=Xo.fromJSON(this.name,A);Se(typeof P=="string",e,"internal-error"),yi(_,e.name),yi(w,e.name),Se(typeof $=="boolean",e,"internal-error"),Se(typeof Q=="boolean",e,"internal-error"),yi(b,e.name),yi(x,e.name),yi(M,e.name),yi(D,e.name),yi(C,e.name),yi(T,e.name);const S=new Oi({uid:P,auth:e,email:w,emailVerified:$,displayName:_,isAnonymous:Q,photoURL:x,phoneNumber:b,tenantId:M,stsTokenManager:E,createdAt:C,lastLoginAt:T});return K&&Array.isArray(K)&&(S.providerData=K.map(k=>Object.assign({},k))),D&&(S._redirectEventId=D),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xo;i.updateFromServerResponse(n);const s=new Oi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await id(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?hA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Xo;u.updateFromIdToken(r);const c=new Oi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Nm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;function Ds(t){nd(t instanceof Function,"Expected a class definition");let e=FE.get(t);return e?(nd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dA.type="NONE";const $E=dA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t,e,n){return`firebase:${t}:${e}:${n}`}class Jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=_p(this.userKey,i.apiKey,s),this.fullPersistenceKey=_p("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jo(Ds($E),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ds($E);const o=_p(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const g=await h._get(o);if(g){const _=Oi._fromJSON(e,g);h!==s&&(u=_),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Jo(s,e,r):(s=c[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Jo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YL(e))return"Blackberry";if(XL(e))return"Webos";if(KL(e))return"Safari";if((e.includes("chrome/")||qL(e))&&!e.includes("edge/"))return"Chrome";if(QL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WL(t=Le()){return/firefox\//i.test(t)}function KL(t=Le()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qL(t=Le()){return/crios\//i.test(t)}function GL(t=Le()){return/iemobile/i.test(t)}function QL(t=Le()){return/android/i.test(t)}function YL(t=Le()){return/blackberry/i.test(t)}function XL(t=Le()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e=[]){let n;switch(t){case"Browser":n=jE(Le());break;case"Worker":n=`${jE(Le())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ir}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const c=e(s);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e={}){return ku(t,"GET","/v2/passwordPolicy",oA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=6;class t2{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:e2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BE(this),this.idTokenSubscription=new BE(this),this.beforeStateQueue=new JL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ds(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uA(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jt(this.app))return Promise.reject(fh(this));const n=e?He(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jt(this.app)?Promise.reject(fh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jt(this.app)?Promise.reject(fh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZL(this),n=new t2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ns("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ds(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function r2(t){return He(t)}class BE{constructor(e){this.auth=e,this.observer=null,this.addObserver=gI(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function i2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ds);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t,e){return ku(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=He(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await rd(r,s2(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}var zE="@firebase/auth",HE="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u2(t){Xr(new wr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fA(t)},h=new n2(r,i,s,c);return i2(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xr(new wr("auth-internal",e=>{const n=r2(e.getProvider("auth").getImmediate());return(r=>new a2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(zE,HE,l2(t)),bn(zE,HE,"esm2017")}u2("WebExtension");var WE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,pA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function S(){}S.prototype=E.prototype,A.D=E.prototype,A.prototype=new S,A.prototype.constructor=A,A.C=function(k,O,V){for(var N=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)N[Ot-2]=arguments[Ot];return E.prototype[O].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,E,S){S||(S=0);var k=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)k[O]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(O=0;16>O;++O)k[O]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=A.g[0],S=A.g[1],O=A.g[2];var V=A.g[3],N=E+(V^S&(O^V))+k[0]+3614090360&4294967295;E=S+(N<<7&4294967295|N>>>25),N=V+(O^E&(S^O))+k[1]+3905402710&4294967295,V=E+(N<<12&4294967295|N>>>20),N=O+(S^V&(E^S))+k[2]+606105819&4294967295,O=V+(N<<17&4294967295|N>>>15),N=S+(E^O&(V^E))+k[3]+3250441966&4294967295,S=O+(N<<22&4294967295|N>>>10),N=E+(V^S&(O^V))+k[4]+4118548399&4294967295,E=S+(N<<7&4294967295|N>>>25),N=V+(O^E&(S^O))+k[5]+1200080426&4294967295,V=E+(N<<12&4294967295|N>>>20),N=O+(S^V&(E^S))+k[6]+2821735955&4294967295,O=V+(N<<17&4294967295|N>>>15),N=S+(E^O&(V^E))+k[7]+4249261313&4294967295,S=O+(N<<22&4294967295|N>>>10),N=E+(V^S&(O^V))+k[8]+1770035416&4294967295,E=S+(N<<7&4294967295|N>>>25),N=V+(O^E&(S^O))+k[9]+2336552879&4294967295,V=E+(N<<12&4294967295|N>>>20),N=O+(S^V&(E^S))+k[10]+4294925233&4294967295,O=V+(N<<17&4294967295|N>>>15),N=S+(E^O&(V^E))+k[11]+2304563134&4294967295,S=O+(N<<22&4294967295|N>>>10),N=E+(V^S&(O^V))+k[12]+1804603682&4294967295,E=S+(N<<7&4294967295|N>>>25),N=V+(O^E&(S^O))+k[13]+4254626195&4294967295,V=E+(N<<12&4294967295|N>>>20),N=O+(S^V&(E^S))+k[14]+2792965006&4294967295,O=V+(N<<17&4294967295|N>>>15),N=S+(E^O&(V^E))+k[15]+1236535329&4294967295,S=O+(N<<22&4294967295|N>>>10),N=E+(O^V&(S^O))+k[1]+4129170786&4294967295,E=S+(N<<5&4294967295|N>>>27),N=V+(S^O&(E^S))+k[6]+3225465664&4294967295,V=E+(N<<9&4294967295|N>>>23),N=O+(E^S&(V^E))+k[11]+643717713&4294967295,O=V+(N<<14&4294967295|N>>>18),N=S+(V^E&(O^V))+k[0]+3921069994&4294967295,S=O+(N<<20&4294967295|N>>>12),N=E+(O^V&(S^O))+k[5]+3593408605&4294967295,E=S+(N<<5&4294967295|N>>>27),N=V+(S^O&(E^S))+k[10]+38016083&4294967295,V=E+(N<<9&4294967295|N>>>23),N=O+(E^S&(V^E))+k[15]+3634488961&4294967295,O=V+(N<<14&4294967295|N>>>18),N=S+(V^E&(O^V))+k[4]+3889429448&4294967295,S=O+(N<<20&4294967295|N>>>12),N=E+(O^V&(S^O))+k[9]+568446438&4294967295,E=S+(N<<5&4294967295|N>>>27),N=V+(S^O&(E^S))+k[14]+3275163606&4294967295,V=E+(N<<9&4294967295|N>>>23),N=O+(E^S&(V^E))+k[3]+4107603335&4294967295,O=V+(N<<14&4294967295|N>>>18),N=S+(V^E&(O^V))+k[8]+1163531501&4294967295,S=O+(N<<20&4294967295|N>>>12),N=E+(O^V&(S^O))+k[13]+2850285829&4294967295,E=S+(N<<5&4294967295|N>>>27),N=V+(S^O&(E^S))+k[2]+4243563512&4294967295,V=E+(N<<9&4294967295|N>>>23),N=O+(E^S&(V^E))+k[7]+1735328473&4294967295,O=V+(N<<14&4294967295|N>>>18),N=S+(V^E&(O^V))+k[12]+2368359562&4294967295,S=O+(N<<20&4294967295|N>>>12),N=E+(S^O^V)+k[5]+4294588738&4294967295,E=S+(N<<4&4294967295|N>>>28),N=V+(E^S^O)+k[8]+2272392833&4294967295,V=E+(N<<11&4294967295|N>>>21),N=O+(V^E^S)+k[11]+1839030562&4294967295,O=V+(N<<16&4294967295|N>>>16),N=S+(O^V^E)+k[14]+4259657740&4294967295,S=O+(N<<23&4294967295|N>>>9),N=E+(S^O^V)+k[1]+2763975236&4294967295,E=S+(N<<4&4294967295|N>>>28),N=V+(E^S^O)+k[4]+1272893353&4294967295,V=E+(N<<11&4294967295|N>>>21),N=O+(V^E^S)+k[7]+4139469664&4294967295,O=V+(N<<16&4294967295|N>>>16),N=S+(O^V^E)+k[10]+3200236656&4294967295,S=O+(N<<23&4294967295|N>>>9),N=E+(S^O^V)+k[13]+681279174&4294967295,E=S+(N<<4&4294967295|N>>>28),N=V+(E^S^O)+k[0]+3936430074&4294967295,V=E+(N<<11&4294967295|N>>>21),N=O+(V^E^S)+k[3]+3572445317&4294967295,O=V+(N<<16&4294967295|N>>>16),N=S+(O^V^E)+k[6]+76029189&4294967295,S=O+(N<<23&4294967295|N>>>9),N=E+(S^O^V)+k[9]+3654602809&4294967295,E=S+(N<<4&4294967295|N>>>28),N=V+(E^S^O)+k[12]+3873151461&4294967295,V=E+(N<<11&4294967295|N>>>21),N=O+(V^E^S)+k[15]+530742520&4294967295,O=V+(N<<16&4294967295|N>>>16),N=S+(O^V^E)+k[2]+3299628645&4294967295,S=O+(N<<23&4294967295|N>>>9),N=E+(O^(S|~V))+k[0]+4096336452&4294967295,E=S+(N<<6&4294967295|N>>>26),N=V+(S^(E|~O))+k[7]+1126891415&4294967295,V=E+(N<<10&4294967295|N>>>22),N=O+(E^(V|~S))+k[14]+2878612391&4294967295,O=V+(N<<15&4294967295|N>>>17),N=S+(V^(O|~E))+k[5]+4237533241&4294967295,S=O+(N<<21&4294967295|N>>>11),N=E+(O^(S|~V))+k[12]+1700485571&4294967295,E=S+(N<<6&4294967295|N>>>26),N=V+(S^(E|~O))+k[3]+2399980690&4294967295,V=E+(N<<10&4294967295|N>>>22),N=O+(E^(V|~S))+k[10]+4293915773&4294967295,O=V+(N<<15&4294967295|N>>>17),N=S+(V^(O|~E))+k[1]+2240044497&4294967295,S=O+(N<<21&4294967295|N>>>11),N=E+(O^(S|~V))+k[8]+1873313359&4294967295,E=S+(N<<6&4294967295|N>>>26),N=V+(S^(E|~O))+k[15]+4264355552&4294967295,V=E+(N<<10&4294967295|N>>>22),N=O+(E^(V|~S))+k[6]+2734768916&4294967295,O=V+(N<<15&4294967295|N>>>17),N=S+(V^(O|~E))+k[13]+1309151649&4294967295,S=O+(N<<21&4294967295|N>>>11),N=E+(O^(S|~V))+k[4]+4149444226&4294967295,E=S+(N<<6&4294967295|N>>>26),N=V+(S^(E|~O))+k[11]+3174756917&4294967295,V=E+(N<<10&4294967295|N>>>22),N=O+(E^(V|~S))+k[2]+718787259&4294967295,O=V+(N<<15&4294967295|N>>>17),N=S+(V^(O|~E))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+V&4294967295}r.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var S=E-this.blockSize,k=this.B,O=this.h,V=0;V<E;){if(O==0)for(;V<=S;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<E;)if(k[O++]=A.charCodeAt(V++),O==this.blockSize){i(this,k),O=0;break}}else for(;V<E;)if(k[O++]=A[V++],O==this.blockSize){i(this,k),O=0;break}}this.h=O,this.o+=E},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var S=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=S&255,S/=256;for(this.u(A),A=Array(16),E=S=0;4>E;++E)for(var k=0;32>k;k+=8)A[S++]=this.g[E]>>>k&255;return A};function s(A,E){var S=u;return Object.prototype.hasOwnProperty.call(S,A)?S[A]:S[A]=E(A)}function o(A,E){this.h=E;for(var S=[],k=!0,O=A.length-1;0<=O;O--){var V=A[O]|0;k&&V==E||(S[O]=V,k=!1)}this.g=S}var u={};function c(A){return-128<=A&&128>A?s(A,function(E){return new o([E|0],0>E?-1:0)}):new o([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return _;if(0>A)return D(h(-A));for(var E=[],S=1,k=0;A>=S;k++)E[k]=A/S|0,S*=4294967296;return new o(E,0)}function g(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return D(g(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=h(Math.pow(E,8)),k=_,O=0;O<A.length;O+=8){var V=Math.min(8,A.length-O),N=parseInt(A.substring(O,O+V),E);8>V?(V=h(Math.pow(E,V)),k=k.j(V).add(h(N))):(k=k.j(S),k=k.add(h(N)))}return k}var _=c(0),w=c(1),b=c(16777216);t=o.prototype,t.m=function(){if(M(this))return-D(this).m();for(var A=0,E=1,S=0;S<this.g.length;S++){var k=this.i(S);A+=(0<=k?k:4294967296+k)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(M(this))return"-"+D(this).toString(A);for(var E=h(Math.pow(A,6)),S=this,k="";;){var O=$(S,E).g;S=C(S,O.j(E));var V=((0<S.g.length?S.g[0]:S.h)>>>0).toString(A);if(S=O,x(S))return V+k;for(;6>V.length;)V="0"+V;k=V+k}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function M(A){return A.h==-1}t.l=function(A){return A=C(this,A),M(A)?-1:x(A)?0:1};function D(A){for(var E=A.g.length,S=[],k=0;k<E;k++)S[k]=~A.g[k];return new o(S,~A.h).add(w)}t.abs=function(){return M(this)?D(this):this},t.add=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],k=0,O=0;O<=E;O++){var V=k+(this.i(O)&65535)+(A.i(O)&65535),N=(V>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);k=N>>>16,V&=65535,N&=65535,S[O]=N<<16|V}return new o(S,S[S.length-1]&-2147483648?-1:0)};function C(A,E){return A.add(D(E))}t.j=function(A){if(x(this)||x(A))return _;if(M(this))return M(A)?D(this).j(D(A)):D(D(this).j(A));if(M(A))return D(this.j(D(A)));if(0>this.l(b)&&0>A.l(b))return h(this.m()*A.m());for(var E=this.g.length+A.g.length,S=[],k=0;k<2*E;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var O=0;O<A.g.length;O++){var V=this.i(k)>>>16,N=this.i(k)&65535,Ot=A.i(O)>>>16,nr=A.i(O)&65535;S[2*k+2*O]+=N*nr,T(S,2*k+2*O),S[2*k+2*O+1]+=V*nr,T(S,2*k+2*O+1),S[2*k+2*O+1]+=N*Ot,T(S,2*k+2*O+1),S[2*k+2*O+2]+=V*Ot,T(S,2*k+2*O+2)}for(k=0;k<E;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=E;k<2*E;k++)S[k]=0;return new o(S,0)};function T(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function P(A,E){this.g=A,this.h=E}function $(A,E){if(x(E))throw Error("division by zero");if(x(A))return new P(_,_);if(M(A))return E=$(D(A),E),new P(D(E.g),D(E.h));if(M(E))return E=$(A,D(E)),new P(D(E.g),E.h);if(30<A.g.length){if(M(A)||M(E))throw Error("slowDivide_ only works with positive integers.");for(var S=w,k=E;0>=k.l(A);)S=Q(S),k=Q(k);var O=K(S,1),V=K(k,1);for(k=K(k,2),S=K(S,2);!x(k);){var N=V.add(k);0>=N.l(A)&&(O=O.add(S),V=N),k=K(k,1),S=K(S,1)}return E=C(A,O.j(E)),new P(O,E)}for(O=_;0<=A.l(E);){for(S=Math.max(1,Math.floor(A.m()/E.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),V=h(S),N=V.j(E);M(N)||0<N.l(A);)S-=k,V=h(S),N=V.j(E);x(V)&&(V=w),O=O.add(V),A=C(A,N)}return new P(O,A)}t.A=function(A){return $(this,A).h},t.and=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],k=0;k<E;k++)S[k]=this.i(k)&A.i(k);return new o(S,this.h&A.h)},t.or=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],k=0;k<E;k++)S[k]=this.i(k)|A.i(k);return new o(S,this.h|A.h)},t.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],k=0;k<E;k++)S[k]=this.i(k)^A.i(k);return new o(S,this.h^A.h)};function Q(A){for(var E=A.g.length+1,S=[],k=0;k<E;k++)S[k]=A.i(k)<<1|A.i(k-1)>>>31;return new o(S,A.h)}function K(A,E){var S=E>>5;E%=32;for(var k=A.g.length-S,O=[],V=0;V<k;V++)O[V]=0<E?A.i(V+S)>>>E|A.i(V+S+1)<<32-E:A.i(V+S);return new o(O,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=g,Us=o}).apply(typeof WE<"u"?WE:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mA,gA,Al,_A,ph,bm,vA,yA,EA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,m){return a==Array.prototype||a==Object.prototype||(a[d]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var d=0;d<a.length;++d){var m=a[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var m=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var L=a[y];if(!(L in m))break e;m=m[L]}a=a[a.length-1],y=m[a],d=d(y),d!=y&&d!=null&&e(m,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var m=0,y=!1,L={next:function(){if(!y&&m<a.length){var j=m++;return{value:d(j,a[j]),done:!1}}return y=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function g(a,d,m){return a.call.apply(a.bind,arguments)}function _(a,d,m){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,y),a.apply(d,L)}}return function(){return a.apply(d,arguments)}}function w(a,d,m){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,w.apply(null,arguments)}function b(a,d){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function x(a,d){function m(){}m.prototype=d.prototype,a.aa=d.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(y,L,j){for(var J=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)J[Re-2]=arguments[Re];return d.prototype[L].apply(y,J)}}function M(a){const d=a.length;if(0<d){const m=Array(d);for(let y=0;y<d;y++)m[y]=a[y];return m}return[]}function D(a,d){for(let m=1;m<arguments.length;m++){const y=arguments[m];if(c(y)){const L=a.length||0,j=y.length||0;a.length=L+j;for(let J=0;J<j;J++)a[L+J]=y[J]}else a.push(y)}}class C{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function T(a){return/^[\s\xa0]*$/.test(a)}function P(){var a=u.navigator;return a&&(a=a.userAgent)?a:""}function $(a){return $[" "](a),a}$[" "]=function(){};var Q=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function K(a,d,m){for(const y in a)d.call(m,a[y],y,a)}function A(a,d){for(const m in a)d.call(void 0,a[m],m,a)}function E(a){const d={};for(const m in a)d[m]=a[m];return d}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(a,d){let m,y;for(let L=1;L<arguments.length;L++){y=arguments[L];for(m in y)a[m]=y[m];for(let j=0;j<S.length;j++)m=S[j],Object.prototype.hasOwnProperty.call(y,m)&&(a[m]=y[m])}}function O(a){var d=1;a=a.split(":");const m=[];for(;0<d&&a.length;)m.push(a.shift()),d--;return a.length&&m.push(a.join(":")),m}function V(a){u.setTimeout(()=>{throw a},0)}function N(){var a=oe;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Ot{constructor(){this.h=this.g=null}add(d,m){const y=nr.get();y.set(d,m),this.h?this.h.next=y:this.g=y,this.h=y}}var nr=new C(()=>new ni,a=>a.reset());class ni{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Mn,Z=!1,oe=new Ot,he=()=>{const a=u.Promise.resolve(void 0);Mn=()=>{a.then(Me)}};var Me=()=>{for(var a;a=N();){try{a.h.call(a.g)}catch(m){V(m)}var d=nr;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Z=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var En=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};u.addEventListener("test",m,d),u.removeEventListener("test",m,d)}catch{}return a}();function un(a,d){if(Be.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Q){e:{try{$(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else m=="mouseover"?d=a.fromElement:m=="mouseout"&&(d=a.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Vn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&un.aa.h.call(this)}}x(un,Be);var Vn={2:"touch",3:"pen",4:"mouse"};un.prototype.h=function(){un.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var wn="closure_listenable_"+(1e6*Math.random()|0),H=0;function Sa(a,d,m,y,L){this.listener=a,this.proxy=null,this.src=d,this.type=m,this.capture=!!y,this.ha=L,this.key=++H,this.da=this.fa=!1}function ss(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ri(a){this.src=a,this.g={},this.h=0}ri.prototype.add=function(a,d,m,y,L){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var J=Ar(a,d,y,L);return-1<J?(d=a[J],m||(d.fa=!1)):(d=new Sa(d,this.src,j,!!y,L),d.fa=m,a.push(d)),d};function cn(a,d){var m=d.type;if(m in a.g){var y=a.g[m],L=Array.prototype.indexOf.call(y,d,void 0),j;(j=0<=L)&&Array.prototype.splice.call(y,L,1),j&&(ss(d),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Ar(a,d,m,y){for(var L=0;L<a.length;++L){var j=a[L];if(!j.da&&j.listener==d&&j.capture==!!m&&j.ha==y)return L}return-1}var Ca="closure_lm_"+(1e6*Math.random()|0),Kt={};function oo(a,d,m,y,L){if(Array.isArray(d)){for(var j=0;j<d.length;j++)oo(a,d[j],m,y,L);return null}return m=Fu(m),a&&a[wn]?a.K(d,m,h(y)?!!y.capture:!!y,L):ie(a,d,m,!1,y,L)}function ie(a,d,m,y,L,j){if(!d)throw Error("Invalid event type");var J=h(L)?!!L.capture:!!L,Re=Pa(a);if(Re||(a[Ca]=Re=new ri(a)),m=Re.add(d,m,y,J,j),m.proxy)return m;if(y=ao(),m.proxy=y,y.src=a,y.listener=m,a.addEventListener)En||(L=J),L===void 0&&(L=!1),a.addEventListener(d.toString(),y,L);else if(a.attachEvent)a.attachEvent(Ra(d.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ao(){function a(m){return d.call(a.src,a.listener,m)}const d=Zd;return a}function Vu(a,d,m,y,L){if(Array.isArray(d))for(var j=0;j<d.length;j++)Vu(a,d[j],m,y,L);else y=h(y)?!!y.capture:!!y,m=Fu(m),a&&a[wn]?(a=a.i,d=String(d).toString(),d in a.g&&(j=a.g[d],m=Ar(j,m,y,L),-1<m&&(ss(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete a.g[d],a.h--)))):a&&(a=Pa(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Ar(d,m,y,L)),(m=-1<a?d[a]:null)&&Uu(m))}function Uu(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[wn])cn(d.i,a);else{var m=a.type,y=a.proxy;d.removeEventListener?d.removeEventListener(m,y,a.capture):d.detachEvent?d.detachEvent(Ra(m),y):d.addListener&&d.removeListener&&d.removeListener(y),(m=Pa(d))?(cn(m,a),m.h==0&&(m.src=null,d[Ca]=null)):ss(a)}}}function Ra(a){return a in Kt?Kt[a]:Kt[a]="on"+a}function Zd(a,d){if(a.da)a=!0;else{d=new un(d,this);var m=a.listener,y=a.ha||a.src;a.fa&&Uu(a),a=m.call(y,d)}return a}function Pa(a){return a=a[Ca],a instanceof ri?a:null}var ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(a){return typeof a=="function"?a:(a[ka]||(a[ka]=function(d){return a.handleEvent(d)}),a[ka])}function Qe(){Ce.call(this),this.i=new ri(this),this.M=this,this.F=null}x(Qe,Ce),Qe.prototype[wn]=!0,Qe.prototype.removeEventListener=function(a,d,m,y){Vu(this,a,d,m,y)};function It(a,d){var m,y=a.F;if(y)for(m=[];y;y=y.F)m.push(y);if(a=a.M,y=d.type||d,typeof d=="string")d=new Be(d,a);else if(d instanceof Be)d.target=d.target||a;else{var L=d;d=new Be(y,a),k(d,L)}if(L=!0,m)for(var j=m.length-1;0<=j;j--){var J=d.g=m[j];L=Na(J,y,!0,d)&&L}if(J=d.g=a,L=Na(J,y,!0,d)&&L,L=Na(J,y,!1,d)&&L,m)for(j=0;j<m.length;j++)J=d.g=m[j],L=Na(J,y,!1,d)&&L}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var m=a.g[d],y=0;y<m.length;y++)ss(m[y]);delete a.g[d],a.h--}}this.F=null},Qe.prototype.K=function(a,d,m,y){return this.i.add(String(a),d,!1,m,y)},Qe.prototype.L=function(a,d,m,y){return this.i.add(String(a),d,!0,m,y)};function Na(a,d,m,y){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,j=0;j<d.length;++j){var J=d[j];if(J&&!J.da&&J.capture==m){var Re=J.listener,ht=J.ha||J.src;J.fa&&cn(a.i,J),L=Re.call(ht,y)!==!1&&L}}return L&&!y.defaultPrevented}function $u(a,d,m){if(typeof a=="function")m&&(a=w(a,m));else if(a&&typeof a.handleEvent=="function")a=w(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:u.setTimeout(a,d||0)}function ju(a){a.g=$u(()=>{a.g=null,a.i&&(a.i=!1,ju(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class ef extends Ce{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:ju(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(a){Ce.call(this),this.h=a,this.g={}}x(ii,Ce);var Bu=[];function si(a){K(a.g,function(d,m){this.g.hasOwnProperty(m)&&Uu(d)},a),a.g={}}ii.prototype.N=function(){ii.aa.N.call(this),si(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ba=u.JSON.stringify,oi=u.JSON.parse,tf=class{stringify(a){return u.JSON.stringify(a,void 0)}parse(a){return u.JSON.parse(a,void 0)}};function Oa(){}Oa.prototype.h=null;function zu(a){return a.h||(a.h=a.i())}function Hu(){}var os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xa(){Be.call(this,"d")}x(xa,Be);function Da(){Be.call(this,"c")}x(Da,Be);var Sr={},Wu=null;function lo(){return Wu=Wu||new Qe}Sr.La="serverreachability";function Ku(a){Be.call(this,Sr.La,a)}x(Ku,Be);function rr(a){const d=lo();It(d,new Ku(d))}Sr.STAT_EVENT="statevent";function qu(a,d){Be.call(this,Sr.STAT_EVENT,a),this.stat=d}x(qu,Be);function xt(a){const d=lo();It(d,new qu(d,a))}Sr.Ma="timingevent";function Un(a,d){Be.call(this,Sr.Ma,a),this.size=d}x(Un,Be);function ai(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){a()},d)}function as(){this.g=!0}as.prototype.xa=function(){this.g=!1};function nf(a,d,m,y,L,j){a.info(function(){if(a.g)if(j)for(var J="",Re=j.split("&"),ht=0;ht<Re.length;ht++){var ve=Re[ht].split("=");if(1<ve.length){var et=ve[0];ve=ve[1];var vt=et.split("_");J=2<=vt.length&&vt[1]=="type"?J+(et+"="+ve+"&"):J+(et+"=redacted&")}}else J=null;else J=j;return"XMLHTTP REQ ("+y+") [attempt "+L+"]: "+d+`
`+m+`
`+J})}function rf(a,d,m,y,L,j,J){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+L+"]: "+d+`
`+m+`
`+j+" "+J})}function Tn(a,d,m,y){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+ui(a,m)+(y?" "+y:"")})}function li(a,d){a.info(function(){return"TIMEOUT: "+d})}as.prototype.info=function(){};function ui(a,d){if(!a.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var y=m[a];if(!(2>y.length)){var L=y[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return ba(m)}catch{return d}}var Cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ls;function uo(){}x(uo,Oa),uo.prototype.g=function(){return new XMLHttpRequest},uo.prototype.i=function(){return{}},ls=new uo;function ir(a,d,m,y){this.j=a,this.i=d,this.l=m,this.R=y||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qu}function Qu(){this.i=null,this.g="",this.h=!1}var Yu={},La={};function Ma(a,d,m){a.L=1,a.v=$n(Fn(d)),a.m=m,a.P=!0,Va(a,null)}function Va(a,d){a.F=Date.now(),co(a),a.A=Fn(a.v);var m=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),Dt(m.i,"t",y),a.C=0,m=a.j.J,a.h=new Qu,a.g=pi(a.j,m?d:null,!a.m),0<a.O&&(a.M=new ef(w(a.Y,a,a.g),a.O)),d=a.U,m=a.g,y=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(Bu[0]=L.toString()),L=Bu);for(var j=0;j<L.length;j++){var J=oo(m,L[j],y||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=a.H?E(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),rr(),nf(a.i,a.u,a.A,a.l,a.R,a.m)}ir.prototype.ca=function(a){a=a.target;const d=this.M;d&&st(a)==3?d.j():this.Y(a)},ir.prototype.Y=function(a){try{if(a==this.g)e:{const vt=st(this.g);var d=this.g.Ba();const cr=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Mt(this.g)))){this.J||vt!=4||d==7||(d==8||0>=cr?rr(3):rr(2)),Ua(this);var m=this.g.Z();this.X=m;t:if(us(this)){var y=Mt(this.g);a="";var L=y.length,j=st(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),cs(this);var J="";break t}this.h.i=new u.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,a+=this.h.i.decode(y[d],{stream:!(j&&d==L-1)});y.length=0,this.h.g+=a,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=m==200,rf(this.i,this.u,this.A,this.l,this.R,vt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ht=this.g;if((Re=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(Re)){var ve=Re;break t}}ve=null}if(m=ve)Tn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ho(this,m);else{this.o=!1,this.s=3,xt(12),sr(this),cs(this);break e}}if(this.P){m=!0;let hn;for(;!this.J&&this.C<J.length;)if(hn=sf(this,J),hn==La){vt==4&&(this.s=4,xt(14),m=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Yu){this.s=4,xt(15),Tn(this.i,this.l,J,"[Invalid Chunk]"),m=!1;break}else Tn(this.i,this.l,hn,null),ho(this,hn);if(us(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||J.length!=0||this.h.h||(this.s=1,xt(16),m=!1),this.o=this.o&&m,!m)Tn(this.i,this.l,J,"[Invalid Chunked Response]"),sr(this),cs(this);else if(0<J.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ms(et),et.M=!0,xt(11))}}else Tn(this.i,this.l,J,null),ho(this,J);vt==4&&sr(this),this.o&&!this.J&&(vt==4?lc(this.j,this):(this.o=!1,co(this)))}else Or(this.g),m==400&&0<J.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),sr(this),cs(this)}}}catch{}finally{}};function us(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function sf(a,d){var m=a.C,y=d.indexOf(`
`,m);return y==-1?La:(m=Number(d.substring(m,y)),isNaN(m)?Yu:(y+=1,y+m>d.length?La:(d=d.slice(y,y+m),a.C=y+m,d)))}ir.prototype.cancel=function(){this.J=!0,sr(this)};function co(a){a.S=Date.now()+a.I,Xu(a,a.I)}function Xu(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ai(w(a.ba,a),d)}function Ua(a){a.B&&(u.clearTimeout(a.B),a.B=null)}ir.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(li(this.i,this.A),this.L!=2&&(rr(),xt(17)),sr(this),this.s=2,cs(this)):Xu(this,this.S-a)};function cs(a){a.j.G==0||a.J||lc(a.j,a)}function sr(a){Ua(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,si(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function ho(a,d){try{var m=a.j;if(m.G!=0&&(m.g==a||Fa(m.h,a))){if(!a.K&&Fa(m.h,a)&&m.G==3){try{var y=m.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var L=y;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)nn(m),vo(m);else break e;lr(m),xt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=ai(w(m.Za,m),6e3));if(1>=ec(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else An(m,11)}else if((a.K||m.g==a)&&nn(m),!T(d))for(L=m.Da.g.parse(d),d=0;d<L.length;d++){let ve=L[d];if(m.T=ve[0],ve=ve[1],m.G==2)if(ve[0]=="c"){m.K=ve[1],m.ia=ve[2];const et=ve[3];et!=null&&(m.la=et,m.j.info("VER="+m.la));const vt=ve[4];vt!=null&&(m.Aa=vt,m.j.info("SVER="+m.Aa));const cr=ve[5];cr!=null&&typeof cr=="number"&&0<cr&&(y=1.5*cr,m.L=y,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const hn=a.g;if(hn){const Lr=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lr){var j=y.h;j.g||Lr.indexOf("spdy")==-1&&Lr.indexOf("quic")==-1&&Lr.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&($a(j,j.h),j.h=null))}if(y.D){const el=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(y.ya=el,Pe(y.I,y.D,el))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),y=m;var J=a;if(y.qa=uc(y,y.J?y.ia:null,y.W),J.K){tc(y.h,J);var Re=J,ht=y.L;ht&&(Re.I=ht),Re.B&&(Ua(Re),co(Re)),y.g=J}else Qa(y);0<m.i.length&&qt(m)}else ve[0]!="stop"&&ve[0]!="close"||An(m,7);else m.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?An(m,7):Ga(m):ve[0]!="noop"&&m.l&&m.l.ta(ve),m.v=0)}}rr(4)}catch{}}var of=class{constructor(a,d){this.g=a,this.map=d}};function Ju(a){this.l=a||10,u.PerformanceNavigationTiming?(a=u.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zu(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ec(a){return a.h?1:a.g?a.g.size:0}function Fa(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function $a(a,d){a.g?a.g.add(d):a.h=d}function tc(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Ju.prototype.cancel=function(){if(this.i=nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function nc(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const m of a.g.values())d=d.concat(m.D);return d}return M(a.i)}function ci(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],m=a.length,y=0;y<m;y++)d.push(a[y]);return d}d=[],m=0;for(y in a)d[m++]=a[y];return d}function af(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var m=0;m<a;m++)d.push(m);return d}d=[],m=0;for(const y in a)d[m++]=y;return d}}}function lf(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var m=af(a),y=ci(a),L=y.length,j=0;j<L;j++)d.call(void 0,y[j],m&&m[j],a)}var hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uf(a,d){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var y=a[m].indexOf("="),L=null;if(0<=y){var j=a[m].substring(0,y);L=a[m].substring(y+1)}else j=a[m];d(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Rr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Rr){this.h=a.h,fo(this,a.j),this.o=a.o,this.g=a.g,po(this,a.s),this.l=a.l;var d=a.i,m=new ds;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),rc(this,m),this.m=a.m}else a&&(d=String(a).match(hi))?(this.h=!1,fo(this,d[1]||"",!0),this.o=or(d[2]||""),this.g=or(d[3]||"",!0),po(this,d[4]),this.l=or(d[5]||"",!0),rc(this,d[6]||"",!0),this.m=or(d[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}Rr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(hs(d,ic,!0),":");var m=this.g;return(m||d=="file")&&(a.push("//"),(d=this.o)&&a.push(hs(d,ic,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(hs(m,m.charAt(0)=="/"?df:hf,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",hs(m,ja)),a.join("")};function Fn(a){return new Rr(a)}function fo(a,d,m){a.j=m?or(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function po(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function rc(a,d,m){d instanceof ds?(a.i=d,At(a.i,a.h)):(m||(d=hs(d,ff)),a.i=new ds(d,a.h))}function Pe(a,d,m){a.i.set(d,m)}function $n(a){return Pe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function or(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function hs(a,d,m){return typeof a=="string"?(a=encodeURI(a).replace(d,cf),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function cf(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ic=/[#\/\?@]/g,hf=/[#\?:]/g,df=/[#\?]/g,ff=/[#\?@]/g,ja=/#/g;function ds(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ar(a){a.g||(a.g=new Map,a.h=0,a.i&&uf(a.i,function(d,m){a.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=ds.prototype,t.add=function(a,d){ar(this),this.i=null,a=it(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(d),this.h+=1,this};function Pr(a,d){ar(a),d=it(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function gt(a,d){return ar(a),d=it(a,d),a.g.has(d)}t.forEach=function(a,d){ar(this),this.g.forEach(function(m,y){m.forEach(function(L){a.call(d,L,y,this)},this)},this)},t.na=function(){ar(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let y=0;y<d.length;y++){const L=a[y];for(let j=0;j<L.length;j++)m.push(d[y])}return m},t.V=function(a){ar(this);let d=[];if(typeof a=="string")gt(this,a)&&(d=d.concat(this.g.get(it(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)d=d.concat(a[m])}return d},t.set=function(a,d){return ar(this),this.i=null,a=it(this,a),gt(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Dt(a,d,m){Pr(a,d),0<m.length&&(a.i=null,a.g.set(it(a,d),M(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var y=d[m];const j=encodeURIComponent(String(y)),J=this.V(y);for(y=0;y<J.length;y++){var L=j;J[y]!==""&&(L+="="+encodeURIComponent(String(J[y]))),a.push(L)}}return this.i=a.join("&")};function it(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function At(a,d){d&&!a.j&&(ar(a),a.i=null,a.g.forEach(function(m,y){var L=y.toLowerCase();y!=L&&(Pr(this,y),Dt(this,L,m))},a)),a.j=d}function mo(a,d){const m=new as;if(u.Image){const y=new Image;y.onload=b(Lt,m,"TestLoadImage: loaded",!0,d,y),y.onerror=b(Lt,m,"TestLoadImage: error",!1,d,y),y.onabort=b(Lt,m,"TestLoadImage: abort",!1,d,y),y.ontimeout=b(Lt,m,"TestLoadImage: timeout",!1,d,y),u.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else d(!1)}function di(a,d){const m=new as,y=new AbortController,L=setTimeout(()=>{y.abort(),Lt(m,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:y.signal}).then(j=>{clearTimeout(L),j.ok?Lt(m,"TestPingServer: ok",!0,d):Lt(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Lt(m,"TestPingServer: error",!1,d)})}function Lt(a,d,m,y,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),y(m)}catch{}}function fi(){this.g=new tf}function sc(a,d,m){const y=m||"";try{lf(a,function(L,j){let J=L;h(L)&&(J=ba(L)),d.push(y+j+"="+encodeURIComponent(J))})}catch(L){throw d.push(y+"type="+encodeURIComponent("_badmap")),L}}function kr(a){this.l=a.Ub||null,this.j=a.eb||!1}x(kr,Oa),kr.prototype.g=function(){return new jn(this.l,this.j)},kr.prototype.i=function(a){return function(){return a}}({});function jn(a,d){Qe.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(jn,Qe),t=jn.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,br(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||u).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ba(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ba(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Nr(this):br(this),this.readyState==3&&Ba(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Nr(this))},t.Qa=function(a){this.g&&(this.response=a,Nr(this))},t.ga=function(){this.g&&Nr(this)};function Nr(a){a.readyState=4,a.l=null,a.j=null,a.v=null,br(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=d.next();return a.join(`\r
`)};function br(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(jn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function za(a){let d="";return K(a,function(m,y){d+=y,d+=":",d+=m,d+=`\r
`}),d}function go(a,d,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=za(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):Pe(a,d,m))}function Ve(a){Qe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ve,Qe);var oc=/^https?$/i,ac=["POST","PUT"];t=Ve.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ls.g(),this.v=this.o?zu(this.o):zu(ls),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(j){Ha(this,j);return}if(a=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var L in y)m.set(L,y[L]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const j of y.keys())m.set(j,y.get(j));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),L=u.FormData&&a instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ac,d,void 0))||y||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of m)this.g.setRequestHeader(j,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qa(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){Ha(this,j)}};function Ha(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Wa(a),fs(a)}function Wa(a){a.A||(a.A=!0,It(a,"complete"),It(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,It(this,"complete"),It(this,"abort"),fs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},t.bb=function(){Ka(this)};function Ka(a){if(a.h&&typeof o<"u"&&(!a.v[1]||st(a)!=4||a.Z()!=2)){if(a.u&&st(a)==4)$u(a.Ea,0,a);else if(It(a,"readystatechange"),st(a)==4){a.h=!1;try{const J=a.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var y;if(y=J===0){var L=String(a.D).match(hi)[1]||null;!L&&u.self&&u.self.location&&(L=u.self.location.protocol.slice(0,-1)),y=!oc.test(L?L.toLowerCase():"")}m=y}if(m)It(a,"complete"),It(a,"success");else{a.m=6;try{var j=2<st(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",Wa(a)}}finally{fs(a)}}}}function fs(a,d){if(a.g){qa(a);const m=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||It(a,"ready");try{m.onreadystatechange=y}catch{}}}function qa(a){a.I&&(u.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function st(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<st(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),oi(d)}};function Mt(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Or(a){const d={};a=(a.g&&2<=st(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(T(a[y]))continue;var m=O(a[y]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=d[L]||[];d[L]=j,j.push(m)}A(d,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _t(a,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||d}function _o(a){this.Aa=0,this.i=[],this.j=new as,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_t("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_t("baseRetryDelayMs",5e3,a),this.cb=_t("retryDelaySeedMs",1e4,a),this.Wa=_t("forwardChannelMaxRetries",2,a),this.wa=_t("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ju(a&&a.concurrentRequestLimit),this.Da=new fi,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_o.prototype,t.la=8,t.G=1,t.connect=function(a,d,m,y){xt(0),this.W=a,this.H=d||{},m&&y!==void 0&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=uc(this,null,this.W),qt(this)};function Ga(a){if(yo(a),a.G==3){var d=a.U++,m=Fn(a.I);if(Pe(m,"SID",a.K),Pe(m,"RID",d),Pe(m,"TYPE","terminate"),In(a,m),d=new ir(a,a.j,d),d.L=2,d.v=$n(Fn(m)),m=!1,u.navigator&&u.navigator.sendBeacon)try{m=u.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&u.Image&&(new Image().src=d.v,m=!0),m||(d.g=pi(d.j,null),d.g.ea(d.v)),d.F=Date.now(),co(d)}Xa(a)}function vo(a){a.g&&(ms(a),a.g.cancel(),a.g=null)}function yo(a){vo(a),a.u&&(u.clearTimeout(a.u),a.u=null),nn(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&u.clearTimeout(a.s),a.s=null)}function qt(a){if(!Zu(a.h)&&!a.s){a.s=!0;var d=a.Ga;Mn||he(),Z||(Mn(),Z=!0),oe.add(d,a),a.B=0}}function xr(a,d){return ec(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ai(w(a.Ga,a,d),Bn(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new ir(this,this.j,a);let j=this.o;if(this.S&&(j?(j=E(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var y=this.i[m];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Eo(this,L,d),m=Fn(this.I),Pe(m,"RID",a),Pe(m,"CVER",22),this.D&&Pe(m,"X-HTTP-Session-Id",this.D),In(this,m),j&&(this.O?d="headers="+encodeURIComponent(String(za(j)))+"&"+d:this.m&&go(m,this.m,j)),$a(this.h,L),this.Ua&&Pe(m,"TYPE","init"),this.P?(Pe(m,"$req",d),Pe(m,"SID","null"),L.T=!0,Ma(L,m,null)):Ma(L,m,d),this.G=2}}else this.G==3&&(a?ps(this,a):this.i.length==0||Zu(this.h)||ps(this))};function ps(a,d){var m;d?m=d.l:m=a.U++;const y=Fn(a.I);Pe(y,"SID",a.K),Pe(y,"RID",m),Pe(y,"AID",a.T),In(a,y),a.m&&a.o&&go(y,a.m,a.o),m=new ir(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Eo(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),$a(a.h,m),Ma(m,y,d)}function In(a,d){a.H&&K(a.H,function(m,y){Pe(d,y,m)}),a.l&&lf({},function(m,y){Pe(d,y,m)})}function Eo(a,d,m){m=Math.min(a.i.length,m);var y=a.l?w(a.l.Na,a.l,a):null;e:{var L=a.i;let j=-1;for(;;){const J=["count="+m];j==-1?0<m?(j=L[0].g,J.push("ofs="+j)):j=0:J.push("ofs="+j);let Re=!0;for(let ht=0;ht<m;ht++){let ve=L[ht].g;const et=L[ht].map;if(ve-=j,0>ve)j=Math.max(0,L[ht].g-100),Re=!1;else try{sc(et,J,"req"+ve+"_")}catch{y&&y(et)}}if(Re){y=J.join("&");break e}}}return a=a.i.splice(0,m),d.D=a,y}function Qa(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Mn||he(),Z||(Mn(),Z=!0),oe.add(d,a),a.v=0}}function lr(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ai(w(a.Fa,a),Bn(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Ya(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ai(w(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),vo(this),Ya(this))};function ms(a){a.A!=null&&(u.clearTimeout(a.A),a.A=null)}function Ya(a){a.g=new ir(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Fn(a.qa);Pe(d,"RID","rpc"),Pe(d,"SID",a.K),Pe(d,"AID",a.T),Pe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Pe(d,"TO",a.ja),Pe(d,"TYPE","xmlhttp"),In(a,d),a.m&&a.o&&go(d,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=$n(Fn(d)),m.m=null,m.P=!0,Va(m,a)}t.Za=function(){this.C!=null&&(this.C=null,vo(this),lr(this),xt(19))};function nn(a){a.C!=null&&(u.clearTimeout(a.C),a.C=null)}function lc(a,d){var m=null;if(a.g==d){nn(a),ms(a),a.g=null;var y=2}else if(Fa(a.h,d))m=d.D,tc(a.h,d),y=1;else return;if(a.G!=0){if(d.o)if(y==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var L=a.B;y=lo(),It(y,new Un(y,m)),qt(a)}else Qa(a);else if(L=d.s,L==3||L==0&&0<d.X||!(y==1&&xr(a,d)||y==2&&lr(a)))switch(m&&0<m.length&&(d=a.h,d.i=d.i.concat(m)),L){case 1:An(a,5);break;case 4:An(a,10);break;case 3:An(a,6);break;default:An(a,2)}}}function Bn(a,d){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*d}function An(a,d){if(a.j.info("Error code "+d),d==2){var m=w(a.fb,a),y=a.Xa;const L=!y;y=new Rr(y||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fo(y,"https"),$n(y),L?mo(y.toString(),m):di(y.toString(),m)}else xt(2);a.G=0,a.l&&a.l.sa(d),Xa(a),yo(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Xa(a){if(a.G=0,a.ka=[],a.l){const d=nc(a.h);(d.length!=0||a.i.length!=0)&&(D(a.ka,d),D(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function uc(a,d,m){var y=m instanceof Rr?Fn(m):new Rr(m);if(y.g!="")d&&(y.g=d+"."+y.g),po(y,y.s);else{var L=u.location;y=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var j=new Rr(null);y&&fo(j,y),d&&(j.g=d),L&&po(j,L),m&&(j.l=m),y=j}return m=a.D,d=a.ya,m&&d&&Pe(y,m,d),Pe(y,"VER",a.la),In(a,y),y}function pi(a,d,m){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ve(new kr({eb:m})):new Ve(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wo(){}t=wo.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ur(){}ur.prototype.g=function(a,d){return new Gt(a,d)};function Gt(a,d){Qe.call(this),this.g=new _o(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!T(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!T(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Dr(this)}x(Gt,Qe),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Ga(this.g)},Gt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=ba(a),a=m);d.i.push(new of(d.Ya++,a)),d.G==3&&qt(d)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Ga(this.g),delete this.g,Gt.aa.N.call(this)};function Ja(a){xa.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const m in d){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}x(Ja,xa);function Za(){Da.call(this),this.status=1}x(Za,Da);function Dr(a){this.g=a}x(Dr,wo),Dr.prototype.ua=function(){It(this.g,"a")},Dr.prototype.ta=function(a){It(this.g,new Ja(a))},Dr.prototype.sa=function(a){It(this.g,new Za)},Dr.prototype.ra=function(){It(this.g,"b")},ur.prototype.createWebChannel=ur.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,EA=function(){return new ur},yA=function(){return lo()},vA=Sr,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,ph=Cr,Gu.COMPLETE="complete",_A=Gu,Hu.EventType=os,os.OPEN="a",os.CLOSE="b",os.ERROR="c",os.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Al=Hu,gA=kr,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,mA=Ve}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const KE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Dd("@firebase/firestore");function ml(){return Gs.logLevel}function ne(t,...e){if(Gs.logLevel<=ge.DEBUG){const n=e.map(t_);Gs.debug(`Firestore (${Ea}): ${t}`,...n)}}function Zr(t,...e){if(Gs.logLevel<=ge.ERROR){const n=e.map(t_);Gs.error(`Firestore (${Ea}): ${t}`,...n)}}function aa(t,...e){if(Gs.logLevel<=ge.WARN){const n=e.map(t_);Gs.warn(`Firestore (${Ea}): ${t}`,...n)}}function t_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: `+t;throw Zr(e),new Error(e)}function De(t,e){t||le()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class h2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class d2{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new wA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new jt(e)}}class f2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class p2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new f2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new m2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function la(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new mt(0,0))}static max(){return new ce(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return du.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof du?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends du{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const v2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends du{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return v2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new re(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new re(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new re(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se($e.fromString(e))}static fromName(e){return new se($e.fromString(e).popFirst(5))}static empty(){return new se($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new $e(e.slice()))}}function y2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Qi(i,se.empty(),e)}function E2(t){return new Qi(t.readTime,t.key,-1)}class Qi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qi(ce.min(),se.empty(),-1)}static max(){return new Qi(ce.max(),se.empty(),-1)}}function w2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==T2)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(g=>{o[h]=g,++u,u===s&&r(o)},g=>i(g))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function A2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}n_.oe=-1;function $d(t){return t==null}function sd(t){return t===0&&1/t==-1/0}function S2(t){return typeof t=="number"&&Number.isInteger(t)&&!sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GE(this.data.getIterator())}getIteratorFrom(e){return new GE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class GE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new Nt(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AA("Invalid base64 string: "+s):s}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const C2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(De(!!t),typeof t=="string"){let e=0;const n=C2.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function i_(t){const e=t.mapValue.fields.__previous_value__;return r_(e)?i_(e):e}function fu(t){const e=Yi(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,r,i,s,o,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h}}class pu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r_(t)?4:P2(t)?9007199254740991:10:le()}function Tr(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fu(t).isEqual(fu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Yi(i.timestampValue),u=Yi(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qs(i.bytesValue).isEqual(Qs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),u=at(s.doubleValue);return o===u?sd(o)===sd(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(qE(o)!==qE(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!Tr(o[c],u[c])))return!1;return!0}(t,e);default:return le()}}function mu(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function ua(t,e){if(t===e)return 0;const n=Ys(t),r=Ys(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const u=at(s.integerValue||s.doubleValue),c=at(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return QE(t.timestampValue,e.timestampValue);case 4:return QE(fu(t),fu(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,o){const u=Qs(s),c=Qs(o);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),c=o.split("/");for(let h=0;h<u.length&&h<c.length;h++){const g=Ae(u[h],c[h]);if(g!==0)return g}return Ae(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const u=Ae(at(s.latitude),at(o.latitude));return u!==0?u:Ae(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const u=s.values||[],c=o.values||[];for(let h=0;h<u.length&&h<c.length;++h){const g=ua(u[h],c[h]);if(g)return g}return Ae(u.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Hc.mapValue&&o===Hc.mapValue)return 0;if(s===Hc.mapValue)return 1;if(o===Hc.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),h=o.fields||{},g=Object.keys(h);c.sort(),g.sort();for(let _=0;_<c.length&&_<g.length;++_){const w=Ae(c[_],g[_]);if(w!==0)return w;const b=ua(u[c[_]],h[g[_]]);if(b!==0)return b}return Ae(c.length,g.length)}(t.mapValue,e.mapValue);default:throw le()}}function QE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Yi(t),r=Yi(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function ca(t){return Om(t)}function Om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Om(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Om(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function YE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xm(t){return!!t&&"integerValue"in t}function s_(t){return!!t&&"arrayValue"in t}function XE(t){return!!t&&"nullValue"in t}function JE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function Fl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function P2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Fl(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pn(Fl(this.value))}}function SA(t){const e=[];return wa(t.fields,(n,r)=>{const i=new Pt([n]);if(mh(r)){const s=SA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new zt(e,0,ce.min(),ce.min(),ce.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,ce.min(),ce.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ce.min(),ce.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.position=e,this.inclusive=n}}function ZE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=ua(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ew(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function k2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{}class ut extends CA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b2(e,n,r):n==="array-contains"?new D2(e,r):n==="in"?new L2(e,r):n==="not-in"?new M2(e,r):n==="array-contains-any"?new V2(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new O2(e,r):new x2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ua(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends CA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new tr(e,n)}matches(e){return RA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function RA(t){return t.op==="and"}function PA(t){return N2(t)&&RA(t)}function N2(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function Dm(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+ca(t.value);if(PA(t))return t.filters.map(e=>Dm(e)).join(",");{const e=t.filters.map(n=>Dm(n)).join(",");return`${t.op}(${e})`}}function kA(t,e){return t instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&Tr(r.value,i.value)}(t,e):t instanceof tr?function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&kA(o,i.filters[u]),!0):!1}(t,e):void le()}function NA(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${ca(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(NA).join(" ,")+"}"}(t):"Filter"}class b2 extends ut{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class O2 extends ut{constructor(e,n){super(e,"in",n),this.keys=bA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x2 extends ut{constructor(e,n){super(e,"not-in",n),this.keys=bA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class D2 extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s_(n)&&mu(n.arrayValue,this.value)}}class L2 extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class M2 extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!mu(this.value.arrayValue,n)}}class V2 extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ue=null}}function tw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new U2(t,e,n,r,i,s,o)}function o_(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ca(r)).join(",")),e.ue=n}return e.ue}function a_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ew(t.startAt,e.startAt)&&ew(t.endAt,e.endAt)}function Lm(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function F2(t,e,n,r,i,s,o,u){return new Ou(t,e,n,r,i,s,o,u)}function OA(t){return new Ou(t)}function nw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xA(t){return t.collectionGroup!==null}function $l(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Nt(Pt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ad(s,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new ad(Pt.keyField(),r))}return e.ce}function yr(t){const e=de(t);return e.le||(e.le=$2(e,$l(t))),e.le}function $2(t,e){if(t.limitType==="F")return tw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ad(i.field,s)});const n=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return tw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mm(t,e){const n=t.filters.concat([e]);return new Ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vm(t,e,n){return new Ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jd(t,e){return a_(yr(t),yr(e))&&t.limitType===e.limitType}function DA(t){return`${o_(yr(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NA(i)).join(", ")}]`),$d(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ca(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ca(i)).join(",")),`Target(${r})`}(yr(t))}; limitType=${t.limitType})`}function Bd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of $l(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,c){const h=ZE(o,u,c);return o.inclusive?h<=0:h<0}(r.startAt,$l(r),i)||r.endAt&&!function(o,u,c){const h=ZE(o,u,c);return o.inclusive?h>=0:h>0}(r.endAt,$l(r),i))}(t,e)}function j2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LA(t){return(e,n)=>{let r=!1;for(const i of $l(t)){const s=B2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function B2(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,u){const c=o.data.field(s),h=u.data.field(s);return c!==null&&h!==null?ua(c,h):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return IA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Ge(se.comparator);function ei(){return z2}const MA=new Ge(se.comparator);function Sl(...t){let e=MA;for(const n of t)e=e.insert(n.key,n);return e}function VA(t){let e=MA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ls(){return jl()}function UA(){return jl()}function jl(){return new Ta(t=>t.toString(),(t,e)=>t.isEqual(e))}const H2=new Ge(se.comparator),W2=new Nt(se.comparator);function Ee(...t){let e=W2;for(const n of t)e=e.add(n);return e}const K2=new Nt(Ae);function q2(){return K2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function $A(t){return{integerValue:""+t}}function G2(t,e){return S2(e)?$A(e):FA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function Q2(t,e,n){return t instanceof ld?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&r_(s)&&(s=i_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof gu?BA(t,e):t instanceof _u?zA(t,e):function(i,s){const o=jA(i,s),u=rw(o)+rw(i.Pe);return xm(o)&&xm(i.Pe)?$A(u):FA(i.serializer,u)}(t,e)}function Y2(t,e,n){return t instanceof gu?BA(t,e):t instanceof _u?zA(t,e):n}function jA(t,e){return t instanceof ud?function(r){return xm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ld extends zd{}class gu extends zd{constructor(e){super(),this.elements=e}}function BA(t,e){const n=HA(e);for(const r of t.elements)n.some(i=>Tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class _u extends zd{constructor(e){super(),this.elements=e}}function zA(t,e){let n=HA(e);for(const r of t.elements)n=n.filter(i=>!Tr(i,r));return{arrayValue:{values:n}}}class ud extends zd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function rw(t){return at(t.integerValue||t.doubleValue)}function HA(t){return s_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function X2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gu&&i instanceof gu||r instanceof _u&&i instanceof _u?la(r.elements,i.elements,Tr):r instanceof ud&&i instanceof ud?Tr(r.Pe,i.Pe):r instanceof ld&&i instanceof ld}(t.transform,e.transform)}class J2{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hd{}function WA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qA(t.key,Kr.none()):new xu(t.key,t.data,Kr.none());{const n=t.data,r=Pn.empty();let i=new Nt(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new io(t.key,r,new Yn(i.toArray()),Kr.none())}}function Z2(t,e,n){t instanceof xu?function(i,s,o){const u=i.value.clone(),c=sw(i.fieldTransforms,s,o.transformResults);u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof io?function(i,s,o){if(!gh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=sw(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(KA(i)),c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bl(t,e,n,r){return t instanceof xu?function(s,o,u,c){if(!gh(s.precondition,o))return u;const h=s.value.clone(),g=ow(s.fieldTransforms,c,o);return h.setAll(g),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof io?function(s,o,u,c){if(!gh(s.precondition,o))return u;const h=ow(s.fieldTransforms,c,o),g=o.data;return g.setAll(KA(s)),g.setAll(h),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(s,o,u){return gh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function eM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=jA(r.transform,i||null);s!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,s))}return n||null}function iw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&la(r,i,(s,o)=>X2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends Hd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class io extends Hd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sw(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,Y2(o,u,n[i]))}return r}function ow(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Q2(s,o,e))}return r}class qA extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tM extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Z2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const c=WA(o,u);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(n,r)=>iw(n,r))&&la(this.baseMutations,e.baseMutations,(n,r)=>iw(n,r))}}class l_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return H2}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new l_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,we;function sM(t){switch(t){default:return le();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function GA(t){if(t===void 0)return Zr("GRPC error has no .code"),z.UNKNOWN;switch(t){case ot.OK:return z.OK;case ot.CANCELLED:return z.CANCELLED;case ot.UNKNOWN:return z.UNKNOWN;case ot.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ot.INTERNAL:return z.INTERNAL;case ot.UNAVAILABLE:return z.UNAVAILABLE;case ot.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ot.NOT_FOUND:return z.NOT_FOUND;case ot.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ot.ABORTED:return z.ABORTED;case ot.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ot.DATA_LOSS:return z.DATA_LOSS;default:return le()}}(we=ot||(ot={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new Us([4294967295,4294967295],0);function aw(t){const e=oM().encode(t),n=new pA;return n.update(e),new Uint8Array(n.digest())}function lw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Us([n,r],0),new Us([i,s],0)]}class u_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Us.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Us.fromNumber(r)));return i.compare(aM)===1&&(i=new Us([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=aw(e),[r,i]=lw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new u_(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.Ie===0)return;const n=aw(e),[r,i]=lw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wd(ce.min(),i,new Ge(Ae),ei(),Ee())}}class Du{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class QA{constructor(e,n){this.targetId=e,this.me=n}}class YA{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uw{constructor(){this.fe=0,this.ge=hw(),this.pe=Wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Du(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=hw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lM{constructor(e){this.Le=e,this.Be=new Map,this.ke=ei(),this.qe=cw(),this.Qe=new Ge(Ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Lm(s))if(r===0){const o=new se(s.path);this.Ue(n,o,zt.newNoDocument(o,ce.min()))}else De(r===1);else{const o=this.Ye(n);if(o!==r){const u=this.Ze(e),c=u?this.Xe(u,e,o):1;if(c!==0){this.je(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,u;try{o=Qs(r).toUint8Array()}catch(c){if(c instanceof AA)return aa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new u_(o,i,s)}catch(c){return aa(c instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const u=this.Je(o);if(u){if(s.current&&Lm(u.target)){const c=new se(u.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,zt.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Ee();this.qe.forEach((s,o)=>{let u=!0;o.forEachWhile(c=>{const h=this.Je(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Wd(e,n,this.Qe,this.ke,r);return this.ke=ei(),this.qe=cw(),this.Qe=new Ge(Ae),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new uw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nt(Ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new uw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function cw(){return new Ge(se.comparator)}function hw(){return new Ge(se.comparator)}const uM={asc:"ASCENDING",desc:"DESCENDING"},cM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hM={and:"AND",or:"OR"};class dM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(t,e){return t.useProto3Json||$d(e)?e:{value:e}}function cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fM(t,e){return cd(t,e.toTimestamp())}function Er(t){return De(!!t),ce.fromTimestamp(function(n){const r=Yi(n);return new mt(r.seconds,r.nanos)}(t))}function c_(t,e){return Fm(t,e).canonicalString()}function Fm(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JA(t){const e=$e.fromString(t);return De(rS(e)),e}function $m(t,e){return c_(t.databaseId,e.path)}function vp(t,e){const n=JA(e);if(n.get(1)!==t.databaseId.projectId)throw new re(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(eS(n))}function ZA(t,e){return c_(t.databaseId,e)}function pM(t){const e=JA(t);return e.length===4?$e.emptyPath():eS(e)}function jm(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eS(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dw(t,e,n){return{name:$m(t,e),fields:n.value.mapValue.fields}}function mM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,g){return h.useProto3Json?(De(g===void 0||typeof g=="string"),Wt.fromBase64String(g||"")):(De(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Wt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(h){const g=h.code===void 0?z.UNKNOWN:GA(h.code);return new re(g,h.message||"")}(o);n=new YA(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vp(t,r.document.name),s=Er(r.document.updateTime),o=r.document.createTime?Er(r.document.createTime):ce.min(),u=new Pn({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(i,s,o,u),h=r.targetIds||[],g=r.removedTargetIds||[];n=new _h(h,g,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vp(t,r.document),s=r.readTime?Er(r.readTime):ce.min(),o=zt.newNoDocument(i,s),u=r.removedTargetIds||[];n=new _h([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vp(t,r.document),s=r.removedTargetIds||[];n=new _h([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new iM(i,s),u=r.targetId;n=new QA(u,o)}}return n}function gM(t,e){let n;if(e instanceof xu)n={update:dw(t,e.key,e.value)};else if(e instanceof qA)n={delete:$m(t,e.key)};else if(e instanceof io)n={update:dw(t,e.key,e.data),updateMask:SM(e.fieldMask)};else{if(!(e instanceof tM))return le();n={verify:$m(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const u=o.transform;if(u instanceof ld)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof gu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof _u)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ud)return{fieldPath:o.field.canonicalString(),increment:u.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:fM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function _M(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Er(i.updateTime):Er(s);return o.isEqual(ce.min())&&(o=Er(s)),new J2(o,i.transformResults||[])}(n,e))):[]}function vM(t,e){return{documents:[ZA(t,e.path)]}}function yM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZA(t,i);const s=function(h){if(h.length!==0)return nS(tr.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(g=>function(w){return{field:ko(w.field),direction:TM(w.dir)}}(g))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Um(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function EM(t){let e=pM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=function(_){const w=tS(_);return w instanceof tr&&PA(w)?w.getFilters():[w]}(n.where));let o=[];n.orderBy&&(o=function(_){return _.map(w=>function(x){return new ad(No(x.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(n.orderBy));let u=null;n.limit&&(u=function(_){let w;return w=typeof _=="object"?_.value:_,$d(w)?null:w}(n.limit));let c=null;n.startAt&&(c=function(_){const w=!!_.before,b=_.values||[];return new od(b,w)}(n.startAt));let h=null;return n.endAt&&(h=function(_){const w=!_.before,b=_.values||[];return new od(b,w)}(n.endAt)),F2(e,i,o,s,u,"F",c,h)}function wM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=No(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=No(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=No(n.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=No(n.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return ut.create(No(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>tS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function TM(t){return uM[t]}function IM(t){return cM[t]}function AM(t){return hM[t]}function ko(t){return{fieldPath:t.canonicalString()}}function No(t){return Pt.fromServerFormat(t.fieldPath)}function nS(t){return t instanceof ut?function(n){if(n.op==="=="){if(JE(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(XE(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JE(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(XE(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:IM(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(i=>nS(i));return r.length===1?r[0]:{compositeFilter:{op:AM(n.op),filters:r}}}(t):le()}function SM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r,i,s=ce.min(),o=ce.min(),u=Wt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.ct=e}}function RM(t){const e=EM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this._n=new kM}addToCollectionParentIndex(e,n){return this._n.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Qi.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class kM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ha(0)}static Ln(){return new ha(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.changes=new Ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bl(r.mutation,i,Yn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Sl();return s.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=ei();const o=jl(),u=function(){return jl()}();return n.forEach((c,h)=>{const g=r.get(h.key);i.has(h.key)&&(g===void 0||g.mutation instanceof io)?s=s.insert(h.key,h):g!==void 0?(o.set(h.key,g.mutation.getFieldMask()),Bl(g.mutation,h,g.mutation.getFieldMask(),mt.now())):o.set(h.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,g)=>o.set(h,g)),n.forEach((h,g)=>{var _;return u.set(h,new bM(g,(_=o.get(h))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const r=jl();let i=new Ge((o,u)=>o-u),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let g=r.get(c)||Yn.empty();g=u.applyToLocalView(h,g),r.set(c,g);const _=(i.get(u.batchId)||Ee()).add(c);i=i.insert(u.batchId,_)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,g=c.value,_=UA();g.forEach(w=>{if(!s.has(w)){const b=WA(n.get(w),r.get(w));b!==null&&_.set(w,b),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,_))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(Ls());let u=-1,c=s;return o.next(h=>q.forEach(h,(g,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),s.get(g)?q.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{c=c.insert(g,w)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,Ee())).next(g=>({batchId:u,changes:VA(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Sl();return this.indexManager.getCollectionParents(e,s).next(u=>q.forEach(u,c=>{const h=function(_,w){return new Ou(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(g=>{g.forEach((_,w)=>{o=o.insert(_,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const g=h.getKey();o.get(g)===null&&(o=o.insert(g,zt.newInvalidDocument(g)))});let u=Sl();return o.forEach((c,h)=>{const g=s.get(c);g!==void 0&&Bl(g.mutation,h,Yn.empty(),mt.now()),Bd(n,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Er(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:RM(i.bundledQuery),readTime:Er(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.overlays=new Ge(se.comparator),this.hr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ls();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Ls(),s=n.length+1,o=new se(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ge((h,g)=>h-g);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let g=s.get(h.largestBatchId);g===null&&(g=Ls(),s=s.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const u=Ls(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,g)=>u.set(h,g)),!(u.size()>=i)););return q.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rM(n,r));let s=this.hr.get(n);s===void 0&&(s=Ee(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.Pr=new Nt(Et.Ir),this.Tr=new Nt(Et.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Et(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new se(new $e([])),r=new Et(n,e),i=new Et(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new se(new $e([])),r=new Et(n,e),i=new Et(n,e+1);let s=Ee();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Et(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return se.comparator(e.key,n.key)||Ae(e.pr,n.pr)}static Er(e,n){return Ae(e.pr,n.pr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Nt(Et.Ir)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nM(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.wr=this.wr.add(new Et(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const u=this.Sr(o.pr);s.push(u)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(Ae);return n.forEach(i=>{const s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],u=>{r=r.add(u.pr)})}),q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new Et(new se(s),0);let u=new Nt(Ae);return this.wr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.pr)),!0)},o),q.resolve(this.Dr(u))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return q.forEach(n.mutations,i=>{const s=new Et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Et(n,0),i=this.wr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.vr=e,this.docs=function(){return new Ge(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=ei();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ei();const o=n.path,u=new se(o.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:g}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||w2(E2(g),r)<=0||(i.has(g.key)||Bd(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Fr(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VM(this)}getSize(e){return q.resolve(this.size)}}class VM extends NM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.persistence=e,this.Mr=new Ta(n=>o_(n),a_),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new h_,this.targetCount=0,this.Lr=ha.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ha(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.qn(n),q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.Br={},this.overlays={},this.kr=new n_(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new UM(this),this.indexManager=new PM,this.remoteDocumentCache=function(i){return new MM(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new CM(n),this.$r=new xM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new LM(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new $M(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class $M extends I2{constructor(e){super(),this.currentSequenceNumber=e}}class d_{constructor(e){this.persistence=e,this.zr=new h_,this.jr=null}static Hr(e){return new d_(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Jr,r=>{const i=se.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return q.or([()=>q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new f_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Xb()?8:A2(Le())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new jM;return this.Ji(e,n,o).next(u=>{if(s.result=u,this.Ui)return this.Yi(e,n,o,u.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ml()<=ge.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),q.resolve()):(ml()<=ge.DEBUG&&ne("QueryEngine","Query:",Po(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ml()<=ge.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):q.resolve())}ji(e,n){if(nw(n))return q.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vm(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ee(...s);return this.zi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Zi(n,u);return this.Xi(n,h,o,c.readTime)?this.ji(e,Vm(n,null,"F")):this.es(e,h,n,c)}))})))}Hi(e,n,r,i){return nw(n)||i.isEqual(ce.min())?q.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?q.resolve(null):(ml()<=ge.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Po(n)),this.es(e,o,n,y2(i,-1)).next(u=>u))})}Zi(e,n){let r=new Nt(LA(e));return n.forEach((i,s)=>{Bd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ml()<=ge.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Po(n)),this.zi.getDocumentsMatchingQuery(e,n,Qi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ge(Ae),this.rs=new Ta(s=>o_(s),a_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function HM(t,e,n,r){return new zM(t,e,n,r)}async function iS(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let c=Ee();for(const h of i){o.push(h.batchId);for(const g of h.mutations)c=c.add(g.key)}for(const h of s){u.push(h.batchId);for(const g of h.mutations)c=c.add(g.key)}return n.localDocuments.getDocuments(r,c).next(h=>({us:h,removedBatchIds:o,addedBatchIds:u}))})})}function WM(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(u,c,h,g){const _=h.batch,w=_.keys();let b=q.resolve();return w.forEach(x=>{b=b.next(()=>g.getEntry(c,x)).next(M=>{const D=h.docVersions.get(x);De(D!==null),M.version.compareTo(D)<0&&(_.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),g.addEntry(M)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(c,_))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Ee();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sS(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function KM(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const u=[];e.targetChanges.forEach((g,_)=>{const w=i.get(_);if(!w)return;u.push(n.Qr.removeMatchingKeys(s,g.removedDocuments,_).next(()=>n.Qr.addMatchingKeys(s,g.addedDocuments,_)));let b=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(Wt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),i=i.insert(_,b),function(M,D,C){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(w,b,g)&&u.push(n.Qr.updateTargetData(s,b))});let c=ei(),h=Ee();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),u.push(qM(s,o,e.documentUpdates).next(g=>{c=g.cs,h=g.ls})),!r.isEqual(ce.min())){const g=n.Qr.getLastRemoteSnapshotVersion(s).next(_=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(g)}return q.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.ns=i,s))}function qM(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ei();return n.forEach((u,c)=>{const h=s.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):ne("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{cs:o,ls:i}})}function GM(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QM(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new xi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Bm(t,e,n){const r=de(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bu(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function fw(t,e,n){const r=de(t);let i=ce.min(),s=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,g){const _=de(c),w=_.rs.get(g);return w!==void 0?q.resolve(_.ns.get(w)):_.Qr.getTargetData(h,g)}(r,o,yr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,u.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:Ee())).next(u=>(YM(r,j2(e),u),{documents:u,hs:s})))}function YM(t,e,n){let r=t.ss.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class pw{constructor(){this.activeTargetIds=q2()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XM{constructor(){this.no=new pw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new pw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function yp(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class tV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const u=yp(),c=this.vo(n,r.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,s,o),this.Mo(n,c,h,i).then(g=>(ne("RestConnection",`Received RPC '${n}' ${u}: `,g),g),g=>{throw aa("RestConnection",`RPC '${n}' ${u} failed with error: `,g,"url: ",c,"request:",i),g})}xo(n,r,i,s,o,u){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=ZM[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=yp();return new Promise((o,u)=>{const c=new mA;c.setWithCredentials(!0),c.listenOnce(_A.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ph.NO_ERROR:const g=c.getResponseJson();ne($t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),o(g);break;case ph.TIMEOUT:ne($t,`RPC '${e}' ${s} timed out`),u(new re(z.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const _=c.getStatus();if(ne($t,`RPC '${e}' ${s} failed with status:`,_,"response text:",c.getResponseText()),_>0){let w=c.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const x=function(D){const C=D.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(C)>=0?C:z.UNKNOWN}(b.status);u(new re(x,b.message))}else u(new re(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new re(z.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{ne($t,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ne($t,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Oo(e,n,r){const i=yp(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=EA(),u=yA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.xmlHttpFactory=new gA({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const g=s.join("");ne($t,`Creating RPC '${e}' stream ${i}: ${g}`,c);const _=o.createWebChannel(g,c);let w=!1,b=!1;const x=new eV({lo:D=>{b?ne($t,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(w||(ne($t,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),ne($t,`RPC '${e}' stream ${i} sending:`,D),_.send(D))},ho:()=>_.close()}),M=(D,C,T)=>{D.listen(C,P=>{try{T(P)}catch($){setTimeout(()=>{throw $},0)}})};return M(_,Al.EventType.OPEN,()=>{b||(ne($t,`RPC '${e}' stream ${i} transport opened.`),x.mo())}),M(_,Al.EventType.CLOSE,()=>{b||(b=!0,ne($t,`RPC '${e}' stream ${i} transport closed`),x.po())}),M(_,Al.EventType.ERROR,D=>{b||(b=!0,aa($t,`RPC '${e}' stream ${i} transport errored:`,D),x.po(new re(z.UNAVAILABLE,"The operation could not be completed")))}),M(_,Al.EventType.MESSAGE,D=>{var C;if(!b){const T=D.data[0];De(!!T);const P=T,$=P.error||((C=P[0])===null||C===void 0?void 0:C.error);if($){ne($t,`RPC '${e}' stream ${i} received error:`,$);const Q=$.status;let K=function(S){const k=ot[S];if(k!==void 0)return GA(k)}(Q),A=$.message;K===void 0&&(K=z.INTERNAL,A="Unknown error status: "+Q+" with message "+$.message),b=!0,x.po(new re(K,A)),_.close()}else ne($t,`RPC '${e}' stream ${i} received:`,T),x.yo(T)}}),M(u,vA.STAT_EVENT,D=>{D.stat===bm.PROXY?ne($t,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===bm.NOPROXY&&ne($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.fo()},0),x}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){return new dM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r,i,s,o,u,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new oS(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new re(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nV extends aS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=mM(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?Er(o.readTime):ce.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=jm(this.serializer),n.addTarget=function(s,o){let u;const c=o.target;if(u=Lm(c)?{documents:vM(s,c)}:{query:yM(s,c)._t},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=XA(s,o.resumeToken);const h=Um(s,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(ce.min())>0){u.readTime=cd(s,o.snapshotVersion.toTimestamp());const h=Um(s,o.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=wM(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=jm(this.serializer),n.removeTarget=e,this.i_(n)}}class rV extends aS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=_M(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.A_(r,n)}return De(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=jm(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gM(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new re(z.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Fm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(z.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.xo(e,Fm(n,r),i,o,u,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(z.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class sV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Zr(n),this.y_=!1):ne("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{so(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=de(c);h.M_.add(4),await Lu(h),h.N_.set("Unknown"),h.M_.delete(4),await qd(h)}(this))})}),this.N_=new sV(r,i)}}async function qd(t){if(so(t))for(const e of t.x_)await e(!0)}async function Lu(t){for(const e of t.x_)await e(!1)}function lS(t,e){const n=de(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),__(n)?g_(n):Ia(n).Xo()&&m_(n,e))}function p_(t,e){const n=de(t),r=Ia(n);n.F_.delete(e),r.Xo()&&uS(n,e),n.F_.size===0&&(r.Xo()?r.n_():so(n)&&n.N_.set("Unknown"))}function m_(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ia(t).P_(e)}function uS(t,e){t.L_.xe(e),Ia(t).I_(e)}function g_(t){t.L_=new lM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ia(t).start(),t.N_.w_()}function __(t){return so(t)&&!Ia(t).Zo()&&t.F_.size>0}function so(t){return de(t).M_.size===0}function cS(t){t.L_=void 0}async function aV(t){t.N_.set("Online")}async function lV(t){t.F_.forEach((e,n)=>{m_(t,e)})}async function uV(t,e){cS(t),__(t)?(t.N_.D_(e),g_(t)):t.N_.set("Unknown")}async function cV(t,e,n){if(t.N_.set("Online"),e instanceof YA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.F_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.F_.delete(u),i.L_.removeTarget(u))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hd(t,r)}else if(e instanceof _h?t.L_.Ke(e):e instanceof QA?t.L_.He(e):t.L_.We(e),!n.isEqual(ce.min()))try{const r=await sS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const u=s.L_.rt(o);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const g=s.F_.get(h);g&&s.F_.set(h,g.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,h)=>{const g=s.F_.get(c);if(!g)return;s.F_.set(c,g.withResumeToken(Wt.EMPTY_BYTE_STRING,g.snapshotVersion)),uS(s,c);const _=new xi(g.target,c,h,g.sequenceNumber);m_(s,_)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await hd(t,r)}}async function hd(t,e,n){if(!bu(e))throw e;t.M_.add(1),await Lu(t),t.N_.set("Offline"),n||(n=()=>sS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await qd(t)})}function hS(t,e){return e().catch(n=>hd(t,n,e))}async function Gd(t){const e=de(t),n=Xi(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;hV(e);)try{const i=await GM(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,dV(e,i)}catch(i){await hd(e,i)}dS(e)&&fS(e)}function hV(t){return so(t)&&t.v_.length<10}function dV(t,e){t.v_.push(e);const n=Xi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function dS(t){return so(t)&&!Xi(t).Zo()&&t.v_.length>0}function fS(t){Xi(t).start()}async function fV(t){Xi(t).V_()}async function pV(t){const e=Xi(t);for(const n of t.v_)e.d_(n.mutations)}async function mV(t,e,n){const r=t.v_.shift(),i=l_.from(r,e,n);await hS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gd(t)}async function gV(t,e){e&&Xi(t).E_&&await async function(r,i){if(function(o){return sM(o)&&o!==z.ABORTED}(i.code)){const s=r.v_.shift();Xi(r).t_(),await hS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Gd(r)}}(t,e),dS(t)&&fS(t)}async function gw(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=so(n);n.M_.add(3),await Lu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await qd(n)}async function _V(t,e){const n=de(t);e?(n.M_.delete(2),await qd(n)):e||(n.M_.add(2),await Lu(n),n.N_.set("Unknown"))}function Ia(t){return t.B_||(t.B_=function(n,r,i){const s=de(n);return s.f_(),new nV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:aV.bind(null,t),To:lV.bind(null,t),Ao:uV.bind(null,t),h_:cV.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),__(t)?g_(t):t.N_.set("Unknown")):(await t.B_.stop(),cS(t))})),t.B_}function Xi(t){return t.k_||(t.k_=function(n,r,i){const s=de(n);return s.f_(),new rV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:fV.bind(null,t),Ao:gV.bind(null,t),R_:pV.bind(null,t),A_:mV.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Gd(t)):(await t.k_.stop(),t.v_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new v_(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y_(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),bu(t))return new re(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Sl(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new Zo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.q_=new Ge(se.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class da{constructor(e,n,r,i,s,o,u,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new da(e,n,Zo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class yV{constructor(){this.queries=new Ta(e=>DA(e),jd),this.onlineState="Unknown",this.z_=new Set}}async function EV(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new vV,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=y_(o,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&E_(n)}async function wV(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TV(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.U_)u.H_(i)&&(r=!0);o.K_=i}}r&&E_(n)}function IV(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function E_(t){t.z_.forEach(e=>{e.next()})}var zm,vw;(vw=zm||(zm={})).J_="default",vw.Cache="cache";class AV{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.key=e}}class mS{constructor(e){this.key=e}}class SV{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ee(),this.mutatedKeys=Ee(),this.Ia=LA(e),this.Ta=new Zo(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new _w,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const w=i.get(g),b=Bd(this.query,_)?_:null,x=!!w&&this.mutatedKeys.has(w.key),M=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;w&&b?w.data.isEqual(b.data)?x!==M&&(r.track({type:3,doc:b}),D=!0):this.Ra(w,b)||(r.track({type:2,doc:b}),D=!0,(c&&this.Ia(b,c)>0||h&&this.Ia(b,h)<0)&&(u=!0)):!w&&b?(r.track({type:0,doc:b}),D=!0):w&&!b&&(r.track({type:1,doc:w}),D=!0,(c||h)&&(u=!0)),D&&(b?(o=o.add(b),s=M?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{Ta:o,Aa:r,Xi:u,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((g,_)=>function(b,x){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return M(b)-M(x)}(g.type,_.type)||this.Ia(g.doc,_.doc)),this.Va(r),i=i!=null&&i;const u=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,h=c!==this.ha;return this.ha=c,o.length!==0||h?{snapshot:new da(this.query,e.Ta,s,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:u}:{fa:u}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new _w,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ee(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new mS(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new pS(r))}),n}pa(e){this.la=e.hs,this.Pa=Ee();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return da.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class CV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RV{constructor(e){this.key=e,this.wa=!1}}class PV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Ta(u=>DA(u),jd),this.Da=new Map,this.Ca=new Set,this.va=new Ge(se.comparator),this.Fa=new Map,this.Ma=new h_,this.xa={},this.Oa=new Map,this.Na=ha.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function kV(t,e,n=!0){const r=wS(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await gS(r,e,n,!0),i}async function NV(t,e){const n=wS(t);await gS(n,e,!0,!1)}async function gS(t,e,n,r){const i=await QM(t.localStore,yr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let u;return r&&(u=await bV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&lS(t.remoteStore,i),u}async function bV(t,e,n,r,i){t.Ba=(_,w,b)=>async function(M,D,C,T){let P=D.view.da(C);P.Xi&&(P=await fw(M.localStore,D.query,!1).then(({documents:A})=>D.view.da(A,P)));const $=T&&T.targetChanges.get(D.targetId),Q=T&&T.targetMismatches.get(D.targetId)!=null,K=D.view.applyChanges(P,M.isPrimaryClient,$,Q);return Ew(M,D.targetId,K.fa),K.snapshot}(t,_,w,b);const s=await fw(t.localStore,e,!0),o=new SV(e,s.hs),u=o.da(s.documents),c=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(u,t.isPrimaryClient,c);Ew(t,n,h.fa);const g=new CV(e,n,o);return t.ba.set(e,g),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function OV(t,e,n){const r=de(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!jd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Bm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&p_(r.remoteStore,i.targetId),Hm(r,i.targetId)}).catch(Nu)):(Hm(r,i.targetId),await Bm(r.localStore,i.targetId,!0))}async function xV(t,e){const n=de(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),p_(n.remoteStore,r.targetId))}async function DV(t,e,n){const r=jV(t);try{const i=await function(o,u){const c=de(o),h=mt.now(),g=u.reduce((b,x)=>b.add(x.key),Ee());let _,w;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let x=ei(),M=Ee();return c.os.getEntries(b,g).next(D=>{x=D,x.forEach((C,T)=>{T.isValidDocument()||(M=M.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,x)).next(D=>{_=D;const C=[];for(const T of u){const P=eM(T,_.get(T.key).overlayedDocument);P!=null&&C.push(new io(T.key,P,SA(P.value.mapValue),Kr.exists(!0)))}return c.mutationQueue.addMutationBatch(b,h,C,u)}).next(D=>{w=D;const C=D.applyToLocalDocumentSet(_,M);return c.documentOverlayCache.saveOverlays(b,D.batchId,C)})}).then(()=>({batchId:w.batchId,changes:VA(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,c){let h=o.xa[o.currentUser.toKey()];h||(h=new Ge(Ae)),h=h.insert(u,c),o.xa[o.currentUser.toKey()]=h}(r,i.batchId,n),await Mu(r,i.changes),await Gd(r.remoteStore)}catch(i){const s=y_(i,"Failed to persist write");n.reject(s)}}async function _S(t,e){const n=de(t);try{const r=await KM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?De(o.wa):i.removedDocuments.size>0&&(De(o.wa),o.wa=!1))}),await Mu(n,r,e)}catch(r){await Nu(r)}}function yw(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const u=o.view.j_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const c=de(o);c.onlineState=u;let h=!1;c.queries.forEach((g,_)=>{for(const w of _.U_)w.j_(u)&&(h=!0)}),h&&E_(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LV(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Ge(se.comparator);o=o.insert(s,zt.newNoDocument(s,ce.min()));const u=Ee().add(s),c=new Wd(ce.min(),new Map,new Ge(Ae),o,u);await _S(r,c),r.va=r.va.remove(s),r.Fa.delete(e),w_(r)}else await Bm(r.localStore,e,!1).then(()=>Hm(r,e,n)).catch(Nu)}async function MV(t,e){const n=de(t),r=e.batch.batchId;try{const i=await WM(n.localStore,e);yS(n,r,null),vS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mu(n,i)}catch(i){await Nu(i)}}async function VV(t,e,n){const r=de(t);try{const i=await function(o,u){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return c.mutationQueue.lookupMutationBatch(h,u).next(_=>(De(_!==null),g=_.keys(),c.mutationQueue.removeMutationBatch(h,_))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,g,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>c.localDocuments.getDocuments(h,g))})}(r.localStore,e);yS(r,e,n),vS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mu(r,i)}catch(i){await Nu(i)}}function vS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function yS(t,e,n){const r=de(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Hm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||ES(t,r)})}function ES(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(p_(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),w_(t))}function Ew(t,e,n){for(const r of n)r instanceof pS?(t.Ma.addReference(r.key,e),UV(t,r)):r instanceof mS?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||ES(t,r.key)):le()}function UV(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.Ca.add(r),w_(t))}function w_(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new se($e.fromString(e)),r=t.Na.next();t.Fa.set(r,new RV(n)),t.va=t.va.insert(n,r),lS(t.remoteStore,new xi(yr(OA(n.path)),r,"TargetPurposeLimboResolution",n_.oe))}}async function Mu(t,e,n){const r=de(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((u,c)=>{o.push(r.Ba(c,e,n).then(h=>{var g;if((h||n)&&r.isPrimaryClient){const _=h?!h.fromCache:(g=n==null?void 0:n.targetChanges.get(c.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(c.targetId,_?"current":"not-current")}if(h){i.push(h);const _=f_.Ki(c.targetId,h);s.push(_)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(c,h){const g=de(c);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>q.forEach(h,w=>q.forEach(w.qi,b=>g.persistence.referenceDelegate.addReference(_,w.targetId,b)).next(()=>q.forEach(w.Qi,b=>g.persistence.referenceDelegate.removeReference(_,w.targetId,b)))))}catch(_){if(!bu(_))throw _;ne("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of h){const w=_.targetId;if(!_.fromCache){const b=g.ns.get(w),x=b.snapshotVersion,M=b.withLastLimboFreeSnapshotVersion(x);g.ns=g.ns.insert(w,M)}}}(r.localStore,s))}async function FV(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await iS(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(u=>{u.forEach(c=>{c.reject(new re(z.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mu(n,r.us)}}function $V(t,e){const n=de(t),r=n.Fa.get(e);if(r&&r.wa)return Ee().add(r.key);{let i=Ee();const s=n.Da.get(e);if(!s)return i;for(const o of s){const u=n.ba.get(o);i=i.unionWith(u.view.Ea)}return i}}function wS(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$V.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LV.bind(null,e),e.Sa.h_=TV.bind(null,e.eventManager),e.Sa.ka=IV.bind(null,e.eventManager),e}function jV(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VV.bind(null,e),e}class ww{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HM(this.persistence,new BM,e.initialUser,this.serializer)}createPersistence(e){return new FM(d_.Hr,this.serializer)}createSharedClientState(e){return new XM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FV.bind(null,this.syncEngine),await _V(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yV}()}createDatastore(e){const n=Kd(e.databaseInfo.databaseId),r=function(s){return new tV(s)}(e.databaseInfo);return function(s,o,u,c){return new iV(s,o,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,u){return new oV(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>yw(this.syncEngine,n,0),function(){return mw.D()?new mw:new JM}())}createSyncEngine(e,n){return function(i,s,o,u,c,h,g){const _=new PV(i,s,o,u,c,h);return g&&(_.La=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=de(r);ne("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Lu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=TA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=y_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wp(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Tw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KV(t);ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>gw(e.remoteStore,i)),t._onlineComponents=e}function WV(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function KV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await wp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!WV(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),await wp(t,new ww)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await wp(t,new ww);return t._offlineComponents}async function TS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await Tw(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await Tw(t,new BV))),t._onlineComponents}function qV(t){return TS(t).then(e=>e.syncEngine)}async function GV(t){const e=await TS(t),n=e.eventManager;return n.onListen=kV.bind(null,e.syncEngine),n.onUnlisten=OV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xV.bind(null,e.syncEngine),n}function QV(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,c,h){const g=new zV({next:w=>{o.enqueueAndForget(()=>wV(s,_)),w.fromCache&&c.source==="server"?h.reject(new re(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),_=new AV(u,g,{includeMetadataChanges:!0,ra:!0});return EV(s,_)}(await GV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e,n){if(!n)throw new re(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YV(t,e,n,r){if(e===!0&&r===!0)throw new re(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Aw(t){if(!se.isDocumentKey(t))throw new re(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sw(t){if(se.isDocumentKey(t))throw new re(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function dd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qd(t);throw new re(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c2;switch(r.type){case"firstParty":return new p2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Iw.get(n);r&&(ne("ComponentProvider","Removing Datastore"),Iw.delete(n),r.terminate())}(this),Promise.resolve()}}function XV(t,e,n,r={}){var i;const s=(t=dd(t,Yd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=jt.MOCK_USER;else{u=dI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new re(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new jt(h)}t._authCredentials=new h2(new wA(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class On{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Ki extends Aa{constructor(e,n,r){super(e,n,OA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new se(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function Xd(t,e,...n){if(t=He(t),AS("collection","path",e),t instanceof Yd){const r=$e.fromString(e,...n);return Sw(r),new Ki(t,null,r)}{if(!(t instanceof On||t instanceof Ki))throw new re(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return Sw(r),new Ki(t.firestore,null,r)}}function JV(t,e,...n){if(t=He(t),arguments.length===1&&(e=TA.newId()),AS("doc","path",e),t instanceof Yd){const r=$e.fromString(e,...n);return Aw(r),new On(t,null,new se(r))}{if(!(t instanceof On||t instanceof Ki))throw new re(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return Aw(r),new On(t.firestore,t instanceof Ki?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new oS(this,"async_queue_retry"),this.hu=()=>{const n=Ep();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Ep();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Wi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!bu(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw Zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=v_.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class T_ extends Yd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ZV}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||CS(this),this._firestoreClient.terminate()}}function eU(t,e){const n=typeof t=="object"?t:Wg(),r=typeof t=="string"?t:"(default)",i=Ld(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=uI("firestore");s&&XV(i,...s)}return i}function SS(t){return t._firestoreClient||CS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function CS(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,h,g){return new R2(u,c,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,IS(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new HV(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(Wt.fromBase64String(e))}catch(n){throw new re(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fa(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=/^__.*__$/;class nU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}function PS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class S_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new S_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return fd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(PS(this.fu)&&tU.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class rU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kd(e)}Fu(e,n,r,i=!1){return new S_({fu:e,methodName:n,vu:r,path:Pt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kS(t){const e=t._freezeSettings(),n=Kd(t._databaseId);return new rU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iU(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);OS("Data must be an object, but it was:",o,r);const u=NS(r,o);let c,h;if(s.merge)c=new Yn(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const _ of s.mergeFields){const w=oU(e,_,n);if(!o.contains(w))throw new re(z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);lU(g,w)||g.push(w)}c=new Yn(g),h=o.fieldTransforms.filter(_=>c.covers(_.field))}else c=null,h=o.fieldTransforms;return new nU(new Pn(u),c,h)}function sU(t,e,n,r=!1){return C_(n,t.Fu(r?4:3,e))}function C_(t,e){if(bS(t=He(t)))return OS("Unsupported field value:",e,t),NS(t,e);if(t instanceof RS)return function(r,i){if(!PS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const u of r){let c=C_(u,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return G2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=mt.fromDate(r);return{timestampValue:cd(i.serializer,s)}}if(r instanceof mt){const s=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cd(i.serializer,s)}}if(r instanceof A_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fa)return{bytesValue:XA(i.serializer,r._byteString)};if(r instanceof On){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:c_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Qd(r)}`)}(t,e)}function NS(t,e){const n={};return IA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(t,(r,i)=>{const s=C_(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function bS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof A_||t instanceof fa||t instanceof On||t instanceof RS)}function OS(t,e,n){if(!bS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qd(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function oU(t,e,n){if((e=He(e))instanceof I_)return e._internalPath;if(typeof e=="string")return xS(t,e);throw fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const aU=new RegExp("[~\\*/\\[\\]]");function xS(t,e,n){if(e.search(aU)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new I_(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new re(z.INVALID_ARGUMENT,u+t+c)}function lU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(R_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uU extends DS{data(){return super.data()}}function R_(t,e){return typeof e=="string"?xS(t,e):e instanceof I_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P_{}class hU extends P_{}function dU(t,e,...n){let r=[];e instanceof P_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof k_).length,u=s.filter(c=>c instanceof Jd).length;if(o>1||o>0&&u>0)throw new re(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jd extends hU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jd(e,n,r)}_apply(e){const n=this._parse(e);return LS(e._query,n),new Aa(e.firestore,e.converter,Mm(e._query,n))}_parse(e){const n=kS(e.firestore);return function(s,o,u,c,h,g,_){let w;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new re(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Pw(_,g);const b=[];for(const x of _)b.push(Rw(c,s,x));w={arrayValue:{values:b}}}else w=Rw(c,s,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Pw(_,g),w=sU(u,o,_,g==="in"||g==="not-in");return ut.create(h,g,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fU(t,e,n){const r=e,i=R_("where",t);return Jd._create(i,r,n)}class k_ extends P_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new k_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const u=s.getFlattenedFilters();for(const c of u)LS(o,c),o=Mm(o,c)}(e._query,n),new Aa(e.firestore,e.converter,Mm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Rw(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new re(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xA(e)&&n.indexOf("/")!==-1)throw new re(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!se.isDocumentKey(r))throw new re(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return YE(t,new se(r))}if(n instanceof On)return YE(t,n._key);throw new re(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(n)}.`)}function Pw(t,e){if(!Array.isArray(t)||t.length===0)throw new re(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LS(t,e){const n=function(i,s){for(const o of i)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pU{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new A_(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=i_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);De(rS(r));const i=new pu(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||Zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gU extends DS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(R_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vh extends gU{data(e={}){return super.data(e)}}class _U{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vh(this._firestore,this._userDataWriter,r.key,r,new Kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const c=new vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Kc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Kc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,g=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),g=o.indexOf(u.doc.key)),{type:vU(u.type),doc:c,oldIndex:h,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}class yU extends pU{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function MS(t){t=dd(t,Aa);const e=dd(t.firestore,T_),n=SS(e),r=new yU(e);return cU(t._query),QV(n,t._query).then(i=>new _U(e,r,t,i))}function VS(t,e){const n=dd(t.firestore,T_),r=JV(t),i=mU(t.converter,e);return EU(n,[iU(kS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then(()=>r)}function EU(t,e){return function(r,i){const s=new Wi;return r.asyncQueue.enqueueAndForget(async()=>DV(await qV(r),i,s)),s.promise}(SS(t),e)}(function(e,n=!0){(function(i){Ea=i})(Ir),Xr(new wr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new T_(new d2(r.getProvider("auth-internal")),new g2(r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new re(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(h.options.projectId,g)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),bn(KE,"4.6.4",e),bn(KE,"4.6.4","esm2017")})();function wU(){const[t,e]=W.useState(""),[n,r]=W.useState(""),[i,s]=W.useState(""),[o,u]=W.useState(""),[c,h]=W.useState(""),[g,_]=W.useState(!1),{firebase:w,db:b}=W.useContext(ts),x=va(),M=D=>{if(D.preventDefault(),_(!0),i!==o){alert("password do not match"),_(!1);return}lD(w,n,i).then(C=>{const T=C.user;o2(T,{displayName:t}).then(()=>{VS(Xd(b,"users"),{id:T.uid,name:t,phone:c}).then(()=>{_(!1),x("/login")})}).catch(P=>{_(!1),console.log("error storing in firebase",P)})}).catch(C=>{_(!1),C.code;const T=C.message;alert(T)})};return I.jsx("section",{className:"vh-100",style:{backgroundColor:"#eee"},children:I.jsx("div",{className:"container h-100",children:I.jsx("div",{className:"row d-flex justify-content-center align-items-center h-100",children:I.jsx("div",{className:"col-lg-10 col-xl-10",children:I.jsx("div",{className:"card text-black",style:{borderRadius:"25px",backgroundColor:"#d8e8dc"},children:I.jsx("div",{className:"card-body",children:I.jsxs("div",{className:"row justify-content-center",children:[I.jsxs("div",{className:"col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1",children:[I.jsx("p",{className:"text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4",children:"Sign up"}),I.jsxs("form",{onSubmit:M,className:"mx-1 mx-md-4",children:[I.jsxs("div",{className:"d-flex flex-row align-items-center mb-4",children:[I.jsx("i",{className:"fas fa-user fa-lg me-3  mb-3 fa-fw"}),I.jsxs("div",{"data-mdb-input-init":!0,className:"form-outline flex-fill mb-0",children:[I.jsx("input",{type:"text",id:"fname",className:"form-control",name:"name",value:t,onChange:D=>e(D.target.value),required:!0}),I.jsx("label",{className:"form-label",htmlFor:"fname",children:"Your Name"})]})]}),I.jsxs("div",{className:"d-flex flex-row align-items-center mb-4",children:[I.jsx("i",{className:"fas fa-envelope fa-lg me-3 mb-3 fa-fw"}),I.jsxs("div",{"data-mdb-input-init":!0,className:"form-outline flex-fill mb-0",children:[I.jsx("input",{type:"email",id:"email",className:"form-control",name:"email",value:n,onChange:D=>r(D.target.value),required:!0}),I.jsx("label",{className:"email",htmlFor:"email",children:"Your Email"})]})]}),I.jsxs("div",{className:"d-flex flex-row align-items-center mb-4",children:[I.jsx("i",{className:"fas fa-lock fa-lg me-3  mb-3 fa-fw"}),I.jsxs("div",{"data-mdb-input-init":!0,className:"form-outline flex-fill mb-0",children:[I.jsx("input",{type:"number",id:"phone",className:"form-control",name:"phone",value:c,onChange:D=>h(D.target.value),required:!0}),I.jsx("label",{className:"form-label",htmlFor:"password",children:"Mobile Number"})]})]}),I.jsxs("div",{className:"d-flex flex-row align-items-center mb-4",children:[I.jsx("i",{className:"fas fa-lock fa-lg me-3  mb-3 fa-fw"}),I.jsxs("div",{"data-mdb-input-init":!0,className:"form-outline flex-fill mb-0",children:[I.jsx("input",{type:"password",id:"password",className:"form-control",name:"password",value:i,onChange:D=>s(D.target.value),required:!0}),I.jsx("label",{className:"form-label",htmlFor:"password",children:"Password"})]})]}),I.jsxs("div",{className:"d-flex flex-row align-items-center mb-4",children:[I.jsx("i",{className:"fas fa-key fa-lg me-3  mb-3 fa-fw"}),I.jsxs("div",{"data-mdb-input-init":!0,className:"form-outline flex-fill mb-0",children:[I.jsx("input",{type:"password",id:"setpass",className:"form-control",value:o,onChange:D=>u(D.target.value),required:!0}),I.jsx("label",{className:"form-label",htmlFor:"setpass",children:"Repeat your password"})]})]}),I.jsxs("div",{className:"form-check d-flex justify-content-center mb-5",children:[I.jsx("input",{className:"form-check-input me-2",type:"checkbox",value:"",id:"form2Example3c",required:!0}),"I agree to all statements in"," ",I.jsx("a",{href:"#!",id:"terms",className:"text-dark",children:"Terms of service"})]}),I.jsx("div",{className:"d-flex justify-content-center mx-4 mb-3 mb-lg-4",children:g?I.jsxs("button",{class:"btn btn-primary",type:"button",disabled:!0,children:[I.jsx("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Loading..."]}):I.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Register"})})]}),I.jsxs("p",{children:["Already have an account?"," ",I.jsxs(Wh,{to:"/login",className:"text-dark",children:[" ","Login"]})]})]}),I.jsx("div",{className:"col-md-5 col-lg-6 col-xl-7 col-sm-6 d-flex align-items-center order-1 order-lg-2",children:I.jsx("img",{src:sI,className:"img-fluid",id:"image-signup",alt:"Sample image"})})]})})})})})})})}function TU(){return I.jsx("div",{children:I.jsx(wU,{})})}function IU(){const[t,e]=W.useState(""),[n,r]=W.useState(""),[i,s]=W.useState(!1),{firebase:o}=W.useContext(ts),u=va(),c=h=>{h.preventDefault(),s(!0),uD(o,t,n).then(g=>{s(!1),u("/")}).catch(g=>{s(!1),g.code;const _=g.message;alert(_)})};return I.jsx("section",{className:"vh-100",style:{backgroundColor:"#eee"},children:I.jsx("div",{className:"container h-100",children:I.jsx("div",{className:"row d-flex justify-content-center align-items-center h-100",children:I.jsx("div",{className:"col-lg-5 col-xl-4 col-md-6 col-sm-8",children:I.jsx("div",{className:"card text-black",style:{borderRadius:"10px",backgroundColor:"#d8e8dc"},children:I.jsx("div",{className:"card-body",children:I.jsx("div",{className:"row justify-content-center",children:I.jsxs("div",{className:"col-md-12 col-lg-12 col-xl-11 order-2 order-lg-1",children:[I.jsx("p",{className:"text-center h1 fw-bold ",children:"Login"}),I.jsx("div",{className:" m-auto col-md-10 col-lg-6 col-xl-7 d-flex align-items-center justify-content-center order-1 order-lg-2",children:I.jsx("img",{src:sI,className:"img-fluid",id:"image-signup",alt:"Sample image"})}),I.jsxs("form",{onSubmit:c,children:[I.jsxs("div",{className:"d-flex flex-row align-items-center mb-4",children:[I.jsx("i",{className:"fas fa-envelope fa-lg me-3 mb-4 fa-fw"}),I.jsxs("div",{"data-mdb-input-init":!0,className:"form-outline flex-fill mb-0",children:[I.jsx("input",{type:"email",id:"email",className:"form-control",name:"email",value:t,onChange:h=>e(h.target.value)}),I.jsx("label",{className:"email",htmlFor:"email",children:"Your Email"})]})]}),I.jsxs("div",{className:"d-flex flex-row align-items-center justify-content-center mb-4",children:[I.jsx("i",{className:"fas fa-lock fa-lg me-3 mb-4 fa-fw"}),I.jsxs("div",{"data-mdb-input-init":!0,className:"form-outline flex-fill mb-0",children:[I.jsx("input",{type:"password",id:"password",className:"form-control",name:"password",value:n,onChange:h=>r(h.target.value)}),I.jsx("label",{className:"form-label",htmlFor:"password",children:"Password"})]})]}),I.jsx("div",{className:"d-flex justify-content-center mx-4 mb-3 mb-lg-4",children:i?I.jsxs("button",{class:"btn btn-primary",type:"button",disabled:!0,children:[I.jsx("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Loading..."]}):I.jsx("button",{type:"submit",className:"btn btn-primary btn",children:"Login"})})]}),I.jsxs("p",{children:["Don't have an account?"," ",I.jsx(Wh,{to:"/signup",className:"text-dark",children:"Register"})]})]})})})})})})})})}function AU(){return I.jsx("div",{children:I.jsx(IU,{})})}function SU(){return I.jsx("svg",{width:"48px",height:"48px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:I.jsx("path",{className:"rui-77aaa",d:"M661.333 256v512h-128v-512h128zM277.333 298.667c117.824 0 213.333 95.531 213.333 213.333s-95.509 213.333-213.333 213.333c-117.824 0-213.333-95.531-213.333-213.333s95.509-213.333 213.333-213.333zM794.496 384l37.504 37.504 37.504-37.504h90.496v90.496l-37.504 37.504 37.504 37.504v90.496h-90.496l-37.504-37.504-37.504 37.504h-90.496v-90.496l37.504-37.504-37.504-37.504v-90.496h90.496zM277.333 426.667c-47.061 0-85.333 38.293-85.333 85.333s38.272 85.333 85.333 85.333c47.061 0 85.333-38.293 85.333-85.333s-38.272-85.333-85.333-85.333z"})})}function kw(t){return I.jsx("svg",{width:"25px",height:"25px",viewBox:"0 0 1024 1024","data-aut-id":"icon",color:t.color?t.color:"",fillRule:"evenodd",children:I.jsx("path",{className:"rui-77aaa",d:"M448 725.333c-152.917 0-277.333-124.416-277.333-277.333s124.416-277.333 277.333-277.333c152.917 0 277.333 124.416 277.333 277.333s-124.416 277.333-277.333 277.333v0zM884.437 824.107v0.021l-151.915-151.936c48.768-61.781 78.144-139.541 78.144-224.192 0-199.979-162.688-362.667-362.667-362.667s-362.667 162.688-362.667 362.667c0 199.979 162.688 362.667 362.667 362.667 84.629 0 162.411-29.376 224.171-78.144l206.144 206.144h60.352v-60.331l-54.229-54.229z"})})}function Wm(){return I.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:I.jsx("path",{className:"rui-77aaa",d:"M85.392 277.333h60.331l366.336 366.336 366.336-366.336h60.331v60.331l-408.981 409.003h-35.307l-409.045-409.003z"})})}function CU(){return I.jsx("svg",{width:104,height:48,viewBox:"0 0 1603 768",className:"_3V9PS",children:I.jsxs("g",{children:[I.jsx("path",{className:"all",d:"M434.442 16.944h718.82c202.72 0 367.057 164.337 367.057 367.058s-164.337 367.057-367.057 367.057h-718.82c-202.721 0-367.058-164.337-367.058-367.058s164.337-367.058 367.058-367.058z"}),I.jsx("path",{className:"left",d:"M427.241 669.489c-80.917 0-158.59-25.926-218.705-73.004l-0.016-0.014c-69.113-54.119-108.754-131.557-108.754-212.474 0-41.070 9.776-80.712 29.081-117.797 25.058-48.139 64.933-89.278 115.333-118.966l-52.379-67.581c-64.73 38.122-115.955 90.98-148.159 152.845-24.842 47.745-37.441 98.726-37.441 151.499 0 104.027 50.962 203.61 139.799 273.175h0.016c77.312 60.535 177.193 93.887 281.22 93.887h299.699l25.138-40.783-25.138-40.783h-299.698z"}),I.jsx("path",{className:"top",d:"M1318.522 38.596v0c-45.72-14.369-93.752-21.658-142.762-21.658h-748.511c-84.346 0-165.764 21.683-235.441 62.713l3.118 51.726 49.245 15.865c54.16-31.895 117.452-48.739 183.073-48.739h748.511c38.159 0 75.52 5.657 111.029 16.829v0c44.91 14.111 86.594 37.205 120.526 66.792l66.163-57.68c-43.616-38.010-97.197-67.703-154.957-85.852z"}),I.jsx("path",{className:"right",d:"M1473.479 124.453l-55.855 9.91-10.307 47.76c61.844 53.929 95.92 125.617 95.92 201.88 0 25.235-3.772 50.26-11.214 74.363-38.348 124.311-168.398 211.129-316.262 211.129h-448.812l25.121 40.783-25.121 40.783h448.812c190.107 0 357.303-111.638 406.613-271.498 9.572-31.009 14.423-63.162 14.423-95.559 0-98.044-43.805-190.216-123.317-259.551z"})]})})}function RU(t){return I.jsx("svg",{width:"16px",height:"16px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:I.jsx("path",{className:"rui-367TP",d:"M414.898 123.739v291.218h-291.218l-97.014 97.014 97.014 97.131h291.218v291.16l97.073 97.071 97.073-97.071v-291.16h291.16l97.131-97.131-97.131-97.014h-291.16v-291.218l-97.073-97.073z"})})}function N_(){const{user:t}=W.useContext(Od),{firebase:e}=W.useContext(ts),n=va(),r=()=>{fD(e).then(()=>{n("/")})};return I.jsx("div",{className:"headerParentDiv",children:I.jsxs("div",{className:"headerChildDiv",children:[I.jsx("div",{className:"brandName",children:I.jsx(SU,{})}),I.jsxs("div",{className:"placeSearch",children:[I.jsx(kw,{}),I.jsx("input",{type:"text"}),I.jsx(Wm,{})]}),I.jsxs("div",{className:"productSearch",children:[I.jsx("div",{className:"input",children:I.jsx("input",{type:"text",placeholder:"Find car,mobile phone and more..."})}),I.jsx("div",{className:"searchAction",children:I.jsx(kw,{color:"#ffffff"})})]}),I.jsxs("div",{className:"language",children:[I.jsx("span",{children:" ENGLISH "}),I.jsx(Wm,{})]}),I.jsxs("div",{className:"loginPage",children:[t?I.jsxs("div",{className:"dropdown",children:[I.jsx("div",{className:"mt-2 d-block link-body-emphasis  dropdown-toggle text-dark","data-bs-toggle":"dropdown","aria-expanded":"false",children:I.jsx("i",{className:"fa-solid fa-user-secret text-dark fs-3"})}),I.jsxs("ul",{className:"dropdown-menu text-small bg-light",style:{},children:[I.jsx("li",{children:I.jsx("p",{className:"dropdown-item ",children:t.displayName})}),I.jsx("li",{children:I.jsx("p",{className:"dropdown-item",href:"/grrui",children:"Profile settings"})}),I.jsx("li",{children:I.jsx("p",{className:"dropdown-item logoutbtn",onClick:r,children:"Logout"})})]})]}):I.jsx(Wh,{to:"/login",className:"text-dark h6",children:"Login"}),I.jsx("hr",{})]}),I.jsx(Wh,{to:t?"/create":"/login",children:I.jsxs("div",{className:"sellMenu",children:[I.jsx(CU,{}),I.jsxs("div",{className:"sellMenuContent",children:[I.jsx(RU,{}),I.jsx("span",{children:"SELL"})]})]})})]})})}function PU(){return I.jsx("div",{className:"bannerParentDiv",children:I.jsxs("div",{className:"bannerChildDiv",children:[I.jsxs("div",{className:"menuBar",children:[I.jsxs("div",{className:"categoryMenu",children:[I.jsx("span",{children:"ALL CATEGORIES"}),I.jsx(Wm,{})]}),I.jsxs("div",{className:"otherQuickOptions",children:[I.jsx("span",{children:"Cars"}),I.jsx("span",{children:"Motorcy..."}),I.jsx("span",{children:"Mobile Ph..."}),I.jsx("span",{children:"For Sale:Houses & Apart..."}),I.jsx("span",{children:"Scoot..."}),I.jsx("span",{children:"Commercial & Other Ve..."}),I.jsx("span",{children:"For Rent: House & Apart..."})]})]}),I.jsx("div",{className:"banner",children:I.jsx("img",{src:"../../../Images/banner copy.png",alt:"",width:"100vw"})})]})})}function kU(){return I.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 1024 1024","data-aut-id":"icon",fillRule:"evenodd",children:I.jsx("path",{className:"rui-77aaa",d:"M830.798 448.659l-318.798 389.915-317.828-388.693c-20.461-27.171-31.263-59.345-31.263-93.033 0-85.566 69.605-155.152 155.152-155.152 72.126 0 132.752 49.552 150.051 116.364h87.777c17.299-66.812 77.905-116.364 150.051-116.364 85.547 0 155.152 69.585 155.152 155.152 0 33.687-10.802 65.862-30.293 91.811zM705.939 124.121c-80.853 0-152.204 41.425-193.939 104.204-41.736-62.778-113.086-104.204-193.939-104.204-128.33 0-232.727 104.378-232.727 232.727 0 50.657 16.194 98.948 47.806 140.897l328.766 402.133h100.189l329.716-403.355c30.662-40.727 46.856-89.018 46.856-139.675 0-128.349-104.398-232.727-232.727-232.727z"})})}const b_=W.createContext(null);function NU({children:t}){const[e,n]=W.useState(null);return I.jsx(b_.Provider,{value:{postDetails:e,setPostDetails:n},children:t})}function bU(){const[t,e]=W.useState([]),[n,r]=W.useState(!0),{db:i}=W.useContext(ts),{postDetails:s,setPostDetails:o}=W.useContext(b_),u=va();return W.useEffect(()=>{MS(Xd(i,"products")).then(c=>{const h=c.docs.map(g=>({...g.data(),id:g.id}));e(h),r(!1)}).catch(c=>{console.log("error fetching product",c),r(!1)})},[]),I.jsx("div",{className:"postParentDiv",children:n?I.jsx("div",{className:"loading-spinner"}):I.jsxs("div",{className:"recommendations",children:[I.jsx("div",{className:"heading",children:I.jsx("span",{children:"Fresh recommendations"})}),I.jsx("div",{className:"cards",children:t.map(c=>I.jsxs("div",{className:"card1",children:[I.jsx("div",{className:"favorite",children:I.jsx(kU,{})}),I.jsxs("div",{onClick:()=>{o(c),u("/view")},children:[I.jsx("div",{className:"image",children:I.jsx("img",{src:c.imageurl,alt:""})}),I.jsxs("div",{className:"content",children:[I.jsxs("p",{className:"rate",children:["₹ ",c.price]}),I.jsx("span",{className:"pname",children:c.productName}),I.jsxs("p",{className:"pcategory",children:[" ",c.category]}),I.jsx("span",{children:c.createdAt})]})]})]},c.id))})]})})}function OU(){return I.jsx("div",{className:"footerParentDiv",children:I.jsxs("div",{className:"contents",children:[I.jsx("div",{className:"list-section",children:I.jsxs("ul",{children:[I.jsx("p",{children:"POPULAR LOCATIONS"}),I.jsx("li",{children:"kolkata"}),I.jsx("li",{children:"Mumbai"}),I.jsx("li",{children:"Chennai"}),I.jsx("li",{children:"Pune"})]})}),I.jsx("div",{className:"list-section",children:I.jsxs("ul",{children:[I.jsx("p",{children:"TRENDING LOCATIONS"}),I.jsx("li",{children:"Bhuvaneshwar"}),I.jsx("li",{children:"Hyderabad"}),I.jsx("li",{children:"Chandigarh"}),I.jsx("li",{children:"Nashik"})]})}),I.jsx("div",{className:"list-section",children:I.jsxs("ul",{children:[I.jsx("p",{children:"ABOUT US"}),I.jsx("li",{children:"Contact us"}),I.jsx("li",{children:"Tech@olx"})]})}),I.jsx("div",{className:"list-section",children:I.jsxs("ul",{children:[I.jsx("p",{children:"OLX"}),I.jsx("li",{children:"Blog"}),I.jsx("li",{children:"Help"}),I.jsx("li",{children:"Sitemap"}),I.jsx("li",{children:"Legal & Privacy information"}),I.jsx("li",{children:"Vulnerability Disclosure Program"})]})}),I.jsxs("div",{className:"list-section",children:[I.jsx("p",{className:"follow",children:"FOLLOW US"}),I.jsxs("div",{children:[I.jsx("i",{className:"fa-brands fa-facebook-f me-3"}),I.jsx("i",{className:"fa-brands fa-instagram me-3"}),I.jsx("i",{className:"fa-brands fa-twitter me-3"}),I.jsx("i",{className:"fa-regular fa-circle-play me-3"})]})]})]})})}function xU(t){return I.jsxs("div",{className:"homeParentDiv",children:[I.jsx(N_,{}),I.jsx(PU,{}),I.jsx(bU,{}),I.jsx(OU,{})]})}function DU(){const[t,e]=W.useState(),{db:n}=W.useContext(ts),{postDetails:r}=W.useContext(b_);return W.useEffect(()=>{const{userId:i}=r;MS(dU(Xd(n,"users"),fU("id","==",i))).then(s=>{s.forEach(o=>{e(o.data())})}).catch(s=>{console.log(s)})},[]),I.jsxs("div",{className:"viewParentDiv",children:[I.jsx("div",{className:"imageShowDiv",children:I.jsx("img",{src:r.imageurl,alt:""})}),I.jsxs("div",{className:"rightSection",children:[I.jsxs("div",{className:"productDetails",children:[I.jsxs("p",{children:["₹ ",r.price," "]}),I.jsx("span",{children:r.productName}),I.jsx("p",{children:r.category}),I.jsx("span",{children:r.createdAt})]}),t&&I.jsxs("div",{className:"contactDetails",children:[I.jsx("p",{children:"Seller details"}),I.jsx("p",{children:t.name}),I.jsx("p",{children:t.phone})]})]})]})}function LU(t){return I.jsxs("div",{children:[I.jsx(N_,{}),I.jsx(DU,{})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="firebasestorage.googleapis.com",FS="storageBucket",MU=2*60*1e3,VU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends Ln{constructor(e,n,r=0){super(Tp(e),`Firebase Storage: ${n} (${Tp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Je||(Je={}));function Tp(t){return"storage/"+t}function O_(){const t="An unknown error occurred, please check the error payload for server response.";return new Ze(Je.UNKNOWN,t)}function UU(t){return new Ze(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function FU(t){return new Ze(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $U(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ze(Je.UNAUTHENTICATED,t)}function jU(){return new Ze(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BU(t){return new Ze(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function zU(){return new Ze(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HU(){return new Ze(Je.CANCELED,"User canceled the upload/download.")}function WU(t){return new Ze(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function KU(t){return new Ze(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function qU(){return new Ze(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FS+"' property when initializing the app?")}function GU(){return new Ze(Je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QU(){return new Ze(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YU(t){return new Ze(Je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Km(t){return new Ze(Je.INVALID_ARGUMENT,t)}function $S(){return new Ze(Je.APP_DELETED,"The Firebase app was deleted.")}function XU(t){return new Ze(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zl(t,e){return new Ze(Je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gl(t){throw new Ze(Je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mn.makeFromUrl(e,n)}catch{return new mn(e,"")}if(r.path==="")return r;throw KU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function h($){$.path_=decodeURIComponent($.path)}const g="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",b=new RegExp(`^https?://${_}/${g}/b/${i}/o${w}`,"i"),x={bucket:1,path:3},M=n===US?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",C=new RegExp(`^https?://${M}/${i}/${D}`,"i"),P=[{regex:u,indices:c,postModify:s},{regex:b,indices:x,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let $=0;$<P.length;$++){const Q=P[$],K=Q.regex.exec(e);if(K){const A=K[Q.indices.bucket];let E=K[Q.indices.path];E||(E=""),r=new mn(A,E),Q.postModify(r);break}}if(r==null)throw WU(e);return r}}class JU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t,e,n){let r=1,i=null,s=null,o=!1,u=0;function c(){return u===2}let h=!1;function g(...D){h||(h=!0,e.apply(null,D))}function _(D){i=setTimeout(()=>{i=null,t(b,c())},D)}function w(){s&&clearTimeout(s)}function b(D,...C){if(h){w();return}if(D){w(),g.call(null,D,...C);return}if(c()||o){w(),g.call(null,D,...C);return}r<64&&(r*=2);let P;u===1?(u=2,P=0):P=(r+Math.random())*1e3,_(P)}let x=!1;function M(D){x||(x=!0,w(),!h&&(i!==null?(D||(u=2),clearTimeout(i),_(0)):D||(u=1)))}return _(0),s=setTimeout(()=>{o=!0,M(!0)},n),M}function e4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){return t!==void 0}function n4(t){return typeof t=="object"&&!Array.isArray(t)}function x_(t){return typeof t=="string"||t instanceof String}function Nw(t){return D_()&&t instanceof Blob}function D_(){return typeof Blob<"u"}function bw(t,e,n,r){if(r<e)throw Km(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Km(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function jS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fs||(Fs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,r,i,s,o,u,c,h,g,_,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=_,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new qc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===Fs.NO_ERROR,c=s.getStatus();if(!u||r4(c,this.additionalRetryCodes_)&&this.retry){const g=s.getErrorCode()===Fs.ABORT;r(!1,new qc(!1,null,g));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new qc(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());t4(c)?s(c):s()}catch(c){o(c)}else if(u!==null){const c=O_();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(i.canceled){const c=this.appDelete_?$S():HU();o(c)}else{const c=zU();o(c)}};this.canceled_?n(!1,new qc(!1,null,!0)):this.backoffId_=ZU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function s4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function o4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function a4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function l4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function u4(t,e,n,r,i,s,o=!0){const u=jS(t.urlParams),c=t.url+u,h=Object.assign({},t.headers);return a4(h,e),s4(h,n),o4(h,s),l4(h,r),new i4(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function h4(...t){const e=c4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(D_())return new Blob(t);throw new Ze(Je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function d4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){if(typeof atob>"u")throw YU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ip{constructor(e,n){this.data=e,this.contentType=n||null}}function p4(t,e){switch(t){case pr.RAW:return new Ip(BS(e));case pr.BASE64:case pr.BASE64URL:return new Ip(zS(t,e));case pr.DATA_URL:return new Ip(g4(e),_4(e))}throw O_()}function BS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function m4(t){let e;try{e=decodeURIComponent(t)}catch{throw zl(pr.DATA_URL,"Malformed data URL.")}return BS(e)}function zS(t,e){switch(t){case pr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw zl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw zl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=f4(e)}catch(i){throw i.message.includes("polyfill")?i:zl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class HS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zl(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=v4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function g4(t){const e=new HS(t);return e.base64?zS(pr.BASE64,e.rest):m4(e.rest)}function _4(t){return new HS(t).contentType}function v4(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){let r=0,i="";Nw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Nw(this.data_)){const r=this.data_,i=d4(r,e,n);return i===null?null:new Pi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Pi(r,!0)}}static getBlob(...e){if(D_()){const n=e.map(r=>r instanceof Pi?r.data_:r);return new Pi(h4.apply(null,n))}else{const n=e.map(o=>x_(o)?p4(pr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new Pi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){let e;try{e=JSON.parse(t)}catch{return null}return n4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function E4(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function KS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t,e){return e}class Yt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||w4}}let Gc=null;function T4(t){return!x_(t)||t.length<2?t:KS(t)}function qS(){if(Gc)return Gc;const t=[];t.push(new Yt("bucket")),t.push(new Yt("generation")),t.push(new Yt("metageneration")),t.push(new Yt("name","fullPath",!0));function e(s,o){return T4(o)}const n=new Yt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Yt("size");return i.xform=r,t.push(i),t.push(new Yt("timeCreated")),t.push(new Yt("updated")),t.push(new Yt("md5Hash",null,!0)),t.push(new Yt("cacheControl",null,!0)),t.push(new Yt("contentDisposition",null,!0)),t.push(new Yt("contentEncoding",null,!0)),t.push(new Yt("contentLanguage",null,!0)),t.push(new Yt("contentType",null,!0)),t.push(new Yt("metadata","customMetadata",!0)),Gc=t,Gc}function I4(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new mn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function A4(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return I4(r,t),r}function GS(t,e,n){const r=WS(e);return r===null?null:A4(t,r,n)}function S4(t,e,n,r){const i=WS(e);if(i===null||!x_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const g=t.bucket,_=t.fullPath,w="/b/"+o(g)+"/o/"+o(_),b=L_(w,n,r),x=jS({alt:"media",token:h});return b+x})[0]}function C4(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class QS{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){if(!t)throw O_()}function R4(t,e){function n(r,i){const s=GS(t,i,e);return YS(s!==null),s}return n}function P4(t,e){function n(r,i){const s=GS(t,i,e);return YS(s!==null),S4(s,i,t.host,t._protocol)}return n}function XS(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=jU():i=$U():n.getStatus()===402?i=FU(t.bucket):n.getStatus()===403?i=BU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function k4(t){const e=XS(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=UU(t.path)),s.serverResponse=i.serverResponse,s}return n}function N4(t,e,n){const r=e.fullServerUrl(),i=L_(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,u=new QS(i,s,P4(t,n),o);return u.errorHandler=k4(e),u}function b4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function O4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=b4(null,e)),r}function x4(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let P="";for(let $=0;$<2;$++)P=P+Math.random().toString().slice(2);return P}const c=u();o["Content-Type"]="multipart/related; boundary="+c;const h=O4(e,r,i),g=C4(h,n),_="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,w=`\r
--`+c+"--",b=Pi.getBlob(_,r,w);if(b===null)throw GU();const x={name:h.fullPath},M=L_(s,t.host,t._protocol),D="POST",C=t.maxUploadRetryTime,T=new QS(M,D,R4(t,n),C);return T.urlParams=x,T.headers=o,T.body=b.uploadData(),T.errorHandler=XS(e),T}class D4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw gl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class L4 extends D4{initXhr(){this.xhr_.responseType="text"}}function JS(){return new L4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this._service=e,n instanceof mn?this._location=n:this._location=mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xs(e,n)}get root(){const e=new mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KS(this._location.path)}get storage(){return this._service}get parent(){const e=y4(this._location.path);if(e===null)return null;const n=new mn(this._location.bucket,e);return new Xs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw XU(e)}}function M4(t,e,n){t._throwIfRoot("uploadBytes");const r=x4(t.storage,t._location,qS(),new Pi(e,!0),n);return t.storage.makeRequestWithTokens(r,JS).then(i=>({metadata:i,ref:t}))}function V4(t){t._throwIfRoot("getDownloadURL");const e=N4(t.storage,t._location,qS());return t.storage.makeRequestWithTokens(e,JS).then(n=>{if(n===null)throw QU();return n})}function U4(t,e){const n=E4(t._location.path,e),r=new mn(t._location.bucket,n);return new Xs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){return/^[A-Za-z]+:\/\//.test(t)}function $4(t,e){return new Xs(t,e)}function ZS(t,e){if(t instanceof M_){const n=t;if(n._bucket==null)throw qU();const r=new Xs(n,n._bucket);return e!=null?ZS(r,e):r}else return e!==void 0?U4(t,e):t}function j4(t,e){if(e&&F4(e)){if(t instanceof M_)return $4(t,e);throw Km("To use ref(service, url), the first argument must be a Storage instance.")}else return ZS(t,e)}function Ow(t,e){const n=e==null?void 0:e[FS];return n==null?null:mn.makeFromBucketSpec(n,t)}function B4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:dI(i,t.app.options.projectId))}class M_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=US,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MU,this._maxUploadRetryTime=VU,this._requests=new Set,i!=null?this._bucket=mn.makeFromBucketSpec(i,this._host):this._bucket=Ow(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mn.makeFromBucketSpec(this._url,e):this._bucket=Ow(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new JU($S());{const o=u4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const xw="@firebase/storage",Dw="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="storage";function z4(t,e,n){return t=He(t),M4(t,e,n)}function H4(t){return t=He(t),V4(t)}function W4(t,e){return t=He(t),j4(t,e)}function K4(t=Wg(),e){t=He(t);const r=Ld(t,e1).getImmediate({identifier:e}),i=uI("storage");return i&&q4(r,...i),r}function q4(t,e,n,r={}){B4(t,e,n,r)}function G4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new M_(n,r,i,e,Ir)}function Q4(){Xr(new wr(e1,G4,"PUBLIC").setMultipleInstances(!0)),bn(xw,Dw,""),bn(xw,Dw,"esm2017")}Q4();const Y4=()=>{const[t,e]=W.useState(""),[n,r]=W.useState(""),[i,s]=W.useState(""),[o,u]=W.useState(!1),[c,h]=W.useState(""),{db:g,storage:_}=W.useContext(ts),{user:w}=W.useContext(Od),b=new Date,x=va(),M=()=>{if(u(!0),!t||!n||!i||!c){u(!1),alert("All fields required");return}const D=W4(_,`images/${c.name}`);z4(D,c).then(C=>{H4(C.ref).then(T=>{VS(Xd(g,"products"),{userId:w.uid,productName:t,category:n,price:i,imageurl:T,createdAt:b.toDateString()}).then(()=>{u(!1),x("/")}).catch(P=>{u(!1),console.log("error in adding product",P)})})})};return I.jsxs(W.Fragment,{children:[I.jsx(N_,{}),I.jsx("div",{children:I.jsxs("div",{className:"centerDiv",children:[I.jsxs("form",{children:[I.jsx("label",{htmlFor:"fname",children:"Name"}),I.jsx("br",{}),I.jsx("input",{className:"input",type:"text",id:"fname",name:"productname",value:t,onChange:D=>e(D.target.value)}),I.jsx("br",{}),I.jsx("label",{htmlFor:"fname",children:"Category"}),I.jsx("br",{}),I.jsx("input",{className:"input",type:"text",id:"fname",name:"category",value:n,onChange:D=>r(D.target.value)}),I.jsx("br",{}),I.jsx("label",{htmlFor:"fname",children:"Price"}),I.jsx("br",{}),I.jsx("input",{className:"input",type:"number",id:"fname",name:"Price",value:i,onChange:D=>s(D.target.value)}),I.jsx("br",{})]}),I.jsx("br",{}),I.jsx("img",{width:"200px",height:"200px",src:c?URL.createObjectURL(c):"",alt:"image preview"}),I.jsx("br",{}),I.jsx("input",{type:"file",onChange:D=>h(D.target.files[0])}),I.jsx("br",{}),o?I.jsxs("button",{class:"uploadBtn",type:"button",disabled:!0,children:[I.jsx("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Uploading..."]}):I.jsx("button",{className:"uploadBtn",onClick:M,children:"upload and Submit"})]})})]})};function X4(){const{setUser:t}=W.useContext(Od),{firebase:e}=W.useContext(ts);return W.useEffect(()=>{dD(e,n=>{t(n)})}),I.jsx(NU,{children:I.jsx(Mb,{children:I.jsxs(kb,{children:[I.jsx(Ro,{path:"/",element:I.jsx(xU,{})}),I.jsx(Ro,{path:"/signup",element:I.jsx(TU,{})}),I.jsx(Ro,{path:"/login",element:I.jsx(AU,{})}),I.jsx(Ro,{path:"/create",element:I.jsx(Y4,{})}),I.jsx(Ro,{path:"/view",element:I.jsx(LU,{})})]})})})}var J4={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(fP,function(){const n=new Map,r={set(p,l,f){n.has(p)||n.set(p,new Map);const v=n.get(p);if(!v.has(l)&&v.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(v.keys())[0]}.`);return}v.set(l,f)},get(p,l){return n.has(p)&&n.get(p).get(l)||null},remove(p,l){if(!n.has(p))return;const f=n.get(p);f.delete(l),f.size===0&&n.delete(p)}},i=1e6,s=1e3,o="transitionend",u=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(l,f)=>`#${CSS.escape(f)}`)),p),c=p=>p==null?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase(),h=p=>{do p+=Math.floor(Math.random()*i);while(document.getElementById(p));return p},g=p=>{if(!p)return 0;let{transitionDuration:l,transitionDelay:f}=window.getComputedStyle(p);const v=Number.parseFloat(l),R=Number.parseFloat(f);return!v&&!R?0:(l=l.split(",")[0],f=f.split(",")[0],(Number.parseFloat(l)+Number.parseFloat(f))*s)},_=p=>{p.dispatchEvent(new Event(o))},w=p=>!p||typeof p!="object"?!1:(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),b=p=>w(p)?p.jquery?p[0]:p:typeof p=="string"&&p.length>0?document.querySelector(u(p)):null,x=p=>{if(!w(p)||p.getClientRects().length===0)return!1;const l=getComputedStyle(p).getPropertyValue("visibility")==="visible",f=p.closest("details:not([open])");if(!f)return l;if(f!==p){const v=p.closest("summary");if(v&&v.parentNode!==f||v===null)return!1}return l},M=p=>!p||p.nodeType!==Node.ELEMENT_NODE||p.classList.contains("disabled")?!0:typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&p.getAttribute("disabled")!=="false",D=p=>{if(!document.documentElement.attachShadow)return null;if(typeof p.getRootNode=="function"){const l=p.getRootNode();return l instanceof ShadowRoot?l:null}return p instanceof ShadowRoot?p:p.parentNode?D(p.parentNode):null},C=()=>{},T=p=>{p.offsetHeight},P=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,$=[],Q=p=>{document.readyState==="loading"?($.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of $)l()}),$.push(p)):p()},K=()=>document.documentElement.dir==="rtl",A=p=>{Q(()=>{const l=P();if(l){const f=p.NAME,v=l.fn[f];l.fn[f]=p.jQueryInterface,l.fn[f].Constructor=p,l.fn[f].noConflict=()=>(l.fn[f]=v,p.jQueryInterface)}})},E=(p,l=[],f=p)=>typeof p=="function"?p(...l):f,S=(p,l,f=!0)=>{if(!f){E(p);return}const R=g(l)+5;let U=!1;const F=({target:B})=>{B===l&&(U=!0,l.removeEventListener(o,F),E(p))};l.addEventListener(o,F),setTimeout(()=>{U||_(l)},R)},k=(p,l,f,v)=>{const R=p.length;let U=p.indexOf(l);return U===-1?!f&&v?p[R-1]:p[0]:(U+=f?1:-1,v&&(U=(U+R)%R),p[Math.max(0,Math.min(U,R-1))])},O=/[^.]*(?=\..*)\.|.*/,V=/\..*/,N=/::\d+$/,Ot={};let nr=1;const ni={mouseenter:"mouseover",mouseleave:"mouseout"},Mn=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Z(p,l){return l&&`${l}::${nr++}`||p.uidEvent||nr++}function oe(p){const l=Z(p);return p.uidEvent=l,Ot[l]=Ot[l]||{},Ot[l]}function he(p,l){return function f(v){return Sa(v,{delegateTarget:p}),f.oneOff&&H.off(p,v.type,l),l.apply(p,[v])}}function Me(p,l,f){return function v(R){const U=p.querySelectorAll(l);for(let{target:F}=R;F&&F!==this;F=F.parentNode)for(const B of U)if(B===F)return Sa(R,{delegateTarget:F}),v.oneOff&&H.off(p,R.type,l,f),f.apply(F,[R])}}function Ce(p,l,f=null){return Object.values(p).find(v=>v.callable===l&&v.delegationSelector===f)}function Be(p,l,f){const v=typeof l=="string",R=v?f:l||f;let U=wn(p);return Mn.has(U)||(U=p),[v,R,U]}function En(p,l,f,v,R){if(typeof l!="string"||!p)return;let[U,F,B]=Be(l,f,v);l in ni&&(F=(Oe=>function(me){if(!me.relatedTarget||me.relatedTarget!==me.delegateTarget&&!me.delegateTarget.contains(me.relatedTarget))return Oe.call(this,me)})(F));const G=oe(p),te=G[B]||(G[B]={}),X=Ce(te,F,U?f:null);if(X){X.oneOff=X.oneOff&&R;return}const fe=Z(F,l.replace(O,"")),pe=U?Me(p,f,F):he(p,F);pe.delegationSelector=U?f:null,pe.callable=F,pe.oneOff=R,pe.uidEvent=fe,te[fe]=pe,p.addEventListener(B,pe,U)}function un(p,l,f,v,R){const U=Ce(l[f],v,R);U&&(p.removeEventListener(f,U,!!R),delete l[f][U.uidEvent])}function Vn(p,l,f,v){const R=l[f]||{};for(const[U,F]of Object.entries(R))U.includes(v)&&un(p,l,f,F.callable,F.delegationSelector)}function wn(p){return p=p.replace(V,""),ni[p]||p}const H={on(p,l,f,v){En(p,l,f,v,!1)},one(p,l,f,v){En(p,l,f,v,!0)},off(p,l,f,v){if(typeof l!="string"||!p)return;const[R,U,F]=Be(l,f,v),B=F!==l,G=oe(p),te=G[F]||{},X=l.startsWith(".");if(typeof U<"u"){if(!Object.keys(te).length)return;un(p,G,F,U,R?f:null);return}if(X)for(const fe of Object.keys(G))Vn(p,G,fe,l.slice(1));for(const[fe,pe]of Object.entries(te)){const ue=fe.replace(N,"");(!B||l.includes(ue))&&un(p,G,F,pe.callable,pe.delegationSelector)}},trigger(p,l,f){if(typeof l!="string"||!p)return null;const v=P(),R=wn(l),U=l!==R;let F=null,B=!0,G=!0,te=!1;U&&v&&(F=v.Event(l,f),v(p).trigger(F),B=!F.isPropagationStopped(),G=!F.isImmediatePropagationStopped(),te=F.isDefaultPrevented());const X=Sa(new Event(l,{bubbles:B,cancelable:!0}),f);return te&&X.preventDefault(),G&&p.dispatchEvent(X),X.defaultPrevented&&F&&F.preventDefault(),X}};function Sa(p,l={}){for(const[f,v]of Object.entries(l))try{p[f]=v}catch{Object.defineProperty(p,f,{configurable:!0,get(){return v}})}return p}function ss(p){if(p==="true")return!0;if(p==="false")return!1;if(p===Number(p).toString())return Number(p);if(p===""||p==="null")return null;if(typeof p!="string")return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function ri(p){return p.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const cn={setDataAttribute(p,l,f){p.setAttribute(`data-bs-${ri(l)}`,f)},removeDataAttribute(p,l){p.removeAttribute(`data-bs-${ri(l)}`)},getDataAttributes(p){if(!p)return{};const l={},f=Object.keys(p.dataset).filter(v=>v.startsWith("bs")&&!v.startsWith("bsConfig"));for(const v of f){let R=v.replace(/^bs/,"");R=R.charAt(0).toLowerCase()+R.slice(1,R.length),l[R]=ss(p.dataset[v])}return l},getDataAttribute(p,l){return ss(p.getAttribute(`data-bs-${ri(l)}`))}};class Ar{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,f){const v=w(f)?cn.getDataAttribute(f,"config"):{};return{...this.constructor.Default,...typeof v=="object"?v:{},...w(f)?cn.getDataAttributes(f):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,f=this.constructor.DefaultType){for(const[v,R]of Object.entries(f)){const U=l[v],F=w(U)?"element":c(U);if(!new RegExp(R).test(F))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${F}" but expected type "${R}".`)}}}const Ca="5.3.3";class Kt extends Ar{constructor(l,f){super(),l=b(l),l&&(this._element=l,this._config=this._getConfig(f),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),H.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,f,v=!0){S(l,f,v)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return r.get(b(l),this.DATA_KEY)}static getOrCreateInstance(l,f={}){return this.getInstance(l)||new this(l,typeof f=="object"?f:null)}static get VERSION(){return Ca}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const oo=p=>{let l=p.getAttribute("data-bs-target");if(!l||l==="#"){let f=p.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),l=f&&f!=="#"?f.trim():null}return l?l.split(",").map(f=>u(f)).join(","):null},ie={find(p,l=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(l,p))},findOne(p,l=document.documentElement){return Element.prototype.querySelector.call(l,p)},children(p,l){return[].concat(...p.children).filter(f=>f.matches(l))},parents(p,l){const f=[];let v=p.parentNode.closest(l);for(;v;)f.push(v),v=v.parentNode.closest(l);return f},prev(p,l){let f=p.previousElementSibling;for(;f;){if(f.matches(l))return[f];f=f.previousElementSibling}return[]},next(p,l){let f=p.nextElementSibling;for(;f;){if(f.matches(l))return[f];f=f.nextElementSibling}return[]},focusableChildren(p){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(l,p).filter(f=>!M(f)&&x(f))},getSelectorFromElement(p){const l=oo(p);return l&&ie.findOne(l)?l:null},getElementFromSelector(p){const l=oo(p);return l?ie.findOne(l):null},getMultipleElementsFromSelector(p){const l=oo(p);return l?ie.find(l):[]}},ao=(p,l="hide")=>{const f=`click.dismiss${p.EVENT_KEY}`,v=p.NAME;H.on(document,f,`[data-bs-dismiss="${v}"]`,function(R){if(["A","AREA"].includes(this.tagName)&&R.preventDefault(),M(this))return;const U=ie.getElementFromSelector(this)||this.closest(`.${v}`);p.getOrCreateInstance(U)[l]()})},Vu="alert",Ra=".bs.alert",Zd=`close${Ra}`,Pa=`closed${Ra}`,ka="fade",Fu="show";class Qe extends Kt{static get NAME(){return Vu}close(){if(H.trigger(this._element,Zd).defaultPrevented)return;this._element.classList.remove(Fu);const f=this._element.classList.contains(ka);this._queueCallback(()=>this._destroyElement(),this._element,f)}_destroyElement(){this._element.remove(),H.trigger(this._element,Pa),this.dispose()}static jQueryInterface(l){return this.each(function(){const f=Qe.getOrCreateInstance(this);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l](this)}})}}ao(Qe,"close"),A(Qe);const It="button",$u=".bs.button",ju=".data-api",ef="active",ii='[data-bs-toggle="button"]',Bu=`click${$u}${ju}`;class si extends Kt{static get NAME(){return It}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ef))}static jQueryInterface(l){return this.each(function(){const f=si.getOrCreateInstance(this);l==="toggle"&&f[l]()})}}H.on(document,Bu,ii,p=>{p.preventDefault();const l=p.target.closest(ii);si.getOrCreateInstance(l).toggle()}),A(si);const ba="swipe",oi=".bs.swipe",tf=`touchstart${oi}`,Oa=`touchmove${oi}`,zu=`touchend${oi}`,Hu=`pointerdown${oi}`,os=`pointerup${oi}`,xa="touch",Da="pen",Sr="pointer-event",Wu=40,lo={endCallback:null,leftCallback:null,rightCallback:null},Ku={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class rr extends Ar{constructor(l,f){super(),this._element=l,!(!l||!rr.isSupported())&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return lo}static get DefaultType(){return Ku}static get NAME(){return ba}dispose(){H.off(this._element,oi)}_start(l){if(!this._supportPointerEvents){this._deltaX=l.touches[0].clientX;return}this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX)}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),E(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=Wu)return;const f=l/this._deltaX;this._deltaX=0,f&&E(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(H.on(this._element,Hu,l=>this._start(l)),H.on(this._element,os,l=>this._end(l)),this._element.classList.add(Sr)):(H.on(this._element,tf,l=>this._start(l)),H.on(this._element,Oa,l=>this._move(l)),H.on(this._element,zu,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType===Da||l.pointerType===xa)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const qu="carousel",Un=".bs.carousel",ai=".data-api",as="ArrowLeft",nf="ArrowRight",rf=500,Tn="next",li="prev",ui="left",Cr="right",Gu=`slide${Un}`,ls=`slid${Un}`,uo=`keydown${Un}`,ir=`mouseenter${Un}`,Qu=`mouseleave${Un}`,Yu=`dragstart${Un}`,La=`load${Un}${ai}`,Ma=`click${Un}${ai}`,Va="carousel",us="active",sf="slide",co="carousel-item-end",Xu="carousel-item-start",Ua="carousel-item-next",cs="carousel-item-prev",sr=".active",ho=".carousel-item",of=sr+ho,Ju=".carousel-item img",Zu=".carousel-indicators",ec="[data-bs-slide], [data-bs-slide-to]",Fa='[data-bs-ride="carousel"]',$a={[as]:Cr,[nf]:ui},tc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},nc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ci extends Kt{constructor(l,f){super(l,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ie.findOne(Zu,this._element),this._addEventListeners(),this._config.ride===Va&&this.cycle()}static get Default(){return tc}static get DefaultType(){return nc}static get NAME(){return qu}next(){this._slide(Tn)}nextWhenVisible(){!document.hidden&&x(this._element)&&this.next()}prev(){this._slide(li)}pause(){this._isSliding&&_(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){H.one(this._element,ls,()=>this.cycle());return}this.cycle()}}to(l){const f=this._getItems();if(l>f.length-1||l<0)return;if(this._isSliding){H.one(this._element,ls,()=>this.to(l));return}const v=this._getItemIndex(this._getActive());if(v===l)return;const R=l>v?Tn:li;this._slide(R,f[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&H.on(this._element,uo,l=>this._keydown(l)),this._config.pause==="hover"&&(H.on(this._element,ir,()=>this.pause()),H.on(this._element,Qu,()=>this._maybeEnableCycle())),this._config.touch&&rr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of ie.find(Ju,this._element))H.on(v,Yu,R=>R.preventDefault());const f={leftCallback:()=>this._slide(this._directionToOrder(ui)),rightCallback:()=>this._slide(this._directionToOrder(Cr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),rf+this._config.interval))}};this._swipeHelper=new rr(this._element,f)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const f=$a[l.key];f&&(l.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const f=ie.findOne(sr,this._indicatorsElement);f.classList.remove(us),f.removeAttribute("aria-current");const v=ie.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);v&&(v.classList.add(us),v.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const f=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(l,f=null){if(this._isSliding)return;const v=this._getActive(),R=l===Tn,U=f||k(this._getItems(),v,R,this._config.wrap);if(U===v)return;const F=this._getItemIndex(U),B=ue=>H.trigger(this._element,ue,{relatedTarget:U,direction:this._orderToDirection(l),from:this._getItemIndex(v),to:F});if(B(Gu).defaultPrevented||!v||!U)return;const te=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(F),this._activeElement=U;const X=R?Xu:co,fe=R?Ua:cs;U.classList.add(fe),T(U),v.classList.add(X),U.classList.add(X);const pe=()=>{U.classList.remove(X,fe),U.classList.add(us),v.classList.remove(us,fe,X),this._isSliding=!1,B(ls)};this._queueCallback(pe,v,this._isAnimated()),te&&this.cycle()}_isAnimated(){return this._element.classList.contains(sf)}_getActive(){return ie.findOne(of,this._element)}_getItems(){return ie.find(ho,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return K()?l===ui?li:Tn:l===ui?Tn:li}_orderToDirection(l){return K()?l===li?ui:Cr:l===li?Cr:ui}static jQueryInterface(l){return this.each(function(){const f=ci.getOrCreateInstance(this,l);if(typeof l=="number"){f.to(l);return}if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l]()}})}}H.on(document,Ma,ec,function(p){const l=ie.getElementFromSelector(this);if(!l||!l.classList.contains(Va))return;p.preventDefault();const f=ci.getOrCreateInstance(l),v=this.getAttribute("data-bs-slide-to");if(v){f.to(v),f._maybeEnableCycle();return}if(cn.getDataAttribute(this,"slide")==="next"){f.next(),f._maybeEnableCycle();return}f.prev(),f._maybeEnableCycle()}),H.on(window,La,()=>{const p=ie.find(Fa);for(const l of p)ci.getOrCreateInstance(l)}),A(ci);const af="collapse",hi=".bs.collapse",uf=".data-api",Rr=`show${hi}`,Fn=`shown${hi}`,fo=`hide${hi}`,po=`hidden${hi}`,rc=`click${hi}${uf}`,Pe="show",$n="collapse",or="collapsing",hs="collapsed",cf=`:scope .${$n} .${$n}`,ic="collapse-horizontal",hf="width",df="height",ff=".collapse.show, .collapse.collapsing",ja='[data-bs-toggle="collapse"]',ds={parent:null,toggle:!0},ar={parent:"(null|element)",toggle:"boolean"};class Pr extends Kt{constructor(l,f){super(l,f),this._isTransitioning=!1,this._triggerArray=[];const v=ie.find(ja);for(const R of v){const U=ie.getSelectorFromElement(R),F=ie.find(U).filter(B=>B===this._element);U!==null&&F.length&&this._triggerArray.push(R)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ds}static get DefaultType(){return ar}static get NAME(){return af}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(ff).filter(B=>B!==this._element).map(B=>Pr.getOrCreateInstance(B,{toggle:!1}))),l.length&&l[0]._isTransitioning||H.trigger(this._element,Rr).defaultPrevented)return;for(const B of l)B.hide();const v=this._getDimension();this._element.classList.remove($n),this._element.classList.add(or),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const R=()=>{this._isTransitioning=!1,this._element.classList.remove(or),this._element.classList.add($n,Pe),this._element.style[v]="",H.trigger(this._element,Fn)},F=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(R,this._element,!0),this._element.style[v]=`${this._element[F]}px`}hide(){if(this._isTransitioning||!this._isShown()||H.trigger(this._element,fo).defaultPrevented)return;const f=this._getDimension();this._element.style[f]=`${this._element.getBoundingClientRect()[f]}px`,T(this._element),this._element.classList.add(or),this._element.classList.remove($n,Pe);for(const R of this._triggerArray){const U=ie.getElementFromSelector(R);U&&!this._isShown(U)&&this._addAriaAndCollapsedClass([R],!1)}this._isTransitioning=!0;const v=()=>{this._isTransitioning=!1,this._element.classList.remove(or),this._element.classList.add($n),H.trigger(this._element,po)};this._element.style[f]="",this._queueCallback(v,this._element,!0)}_isShown(l=this._element){return l.classList.contains(Pe)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=b(l.parent),l}_getDimension(){return this._element.classList.contains(ic)?hf:df}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(ja);for(const f of l){const v=ie.getElementFromSelector(f);v&&this._addAriaAndCollapsedClass([f],this._isShown(v))}}_getFirstLevelChildren(l){const f=ie.find(cf,this._config.parent);return ie.find(l,this._config.parent).filter(v=>!f.includes(v))}_addAriaAndCollapsedClass(l,f){if(l.length)for(const v of l)v.classList.toggle(hs,!f),v.setAttribute("aria-expanded",f)}static jQueryInterface(l){const f={};return typeof l=="string"&&/show|hide/.test(l)&&(f.toggle=!1),this.each(function(){const v=Pr.getOrCreateInstance(this,f);if(typeof l=="string"){if(typeof v[l]>"u")throw new TypeError(`No method named "${l}"`);v[l]()}})}}H.on(document,rc,ja,function(p){(p.target.tagName==="A"||p.delegateTarget&&p.delegateTarget.tagName==="A")&&p.preventDefault();for(const l of ie.getMultipleElementsFromSelector(this))Pr.getOrCreateInstance(l,{toggle:!1}).toggle()}),A(Pr);var gt="top",Dt="bottom",it="right",At="left",mo="auto",di=[gt,Dt,it,At],Lt="start",fi="end",sc="clippingParents",kr="viewport",jn="popper",Ba="reference",Nr=di.reduce(function(p,l){return p.concat([l+"-"+Lt,l+"-"+fi])},[]),br=[].concat(di,[mo]).reduce(function(p,l){return p.concat([l,l+"-"+Lt,l+"-"+fi])},[]),za="beforeRead",go="read",Ve="afterRead",oc="beforeMain",ac="main",Ha="afterMain",Wa="beforeWrite",Ka="write",fs="afterWrite",qa=[za,go,Ve,oc,ac,Ha,Wa,Ka,fs];function st(p){return p?(p.nodeName||"").toLowerCase():null}function Mt(p){if(p==null)return window;if(p.toString()!=="[object Window]"){var l=p.ownerDocument;return l&&l.defaultView||window}return p}function Or(p){var l=Mt(p).Element;return p instanceof l||p instanceof Element}function _t(p){var l=Mt(p).HTMLElement;return p instanceof l||p instanceof HTMLElement}function _o(p){if(typeof ShadowRoot>"u")return!1;var l=Mt(p).ShadowRoot;return p instanceof l||p instanceof ShadowRoot}function Ga(p){var l=p.state;Object.keys(l.elements).forEach(function(f){var v=l.styles[f]||{},R=l.attributes[f]||{},U=l.elements[f];!_t(U)||!st(U)||(Object.assign(U.style,v),Object.keys(R).forEach(function(F){var B=R[F];B===!1?U.removeAttribute(F):U.setAttribute(F,B===!0?"":B)}))})}function vo(p){var l=p.state,f={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,f.popper),l.styles=f,l.elements.arrow&&Object.assign(l.elements.arrow.style,f.arrow),function(){Object.keys(l.elements).forEach(function(v){var R=l.elements[v],U=l.attributes[v]||{},F=Object.keys(l.styles.hasOwnProperty(v)?l.styles[v]:f[v]),B=F.reduce(function(G,te){return G[te]="",G},{});!_t(R)||!st(R)||(Object.assign(R.style,B),Object.keys(U).forEach(function(G){R.removeAttribute(G)}))})}}const yo={name:"applyStyles",enabled:!0,phase:"write",fn:Ga,effect:vo,requires:["computeStyles"]};function qt(p){return p.split("-")[0]}var xr=Math.max,ps=Math.min,In=Math.round;function Eo(){var p=navigator.userAgentData;return p!=null&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function Qa(){return!/^((?!chrome|android).)*safari/i.test(Eo())}function lr(p,l,f){l===void 0&&(l=!1),f===void 0&&(f=!1);var v=p.getBoundingClientRect(),R=1,U=1;l&&_t(p)&&(R=p.offsetWidth>0&&In(v.width)/p.offsetWidth||1,U=p.offsetHeight>0&&In(v.height)/p.offsetHeight||1);var F=Or(p)?Mt(p):window,B=F.visualViewport,G=!Qa()&&f,te=(v.left+(G&&B?B.offsetLeft:0))/R,X=(v.top+(G&&B?B.offsetTop:0))/U,fe=v.width/R,pe=v.height/U;return{width:fe,height:pe,top:X,right:te+fe,bottom:X+pe,left:te,x:te,y:X}}function ms(p){var l=lr(p),f=p.offsetWidth,v=p.offsetHeight;return Math.abs(l.width-f)<=1&&(f=l.width),Math.abs(l.height-v)<=1&&(v=l.height),{x:p.offsetLeft,y:p.offsetTop,width:f,height:v}}function Ya(p,l){var f=l.getRootNode&&l.getRootNode();if(p.contains(l))return!0;if(f&&_o(f)){var v=l;do{if(v&&p.isSameNode(v))return!0;v=v.parentNode||v.host}while(v)}return!1}function nn(p){return Mt(p).getComputedStyle(p)}function lc(p){return["table","td","th"].indexOf(st(p))>=0}function Bn(p){return((Or(p)?p.ownerDocument:p.document)||window.document).documentElement}function An(p){return st(p)==="html"?p:p.assignedSlot||p.parentNode||(_o(p)?p.host:null)||Bn(p)}function Xa(p){return!_t(p)||nn(p).position==="fixed"?null:p.offsetParent}function uc(p){var l=/firefox/i.test(Eo()),f=/Trident/i.test(Eo());if(f&&_t(p)){var v=nn(p);if(v.position==="fixed")return null}var R=An(p);for(_o(R)&&(R=R.host);_t(R)&&["html","body"].indexOf(st(R))<0;){var U=nn(R);if(U.transform!=="none"||U.perspective!=="none"||U.contain==="paint"||["transform","perspective"].indexOf(U.willChange)!==-1||l&&U.willChange==="filter"||l&&U.filter&&U.filter!=="none")return R;R=R.parentNode}return null}function pi(p){for(var l=Mt(p),f=Xa(p);f&&lc(f)&&nn(f).position==="static";)f=Xa(f);return f&&(st(f)==="html"||st(f)==="body"&&nn(f).position==="static")?l:f||uc(p)||l}function wo(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function ur(p,l,f){return xr(p,ps(l,f))}function Gt(p,l,f){var v=ur(p,l,f);return v>f?f:v}function Ja(){return{top:0,right:0,bottom:0,left:0}}function Za(p){return Object.assign({},Ja(),p)}function Dr(p,l){return l.reduce(function(f,v){return f[v]=p,f},{})}var a=function(l,f){return l=typeof l=="function"?l(Object.assign({},f.rects,{placement:f.placement})):l,Za(typeof l!="number"?l:Dr(l,di))};function d(p){var l,f=p.state,v=p.name,R=p.options,U=f.elements.arrow,F=f.modifiersData.popperOffsets,B=qt(f.placement),G=wo(B),te=[At,it].indexOf(B)>=0,X=te?"height":"width";if(!(!U||!F)){var fe=a(R.padding,f),pe=ms(U),ue=G==="y"?gt:At,Oe=G==="y"?Dt:it,me=f.rects.reference[X]+f.rects.reference[G]-F[G]-f.rects.popper[X],Ie=F[G]-f.rects.reference[G],Ue=pi(U),tt=Ue?G==="y"?Ue.clientHeight||0:Ue.clientWidth||0:0,nt=me/2-Ie/2,ye=fe[ue],Ne=tt-pe[X]-fe[Oe],be=tt/2-pe[X]/2+nt,Ye=ur(ye,be,Ne),St=G;f.modifiersData[v]=(l={},l[St]=Ye,l.centerOffset=Ye-be,l)}}function m(p){var l=p.state,f=p.options,v=f.element,R=v===void 0?"[data-popper-arrow]":v;R!=null&&(typeof R=="string"&&(R=l.elements.popper.querySelector(R),!R)||Ya(l.elements.popper,R)&&(l.elements.arrow=R))}const y={name:"arrow",enabled:!0,phase:"main",fn:d,effect:m,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function L(p){return p.split("-")[1]}var j={top:"auto",right:"auto",bottom:"auto",left:"auto"};function J(p,l){var f=p.x,v=p.y,R=l.devicePixelRatio||1;return{x:In(f*R)/R||0,y:In(v*R)/R||0}}function Re(p){var l,f=p.popper,v=p.popperRect,R=p.placement,U=p.variation,F=p.offsets,B=p.position,G=p.gpuAcceleration,te=p.adaptive,X=p.roundOffsets,fe=p.isFixed,pe=F.x,ue=pe===void 0?0:pe,Oe=F.y,me=Oe===void 0?0:Oe,Ie=typeof X=="function"?X({x:ue,y:me}):{x:ue,y:me};ue=Ie.x,me=Ie.y;var Ue=F.hasOwnProperty("x"),tt=F.hasOwnProperty("y"),nt=At,ye=gt,Ne=window;if(te){var be=pi(f),Ye="clientHeight",St="clientWidth";if(be===Mt(f)&&(be=Bn(f),nn(be).position!=="static"&&B==="absolute"&&(Ye="scrollHeight",St="scrollWidth")),be=be,R===gt||(R===At||R===it)&&U===fi){ye=Dt;var yt=fe&&be===Ne&&Ne.visualViewport?Ne.visualViewport.height:be[Ye];me-=yt-v.height,me*=G?1:-1}if(R===At||(R===gt||R===Dt)&&U===fi){nt=it;var dt=fe&&be===Ne&&Ne.visualViewport?Ne.visualViewport.width:be[St];ue-=dt-v.width,ue*=G?1:-1}}var Vt=Object.assign({position:B},te&&j),Hn=X===!0?J({x:ue,y:me},Mt(f)):{x:ue,y:me};if(ue=Hn.x,me=Hn.y,G){var Qt;return Object.assign({},Vt,(Qt={},Qt[ye]=tt?"0":"",Qt[nt]=Ue?"0":"",Qt.transform=(Ne.devicePixelRatio||1)<=1?"translate("+ue+"px, "+me+"px)":"translate3d("+ue+"px, "+me+"px, 0)",Qt))}return Object.assign({},Vt,(l={},l[ye]=tt?me+"px":"",l[nt]=Ue?ue+"px":"",l.transform="",l))}function ht(p){var l=p.state,f=p.options,v=f.gpuAcceleration,R=v===void 0?!0:v,U=f.adaptive,F=U===void 0?!0:U,B=f.roundOffsets,G=B===void 0?!0:B,te={placement:qt(l.placement),variation:L(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:R,isFixed:l.options.strategy==="fixed"};l.modifiersData.popperOffsets!=null&&(l.styles.popper=Object.assign({},l.styles.popper,Re(Object.assign({},te,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:F,roundOffsets:G})))),l.modifiersData.arrow!=null&&(l.styles.arrow=Object.assign({},l.styles.arrow,Re(Object.assign({},te,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:G})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})}const ve={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ht,data:{}};var et={passive:!0};function vt(p){var l=p.state,f=p.instance,v=p.options,R=v.scroll,U=R===void 0?!0:R,F=v.resize,B=F===void 0?!0:F,G=Mt(l.elements.popper),te=[].concat(l.scrollParents.reference,l.scrollParents.popper);return U&&te.forEach(function(X){X.addEventListener("scroll",f.update,et)}),B&&G.addEventListener("resize",f.update,et),function(){U&&te.forEach(function(X){X.removeEventListener("scroll",f.update,et)}),B&&G.removeEventListener("resize",f.update,et)}}const cr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vt,data:{}};var hn={left:"right",right:"left",bottom:"top",top:"bottom"};function Lr(p){return p.replace(/left|right|bottom|top/g,function(l){return hn[l]})}var el={start:"end",end:"start"};function U_(p){return p.replace(/start|end/g,function(l){return el[l]})}function pf(p){var l=Mt(p),f=l.pageXOffset,v=l.pageYOffset;return{scrollLeft:f,scrollTop:v}}function mf(p){return lr(Bn(p)).left+pf(p).scrollLeft}function t1(p,l){var f=Mt(p),v=Bn(p),R=f.visualViewport,U=v.clientWidth,F=v.clientHeight,B=0,G=0;if(R){U=R.width,F=R.height;var te=Qa();(te||!te&&l==="fixed")&&(B=R.offsetLeft,G=R.offsetTop)}return{width:U,height:F,x:B+mf(p),y:G}}function n1(p){var l,f=Bn(p),v=pf(p),R=(l=p.ownerDocument)==null?void 0:l.body,U=xr(f.scrollWidth,f.clientWidth,R?R.scrollWidth:0,R?R.clientWidth:0),F=xr(f.scrollHeight,f.clientHeight,R?R.scrollHeight:0,R?R.clientHeight:0),B=-v.scrollLeft+mf(p),G=-v.scrollTop;return nn(R||f).direction==="rtl"&&(B+=xr(f.clientWidth,R?R.clientWidth:0)-U),{width:U,height:F,x:B,y:G}}function gf(p){var l=nn(p),f=l.overflow,v=l.overflowX,R=l.overflowY;return/auto|scroll|overlay|hidden/.test(f+R+v)}function F_(p){return["html","body","#document"].indexOf(st(p))>=0?p.ownerDocument.body:_t(p)&&gf(p)?p:F_(An(p))}function tl(p,l){var f;l===void 0&&(l=[]);var v=F_(p),R=v===((f=p.ownerDocument)==null?void 0:f.body),U=Mt(v),F=R?[U].concat(U.visualViewport||[],gf(v)?v:[]):v,B=l.concat(F);return R?B:B.concat(tl(An(F)))}function _f(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function r1(p,l){var f=lr(p,!1,l==="fixed");return f.top=f.top+p.clientTop,f.left=f.left+p.clientLeft,f.bottom=f.top+p.clientHeight,f.right=f.left+p.clientWidth,f.width=p.clientWidth,f.height=p.clientHeight,f.x=f.left,f.y=f.top,f}function $_(p,l,f){return l===kr?_f(t1(p,f)):Or(l)?r1(l,f):_f(n1(Bn(p)))}function i1(p){var l=tl(An(p)),f=["absolute","fixed"].indexOf(nn(p).position)>=0,v=f&&_t(p)?pi(p):p;return Or(v)?l.filter(function(R){return Or(R)&&Ya(R,v)&&st(R)!=="body"}):[]}function s1(p,l,f,v){var R=l==="clippingParents"?i1(p):[].concat(l),U=[].concat(R,[f]),F=U[0],B=U.reduce(function(G,te){var X=$_(p,te,v);return G.top=xr(X.top,G.top),G.right=ps(X.right,G.right),G.bottom=ps(X.bottom,G.bottom),G.left=xr(X.left,G.left),G},$_(p,F,v));return B.width=B.right-B.left,B.height=B.bottom-B.top,B.x=B.left,B.y=B.top,B}function j_(p){var l=p.reference,f=p.element,v=p.placement,R=v?qt(v):null,U=v?L(v):null,F=l.x+l.width/2-f.width/2,B=l.y+l.height/2-f.height/2,G;switch(R){case gt:G={x:F,y:l.y-f.height};break;case Dt:G={x:F,y:l.y+l.height};break;case it:G={x:l.x+l.width,y:B};break;case At:G={x:l.x-f.width,y:B};break;default:G={x:l.x,y:l.y}}var te=R?wo(R):null;if(te!=null){var X=te==="y"?"height":"width";switch(U){case Lt:G[te]=G[te]-(l[X]/2-f[X]/2);break;case fi:G[te]=G[te]+(l[X]/2-f[X]/2);break}}return G}function To(p,l){l===void 0&&(l={});var f=l,v=f.placement,R=v===void 0?p.placement:v,U=f.strategy,F=U===void 0?p.strategy:U,B=f.boundary,G=B===void 0?sc:B,te=f.rootBoundary,X=te===void 0?kr:te,fe=f.elementContext,pe=fe===void 0?jn:fe,ue=f.altBoundary,Oe=ue===void 0?!1:ue,me=f.padding,Ie=me===void 0?0:me,Ue=Za(typeof Ie!="number"?Ie:Dr(Ie,di)),tt=pe===jn?Ba:jn,nt=p.rects.popper,ye=p.elements[Oe?tt:pe],Ne=s1(Or(ye)?ye:ye.contextElement||Bn(p.elements.popper),G,X,F),be=lr(p.elements.reference),Ye=j_({reference:be,element:nt,strategy:"absolute",placement:R}),St=_f(Object.assign({},nt,Ye)),yt=pe===jn?St:be,dt={top:Ne.top-yt.top+Ue.top,bottom:yt.bottom-Ne.bottom+Ue.bottom,left:Ne.left-yt.left+Ue.left,right:yt.right-Ne.right+Ue.right},Vt=p.modifiersData.offset;if(pe===jn&&Vt){var Hn=Vt[R];Object.keys(dt).forEach(function(Qt){var Is=[it,Dt].indexOf(Qt)>=0?1:-1,As=[gt,Dt].indexOf(Qt)>=0?"y":"x";dt[Qt]+=Hn[As]*Is})}return dt}function o1(p,l){l===void 0&&(l={});var f=l,v=f.placement,R=f.boundary,U=f.rootBoundary,F=f.padding,B=f.flipVariations,G=f.allowedAutoPlacements,te=G===void 0?br:G,X=L(v),fe=X?B?Nr:Nr.filter(function(Oe){return L(Oe)===X}):di,pe=fe.filter(function(Oe){return te.indexOf(Oe)>=0});pe.length===0&&(pe=fe);var ue=pe.reduce(function(Oe,me){return Oe[me]=To(p,{placement:me,boundary:R,rootBoundary:U,padding:F})[qt(me)],Oe},{});return Object.keys(ue).sort(function(Oe,me){return ue[Oe]-ue[me]})}function a1(p){if(qt(p)===mo)return[];var l=Lr(p);return[U_(p),l,U_(l)]}function l1(p){var l=p.state,f=p.options,v=p.name;if(!l.modifiersData[v]._skip){for(var R=f.mainAxis,U=R===void 0?!0:R,F=f.altAxis,B=F===void 0?!0:F,G=f.fallbackPlacements,te=f.padding,X=f.boundary,fe=f.rootBoundary,pe=f.altBoundary,ue=f.flipVariations,Oe=ue===void 0?!0:ue,me=f.allowedAutoPlacements,Ie=l.options.placement,Ue=qt(Ie),tt=Ue===Ie,nt=G||(tt||!Oe?[Lr(Ie)]:a1(Ie)),ye=[Ie].concat(nt).reduce(function(So,gi){return So.concat(qt(gi)===mo?o1(l,{placement:gi,boundary:X,rootBoundary:fe,padding:te,flipVariations:Oe,allowedAutoPlacements:me}):gi)},[]),Ne=l.rects.reference,be=l.rects.popper,Ye=new Map,St=!0,yt=ye[0],dt=0;dt<ye.length;dt++){var Vt=ye[dt],Hn=qt(Vt),Qt=L(Vt)===Lt,Is=[gt,Dt].indexOf(Hn)>=0,As=Is?"width":"height",dn=To(l,{placement:Vt,boundary:X,rootBoundary:fe,altBoundary:pe,padding:te}),Wn=Is?Qt?it:At:Qt?Dt:gt;Ne[As]>be[As]&&(Wn=Lr(Wn));var vc=Lr(Wn),Ss=[];if(U&&Ss.push(dn[Hn]<=0),B&&Ss.push(dn[Wn]<=0,dn[vc]<=0),Ss.every(function(So){return So})){yt=Vt,St=!1;break}Ye.set(Vt,Ss)}if(St)for(var yc=Oe?3:1,bf=function(gi){var ol=ye.find(function(wc){var Cs=Ye.get(wc);if(Cs)return Cs.slice(0,gi).every(function(Of){return Of})});if(ol)return yt=ol,"break"},sl=yc;sl>0;sl--){var Ec=bf(sl);if(Ec==="break")break}l.placement!==yt&&(l.modifiersData[v]._skip=!0,l.placement=yt,l.reset=!0)}}const B_={name:"flip",enabled:!0,phase:"main",fn:l1,requiresIfExists:["offset"],data:{_skip:!1}};function z_(p,l,f){return f===void 0&&(f={x:0,y:0}),{top:p.top-l.height-f.y,right:p.right-l.width+f.x,bottom:p.bottom-l.height+f.y,left:p.left-l.width-f.x}}function H_(p){return[gt,it,Dt,At].some(function(l){return p[l]>=0})}function u1(p){var l=p.state,f=p.name,v=l.rects.reference,R=l.rects.popper,U=l.modifiersData.preventOverflow,F=To(l,{elementContext:"reference"}),B=To(l,{altBoundary:!0}),G=z_(F,v),te=z_(B,R,U),X=H_(G),fe=H_(te);l.modifiersData[f]={referenceClippingOffsets:G,popperEscapeOffsets:te,isReferenceHidden:X,hasPopperEscaped:fe},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":X,"data-popper-escaped":fe})}const W_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:u1};function c1(p,l,f){var v=qt(p),R=[At,gt].indexOf(v)>=0?-1:1,U=typeof f=="function"?f(Object.assign({},l,{placement:p})):f,F=U[0],B=U[1];return F=F||0,B=(B||0)*R,[At,it].indexOf(v)>=0?{x:B,y:F}:{x:F,y:B}}function h1(p){var l=p.state,f=p.options,v=p.name,R=f.offset,U=R===void 0?[0,0]:R,F=br.reduce(function(X,fe){return X[fe]=c1(fe,l.rects,U),X},{}),B=F[l.placement],G=B.x,te=B.y;l.modifiersData.popperOffsets!=null&&(l.modifiersData.popperOffsets.x+=G,l.modifiersData.popperOffsets.y+=te),l.modifiersData[v]=F}const K_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:h1};function d1(p){var l=p.state,f=p.name;l.modifiersData[f]=j_({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})}const vf={name:"popperOffsets",enabled:!0,phase:"read",fn:d1,data:{}};function f1(p){return p==="x"?"y":"x"}function p1(p){var l=p.state,f=p.options,v=p.name,R=f.mainAxis,U=R===void 0?!0:R,F=f.altAxis,B=F===void 0?!1:F,G=f.boundary,te=f.rootBoundary,X=f.altBoundary,fe=f.padding,pe=f.tether,ue=pe===void 0?!0:pe,Oe=f.tetherOffset,me=Oe===void 0?0:Oe,Ie=To(l,{boundary:G,rootBoundary:te,padding:fe,altBoundary:X}),Ue=qt(l.placement),tt=L(l.placement),nt=!tt,ye=wo(Ue),Ne=f1(ye),be=l.modifiersData.popperOffsets,Ye=l.rects.reference,St=l.rects.popper,yt=typeof me=="function"?me(Object.assign({},l.rects,{placement:l.placement})):me,dt=typeof yt=="number"?{mainAxis:yt,altAxis:yt}:Object.assign({mainAxis:0,altAxis:0},yt),Vt=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,Hn={x:0,y:0};if(be){if(U){var Qt,Is=ye==="y"?gt:At,As=ye==="y"?Dt:it,dn=ye==="y"?"height":"width",Wn=be[ye],vc=Wn+Ie[Is],Ss=Wn-Ie[As],yc=ue?-St[dn]/2:0,bf=tt===Lt?Ye[dn]:St[dn],sl=tt===Lt?-St[dn]:-Ye[dn],Ec=l.elements.arrow,So=ue&&Ec?ms(Ec):{width:0,height:0},gi=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:Ja(),ol=gi[Is],wc=gi[As],Cs=ur(0,Ye[dn],So[dn]),Of=nt?Ye[dn]/2-yc-Cs-ol-dt.mainAxis:bf-Cs-ol-dt.mainAxis,oP=nt?-Ye[dn]/2+yc+Cs+wc+dt.mainAxis:sl+Cs+wc+dt.mainAxis,xf=l.elements.arrow&&pi(l.elements.arrow),aP=xf?ye==="y"?xf.clientTop||0:xf.clientLeft||0:0,Dv=(Qt=Vt==null?void 0:Vt[ye])!=null?Qt:0,lP=Wn+Of-Dv-aP,uP=Wn+oP-Dv,Lv=ur(ue?ps(vc,lP):vc,Wn,ue?xr(Ss,uP):Ss);be[ye]=Lv,Hn[ye]=Lv-Wn}if(B){var Mv,cP=ye==="x"?gt:At,hP=ye==="x"?Dt:it,Rs=be[Ne],Tc=Ne==="y"?"height":"width",Vv=Rs+Ie[cP],Uv=Rs-Ie[hP],Df=[gt,At].indexOf(Ue)!==-1,Fv=(Mv=Vt==null?void 0:Vt[Ne])!=null?Mv:0,$v=Df?Vv:Rs-Ye[Tc]-St[Tc]-Fv+dt.altAxis,jv=Df?Rs+Ye[Tc]+St[Tc]-Fv-dt.altAxis:Uv,Bv=ue&&Df?Gt($v,Rs,jv):ur(ue?$v:Vv,Rs,ue?jv:Uv);be[Ne]=Bv,Hn[Ne]=Bv-Rs}l.modifiersData[v]=Hn}}const q_={name:"preventOverflow",enabled:!0,phase:"main",fn:p1,requiresIfExists:["offset"]};function m1(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}function g1(p){return p===Mt(p)||!_t(p)?pf(p):m1(p)}function _1(p){var l=p.getBoundingClientRect(),f=In(l.width)/p.offsetWidth||1,v=In(l.height)/p.offsetHeight||1;return f!==1||v!==1}function v1(p,l,f){f===void 0&&(f=!1);var v=_t(l),R=_t(l)&&_1(l),U=Bn(l),F=lr(p,R,f),B={scrollLeft:0,scrollTop:0},G={x:0,y:0};return(v||!v&&!f)&&((st(l)!=="body"||gf(U))&&(B=g1(l)),_t(l)?(G=lr(l,!0),G.x+=l.clientLeft,G.y+=l.clientTop):U&&(G.x=mf(U))),{x:F.left+B.scrollLeft-G.x,y:F.top+B.scrollTop-G.y,width:F.width,height:F.height}}function y1(p){var l=new Map,f=new Set,v=[];p.forEach(function(U){l.set(U.name,U)});function R(U){f.add(U.name);var F=[].concat(U.requires||[],U.requiresIfExists||[]);F.forEach(function(B){if(!f.has(B)){var G=l.get(B);G&&R(G)}}),v.push(U)}return p.forEach(function(U){f.has(U.name)||R(U)}),v}function E1(p){var l=y1(p);return qa.reduce(function(f,v){return f.concat(l.filter(function(R){return R.phase===v}))},[])}function w1(p){var l;return function(){return l||(l=new Promise(function(f){Promise.resolve().then(function(){l=void 0,f(p())})})),l}}function T1(p){var l=p.reduce(function(f,v){var R=f[v.name];return f[v.name]=R?Object.assign({},R,v,{options:Object.assign({},R.options,v.options),data:Object.assign({},R.data,v.data)}):v,f},{});return Object.keys(l).map(function(f){return l[f]})}var G_={placement:"bottom",modifiers:[],strategy:"absolute"};function Q_(){for(var p=arguments.length,l=new Array(p),f=0;f<p;f++)l[f]=arguments[f];return!l.some(function(v){return!(v&&typeof v.getBoundingClientRect=="function")})}function cc(p){p===void 0&&(p={});var l=p,f=l.defaultModifiers,v=f===void 0?[]:f,R=l.defaultOptions,U=R===void 0?G_:R;return function(B,G,te){te===void 0&&(te=U);var X={placement:"bottom",orderedModifiers:[],options:Object.assign({},G_,U),modifiersData:{},elements:{reference:B,popper:G},attributes:{},styles:{}},fe=[],pe=!1,ue={state:X,setOptions:function(Ue){var tt=typeof Ue=="function"?Ue(X.options):Ue;me(),X.options=Object.assign({},U,X.options,tt),X.scrollParents={reference:Or(B)?tl(B):B.contextElement?tl(B.contextElement):[],popper:tl(G)};var nt=E1(T1([].concat(v,X.options.modifiers)));return X.orderedModifiers=nt.filter(function(ye){return ye.enabled}),Oe(),ue.update()},forceUpdate:function(){if(!pe){var Ue=X.elements,tt=Ue.reference,nt=Ue.popper;if(Q_(tt,nt)){X.rects={reference:v1(tt,pi(nt),X.options.strategy==="fixed"),popper:ms(nt)},X.reset=!1,X.placement=X.options.placement,X.orderedModifiers.forEach(function(dt){return X.modifiersData[dt.name]=Object.assign({},dt.data)});for(var ye=0;ye<X.orderedModifiers.length;ye++){if(X.reset===!0){X.reset=!1,ye=-1;continue}var Ne=X.orderedModifiers[ye],be=Ne.fn,Ye=Ne.options,St=Ye===void 0?{}:Ye,yt=Ne.name;typeof be=="function"&&(X=be({state:X,options:St,name:yt,instance:ue})||X)}}}},update:w1(function(){return new Promise(function(Ie){ue.forceUpdate(),Ie(X)})}),destroy:function(){me(),pe=!0}};if(!Q_(B,G))return ue;ue.setOptions(te).then(function(Ie){!pe&&te.onFirstUpdate&&te.onFirstUpdate(Ie)});function Oe(){X.orderedModifiers.forEach(function(Ie){var Ue=Ie.name,tt=Ie.options,nt=tt===void 0?{}:tt,ye=Ie.effect;if(typeof ye=="function"){var Ne=ye({state:X,name:Ue,instance:ue,options:nt}),be=function(){};fe.push(Ne||be)}})}function me(){fe.forEach(function(Ie){return Ie()}),fe=[]}return ue}}var I1=cc(),A1=[cr,vf,ve,yo],S1=cc({defaultModifiers:A1}),C1=[cr,vf,ve,yo,K_,B_,q_,y,W_],yf=cc({defaultModifiers:C1});const Y_=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ha,afterRead:Ve,afterWrite:fs,applyStyles:yo,arrow:y,auto:mo,basePlacements:di,beforeMain:oc,beforeRead:za,beforeWrite:Wa,bottom:Dt,clippingParents:sc,computeStyles:ve,createPopper:yf,createPopperBase:I1,createPopperLite:S1,detectOverflow:To,end:fi,eventListeners:cr,flip:B_,hide:W_,left:At,main:ac,modifierPhases:qa,offset:K_,placements:br,popper:jn,popperGenerator:cc,popperOffsets:vf,preventOverflow:q_,read:go,reference:Ba,right:it,start:Lt,top:gt,variationPlacements:Nr,viewport:kr,write:Ka},Symbol.toStringTag,{value:"Module"})),X_="dropdown",gs=".bs.dropdown",Ef=".data-api",R1="Escape",J_="Tab",P1="ArrowUp",Z_="ArrowDown",k1=2,N1=`hide${gs}`,b1=`hidden${gs}`,O1=`show${gs}`,x1=`shown${gs}`,ev=`click${gs}${Ef}`,tv=`keydown${gs}${Ef}`,D1=`keyup${gs}${Ef}`,Io="show",L1="dropup",M1="dropend",V1="dropstart",U1="dropup-center",F1="dropdown-center",_s='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',$1=`${_s}.${Io}`,hc=".dropdown-menu",j1=".navbar",B1=".navbar-nav",z1=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",H1=K()?"top-end":"top-start",W1=K()?"top-start":"top-end",K1=K()?"bottom-end":"bottom-start",q1=K()?"bottom-start":"bottom-end",G1=K()?"left-start":"right-start",Q1=K()?"right-start":"left-start",Y1="top",X1="bottom",J1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Z1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class zn extends Kt{constructor(l,f){super(l,f),this._popper=null,this._parent=this._element.parentNode,this._menu=ie.next(this._element,hc)[0]||ie.prev(this._element,hc)[0]||ie.findOne(hc,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return J1}static get DefaultType(){return Z1}static get NAME(){return X_}toggle(){return this._isShown()?this.hide():this.show()}show(){if(M(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!H.trigger(this._element,O1,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(B1))for(const v of[].concat(...document.body.children))H.on(v,"mouseover",C);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Io),this._element.classList.add(Io),H.trigger(this._element,x1,l)}}hide(){if(M(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!H.trigger(this._element,N1,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))H.off(v,"mouseover",C);this._popper&&this._popper.destroy(),this._menu.classList.remove(Io),this._element.classList.remove(Io),this._element.setAttribute("aria-expanded","false"),cn.removeDataAttribute(this._menu,"popper"),H.trigger(this._element,b1,l)}}_getConfig(l){if(l=super._getConfig(l),typeof l.reference=="object"&&!w(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${X_.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof Y_>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;this._config.reference==="parent"?l=this._parent:w(this._config.reference)?l=b(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const f=this._getPopperConfig();this._popper=yf(l,this._menu,f)}_isShown(){return this._menu.classList.contains(Io)}_getPlacement(){const l=this._parent;if(l.classList.contains(M1))return G1;if(l.classList.contains(V1))return Q1;if(l.classList.contains(U1))return Y1;if(l.classList.contains(F1))return X1;const f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains(L1)?f?W1:H1:f?q1:K1}_detectNavbar(){return this._element.closest(j1)!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(f=>Number.parseInt(f,10)):typeof l=="function"?f=>l(f,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(cn.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...E(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:f}){const v=ie.find(z1,this._menu).filter(R=>x(R));v.length&&k(v,f,l===Z_,!v.includes(f)).focus()}static jQueryInterface(l){return this.each(function(){const f=zn.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof f[l]>"u")throw new TypeError(`No method named "${l}"`);f[l]()}})}static clearMenus(l){if(l.button===k1||l.type==="keyup"&&l.key!==J_)return;const f=ie.find($1);for(const v of f){const R=zn.getInstance(v);if(!R||R._config.autoClose===!1)continue;const U=l.composedPath(),F=U.includes(R._menu);if(U.includes(R._element)||R._config.autoClose==="inside"&&!F||R._config.autoClose==="outside"&&F||R._menu.contains(l.target)&&(l.type==="keyup"&&l.key===J_||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const B={relatedTarget:R._element};l.type==="click"&&(B.clickEvent=l),R._completeHide(B)}}static dataApiKeydownHandler(l){const f=/input|textarea/i.test(l.target.tagName),v=l.key===R1,R=[P1,Z_].includes(l.key);if(!R&&!v||f&&!v)return;l.preventDefault();const U=this.matches(_s)?this:ie.prev(this,_s)[0]||ie.next(this,_s)[0]||ie.findOne(_s,l.delegateTarget.parentNode),F=zn.getOrCreateInstance(U);if(R){l.stopPropagation(),F.show(),F._selectMenuItem(l);return}F._isShown()&&(l.stopPropagation(),F.hide(),U.focus())}}H.on(document,tv,_s,zn.dataApiKeydownHandler),H.on(document,tv,hc,zn.dataApiKeydownHandler),H.on(document,ev,zn.clearMenus),H.on(document,D1,zn.clearMenus),H.on(document,ev,_s,function(p){p.preventDefault(),zn.getOrCreateInstance(this).toggle()}),A(zn);const nv="backdrop",eC="fade",rv="show",iv=`mousedown.bs.${nv}`,tC={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},nC={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class sv extends Ar{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return tC}static get DefaultType(){return nC}static get NAME(){return nv}show(l){if(!this._config.isVisible){E(l);return}this._append();const f=this._getElement();this._config.isAnimated&&T(f),f.classList.add(rv),this._emulateAnimation(()=>{E(l)})}hide(l){if(!this._config.isVisible){E(l);return}this._getElement().classList.remove(rv),this._emulateAnimation(()=>{this.dispose(),E(l)})}dispose(){this._isAppended&&(H.off(this._element,iv),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add(eC),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=b(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),H.on(l,iv,()=>{E(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){S(l,this._getElement(),this._config.isAnimated)}}const rC="focustrap",dc=".bs.focustrap",iC=`focusin${dc}`,sC=`keydown.tab${dc}`,oC="Tab",aC="forward",ov="backward",lC={autofocus:!0,trapElement:null},uC={autofocus:"boolean",trapElement:"element"};class av extends Ar{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return lC}static get DefaultType(){return uC}static get NAME(){return rC}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),H.off(document,dc),H.on(document,iC,l=>this._handleFocusin(l)),H.on(document,sC,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,H.off(document,dc))}_handleFocusin(l){const{trapElement:f}=this._config;if(l.target===document||l.target===f||f.contains(l.target))return;const v=ie.focusableChildren(f);v.length===0?f.focus():this._lastTabNavDirection===ov?v[v.length-1].focus():v[0].focus()}_handleKeydown(l){l.key===oC&&(this._lastTabNavDirection=l.shiftKey?ov:aC)}}const lv=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",uv=".sticky-top",fc="padding-right",cv="margin-right";class wf{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,fc,f=>f+l),this._setElementAttributes(lv,fc,f=>f+l),this._setElementAttributes(uv,cv,f=>f-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,fc),this._resetElementAttributes(lv,fc),this._resetElementAttributes(uv,cv)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,f,v){const R=this.getWidth(),U=F=>{if(F!==this._element&&window.innerWidth>F.clientWidth+R)return;this._saveInitialAttribute(F,f);const B=window.getComputedStyle(F).getPropertyValue(f);F.style.setProperty(f,`${v(Number.parseFloat(B))}px`)};this._applyManipulationCallback(l,U)}_saveInitialAttribute(l,f){const v=l.style.getPropertyValue(f);v&&cn.setDataAttribute(l,f,v)}_resetElementAttributes(l,f){const v=R=>{const U=cn.getDataAttribute(R,f);if(U===null){R.style.removeProperty(f);return}cn.removeDataAttribute(R,f),R.style.setProperty(f,U)};this._applyManipulationCallback(l,v)}_applyManipulationCallback(l,f){if(w(l)){f(l);return}for(const v of ie.find(l,this._element))f(v)}}const cC="modal",Sn=".bs.modal",hC=".data-api",dC="Escape",fC=`hide${Sn}`,pC=`hidePrevented${Sn}`,hv=`hidden${Sn}`,dv=`show${Sn}`,mC=`shown${Sn}`,gC=`resize${Sn}`,_C=`click.dismiss${Sn}`,vC=`mousedown.dismiss${Sn}`,yC=`keydown.dismiss${Sn}`,EC=`click${Sn}${hC}`,fv="modal-open",wC="fade",pv="show",Tf="modal-static",TC=".modal.show",IC=".modal-dialog",AC=".modal-body",SC='[data-bs-toggle="modal"]',CC={backdrop:!0,focus:!0,keyboard:!0},RC={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class vs extends Kt{constructor(l,f){super(l,f),this._dialog=ie.findOne(IC,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new wf,this._addEventListeners()}static get Default(){return CC}static get DefaultType(){return RC}static get NAME(){return cC}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||H.trigger(this._element,dv,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(fv),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||H.trigger(this._element,fC).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(pv),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){H.off(window,Sn),H.off(this._dialog,Sn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new sv({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new av({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=ie.findOne(AC,this._dialog);f&&(f.scrollTop=0),T(this._element),this._element.classList.add(pv);const v=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,H.trigger(this._element,mC,{relatedTarget:l})};this._queueCallback(v,this._dialog,this._isAnimated())}_addEventListeners(){H.on(this._element,yC,l=>{if(l.key===dC){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),H.on(window,gC,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),H.on(this._element,vC,l=>{H.one(this._element,_C,f=>{if(!(this._element!==l.target||this._element!==f.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(fv),this._resetAdjustments(),this._scrollBar.reset(),H.trigger(this._element,hv)})}_isAnimated(){return this._element.classList.contains(wC)}_triggerBackdropTransition(){if(H.trigger(this._element,pC).defaultPrevented)return;const f=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(Tf)||(f||(this._element.style.overflowY="hidden"),this._element.classList.add(Tf),this._queueCallback(()=>{this._element.classList.remove(Tf),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),v=f>0;if(v&&!l){const R=K()?"paddingLeft":"paddingRight";this._element.style[R]=`${f}px`}if(!v&&l){const R=K()?"paddingRight":"paddingLeft";this._element.style[R]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,f){return this.each(function(){const v=vs.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof v[l]>"u")throw new TypeError(`No method named "${l}"`);v[l](f)}})}}H.on(document,EC,SC,function(p){const l=ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),H.one(l,dv,R=>{R.defaultPrevented||H.one(l,hv,()=>{x(this)&&this.focus()})});const f=ie.findOne(TC);f&&vs.getInstance(f).hide(),vs.getOrCreateInstance(l).toggle(this)}),ao(vs),A(vs);const PC="offcanvas",Mr=".bs.offcanvas",mv=".data-api",kC=`load${Mr}${mv}`,NC="Escape",gv="show",_v="showing",vv="hiding",bC="offcanvas-backdrop",yv=".offcanvas.show",OC=`show${Mr}`,xC=`shown${Mr}`,DC=`hide${Mr}`,Ev=`hidePrevented${Mr}`,wv=`hidden${Mr}`,LC=`resize${Mr}`,MC=`click${Mr}${mv}`,VC=`keydown.dismiss${Mr}`,UC='[data-bs-toggle="offcanvas"]',FC={backdrop:!0,keyboard:!0,scroll:!1},$C={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Vr extends Kt{constructor(l,f){super(l,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return FC}static get DefaultType(){return $C}static get NAME(){return PC}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){if(this._isShown||H.trigger(this._element,OC,{relatedTarget:l}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new wf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(_v);const v=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(gv),this._element.classList.remove(_v),H.trigger(this._element,xC,{relatedTarget:l})};this._queueCallback(v,this._element,!0)}hide(){if(!this._isShown||H.trigger(this._element,DC).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(vv),this._backdrop.hide();const f=()=>{this._element.classList.remove(gv,vv),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new wf().reset(),H.trigger(this._element,wv)};this._queueCallback(f,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=()=>{if(this._config.backdrop==="static"){H.trigger(this._element,Ev);return}this.hide()},f=!!this._config.backdrop;return new sv({className:bC,isVisible:f,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:f?l:null})}_initializeFocusTrap(){return new av({trapElement:this._element})}_addEventListeners(){H.on(this._element,VC,l=>{if(l.key===NC){if(this._config.keyboard){this.hide();return}H.trigger(this._element,Ev)}})}static jQueryInterface(l){return this.each(function(){const f=Vr.getOrCreateInstance(this,l);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l](this)}})}}H.on(document,MC,UC,function(p){const l=ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),M(this))return;H.one(l,wv,()=>{x(this)&&this.focus()});const f=ie.findOne(yv);f&&f!==l&&Vr.getInstance(f).hide(),Vr.getOrCreateInstance(l).toggle(this)}),H.on(window,kC,()=>{for(const p of ie.find(yv))Vr.getOrCreateInstance(p).show()}),H.on(window,LC,()=>{for(const p of ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(p).position!=="fixed"&&Vr.getOrCreateInstance(p).hide()}),ao(Vr),A(Vr);const Tv={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},jC=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),BC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,zC=(p,l)=>{const f=p.nodeName.toLowerCase();return l.includes(f)?jC.has(f)?!!BC.test(p.nodeValue):!0:l.filter(v=>v instanceof RegExp).some(v=>v.test(f))};function HC(p,l,f){if(!p.length)return p;if(f&&typeof f=="function")return f(p);const R=new window.DOMParser().parseFromString(p,"text/html"),U=[].concat(...R.body.querySelectorAll("*"));for(const F of U){const B=F.nodeName.toLowerCase();if(!Object.keys(l).includes(B)){F.remove();continue}const G=[].concat(...F.attributes),te=[].concat(l["*"]||[],l[B]||[]);for(const X of G)zC(X,te)||F.removeAttribute(X.nodeName)}return R.body.innerHTML}const WC="TemplateFactory",KC={allowList:Tv,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},qC={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},GC={entry:"(string|element|function|null)",selector:"(string|element)"};class QC extends Ar{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return KC}static get DefaultType(){return qC}static get NAME(){return WC}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[R,U]of Object.entries(this._config.content))this._setContent(l,U,R);const f=l.children[0],v=this._resolvePossibleFunction(this._config.extraClass);return v&&f.classList.add(...v.split(" ")),f}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[f,v]of Object.entries(l))super._typeCheckConfig({selector:f,entry:v},GC)}_setContent(l,f,v){const R=ie.findOne(v,l);if(R){if(f=this._resolvePossibleFunction(f),!f){R.remove();return}if(w(f)){this._putElementInTemplate(b(f),R);return}if(this._config.html){R.innerHTML=this._maybeSanitize(f);return}R.textContent=f}}_maybeSanitize(l){return this._config.sanitize?HC(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return E(l,[this])}_putElementInTemplate(l,f){if(this._config.html){f.innerHTML="",f.append(l);return}f.textContent=l.textContent}}const YC="tooltip",XC=new Set(["sanitize","allowList","sanitizeFn"]),If="fade",JC="modal",pc="show",ZC=".tooltip-inner",Iv=`.${JC}`,Av="hide.bs.modal",nl="hover",Af="focus",eR="click",tR="manual",nR="hide",rR="hidden",iR="show",sR="shown",oR="inserted",aR="click",lR="focusin",uR="focusout",cR="mouseenter",hR="mouseleave",dR={AUTO:"auto",TOP:"top",RIGHT:K()?"left":"right",BOTTOM:"bottom",LEFT:K()?"right":"left"},fR={allowList:Tv,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},pR={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ys extends Kt{constructor(l,f){if(typeof Y_>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return fR}static get DefaultType(){return pR}static get NAME(){return YC}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),H.off(this._element.closest(Iv),Av,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const l=H.trigger(this._element,this.constructor.eventName(iR)),v=(D(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!v)return;this._disposePopper();const R=this._getTipElement();this._element.setAttribute("aria-describedby",R.getAttribute("id"));const{container:U}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(U.append(R),H.trigger(this._element,this.constructor.eventName(oR))),this._popper=this._createPopper(R),R.classList.add(pc),"ontouchstart"in document.documentElement)for(const B of[].concat(...document.body.children))H.on(B,"mouseover",C);const F=()=>{H.trigger(this._element,this.constructor.eventName(sR)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(F,this.tip,this._isAnimated())}hide(){if(!this._isShown()||H.trigger(this._element,this.constructor.eventName(nR)).defaultPrevented)return;if(this._getTipElement().classList.remove(pc),"ontouchstart"in document.documentElement)for(const R of[].concat(...document.body.children))H.off(R,"mouseover",C);this._activeTrigger[eR]=!1,this._activeTrigger[Af]=!1,this._activeTrigger[nl]=!1,this._isHovered=null;const v=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),H.trigger(this._element,this.constructor.eventName(rR)))};this._queueCallback(v,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const f=this._getTemplateFactory(l).toHtml();if(!f)return null;f.classList.remove(If,pc),f.classList.add(`bs-${this.constructor.NAME}-auto`);const v=h(this.constructor.NAME).toString();return f.setAttribute("id",v),this._isAnimated()&&f.classList.add(If),f}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new QC({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ZC]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(If)}_isShown(){return this.tip&&this.tip.classList.contains(pc)}_createPopper(l){const f=E(this._config.placement,[this,l,this._element]),v=dR[f.toUpperCase()];return yf(this._element,l,this._getPopperConfig(v))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(f=>Number.parseInt(f,10)):typeof l=="function"?f=>l(f,this._element):l}_resolvePossibleFunction(l){return E(l,[this._element])}_getPopperConfig(l){const f={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:v=>{this._getTipElement().setAttribute("data-popper-placement",v.state.placement)}}]};return{...f,...E(this._config.popperConfig,[f])}}_setListeners(){const l=this._config.trigger.split(" ");for(const f of l)if(f==="click")H.on(this._element,this.constructor.eventName(aR),this._config.selector,v=>{this._initializeOnDelegatedTarget(v).toggle()});else if(f!==tR){const v=f===nl?this.constructor.eventName(cR):this.constructor.eventName(lR),R=f===nl?this.constructor.eventName(hR):this.constructor.eventName(uR);H.on(this._element,v,this._config.selector,U=>{const F=this._initializeOnDelegatedTarget(U);F._activeTrigger[U.type==="focusin"?Af:nl]=!0,F._enter()}),H.on(this._element,R,this._config.selector,U=>{const F=this._initializeOnDelegatedTarget(U);F._activeTrigger[U.type==="focusout"?Af:nl]=F._element.contains(U.relatedTarget),F._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},H.on(this._element.closest(Iv),Av,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,f){clearTimeout(this._timeout),this._timeout=setTimeout(l,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const f=cn.getDataAttributes(this._element);for(const v of Object.keys(f))XC.has(v)&&delete f[v];return l={...f,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:b(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[f,v]of Object.entries(this._config))this.constructor.Default[f]!==v&&(l[f]=v);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const f=ys.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof f[l]>"u")throw new TypeError(`No method named "${l}"`);f[l]()}})}}A(ys);const mR="popover",gR=".popover-header",_R=".popover-body",vR={...ys.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},yR={...ys.DefaultType,content:"(null|string|element|function)"};class mc extends ys{static get Default(){return vR}static get DefaultType(){return yR}static get NAME(){return mR}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[gR]:this._getTitle(),[_R]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const f=mc.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof f[l]>"u")throw new TypeError(`No method named "${l}"`);f[l]()}})}}A(mc);const ER="scrollspy",Sf=".bs.scrollspy",wR=".data-api",TR=`activate${Sf}`,Sv=`click${Sf}`,IR=`load${Sf}${wR}`,AR="dropdown-item",Ao="active",SR='[data-bs-spy="scroll"]',Cf="[href]",CR=".nav, .list-group",Cv=".nav-link",RR=`${Cv}, .nav-item > ${Cv}, .list-group-item`,PR=".dropdown",kR=".dropdown-toggle",NR={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},bR={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class rl extends Kt{constructor(l,f){super(l,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return NR}static get DefaultType(){return bR}static get NAME(){return ER}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=b(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(f=>Number.parseFloat(f))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(H.off(this._config.target,Sv),H.on(this._config.target,Sv,Cf,l=>{const f=this._observableSections.get(l.target.hash);if(f){l.preventDefault();const v=this._rootElement||window,R=f.offsetTop-this._element.offsetTop;if(v.scrollTo){v.scrollTo({top:R,behavior:"smooth"});return}v.scrollTop=R}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(f=>this._observerCallback(f),l)}_observerCallback(l){const f=F=>this._targetLinks.get(`#${F.target.id}`),v=F=>{this._previousScrollData.visibleEntryTop=F.target.offsetTop,this._process(f(F))},R=(this._rootElement||document.documentElement).scrollTop,U=R>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=R;for(const F of l){if(!F.isIntersecting){this._activeTarget=null,this._clearActiveClass(f(F));continue}const B=F.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(U&&B){if(v(F),!R)return;continue}!U&&!B&&v(F)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=ie.find(Cf,this._config.target);for(const f of l){if(!f.hash||M(f))continue;const v=ie.findOne(decodeURI(f.hash),this._element);x(v)&&(this._targetLinks.set(decodeURI(f.hash),f),this._observableSections.set(f.hash,v))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Ao),this._activateParents(l),H.trigger(this._element,TR,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains(AR)){ie.findOne(kR,l.closest(PR)).classList.add(Ao);return}for(const f of ie.parents(l,CR))for(const v of ie.prev(f,RR))v.classList.add(Ao)}_clearActiveClass(l){l.classList.remove(Ao);const f=ie.find(`${Cf}.${Ao}`,l);for(const v of f)v.classList.remove(Ao)}static jQueryInterface(l){return this.each(function(){const f=rl.getOrCreateInstance(this,l);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l]()}})}}H.on(window,IR,()=>{for(const p of ie.find(SR))rl.getOrCreateInstance(p)}),A(rl);const OR="tab",Es=".bs.tab",xR=`hide${Es}`,DR=`hidden${Es}`,LR=`show${Es}`,MR=`shown${Es}`,VR=`click${Es}`,UR=`keydown${Es}`,FR=`load${Es}`,$R="ArrowLeft",Rv="ArrowRight",jR="ArrowUp",Pv="ArrowDown",Rf="Home",kv="End",ws="active",Nv="fade",Pf="show",BR="dropdown",bv=".dropdown-toggle",zR=".dropdown-menu",kf=`:not(${bv})`,HR='.list-group, .nav, [role="tablist"]',WR=".nav-item, .list-group-item",KR=`.nav-link${kf}, .list-group-item${kf}, [role="tab"]${kf}`,Ov='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Nf=`${KR}, ${Ov}`,qR=`.${ws}[data-bs-toggle="tab"], .${ws}[data-bs-toggle="pill"], .${ws}[data-bs-toggle="list"]`;class Ts extends Kt{constructor(l){super(l),this._parent=this._element.closest(HR),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),H.on(this._element,UR,f=>this._keydown(f)))}static get NAME(){return OR}show(){const l=this._element;if(this._elemIsActive(l))return;const f=this._getActiveElem(),v=f?H.trigger(f,xR,{relatedTarget:l}):null;H.trigger(l,LR,{relatedTarget:f}).defaultPrevented||v&&v.defaultPrevented||(this._deactivate(f,l),this._activate(l,f))}_activate(l,f){if(!l)return;l.classList.add(ws),this._activate(ie.getElementFromSelector(l));const v=()=>{if(l.getAttribute("role")!=="tab"){l.classList.add(Pf);return}l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),H.trigger(l,MR,{relatedTarget:f})};this._queueCallback(v,l,l.classList.contains(Nv))}_deactivate(l,f){if(!l)return;l.classList.remove(ws),l.blur(),this._deactivate(ie.getElementFromSelector(l));const v=()=>{if(l.getAttribute("role")!=="tab"){l.classList.remove(Pf);return}l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),H.trigger(l,DR,{relatedTarget:f})};this._queueCallback(v,l,l.classList.contains(Nv))}_keydown(l){if(![$R,Rv,jR,Pv,Rf,kv].includes(l.key))return;l.stopPropagation(),l.preventDefault();const f=this._getChildren().filter(R=>!M(R));let v;if([Rf,kv].includes(l.key))v=f[l.key===Rf?0:f.length-1];else{const R=[Rv,Pv].includes(l.key);v=k(f,l.target,R,!0)}v&&(v.focus({preventScroll:!0}),Ts.getOrCreateInstance(v).show())}_getChildren(){return ie.find(Nf,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,f){this._setAttributeIfNotExists(l,"role","tablist");for(const v of f)this._setInitialAttributesOnChild(v)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const f=this._elemIsActive(l),v=this._getOuterElement(l);l.setAttribute("aria-selected",f),v!==l&&this._setAttributeIfNotExists(v,"role","presentation"),f||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const f=ie.getElementFromSelector(l);f&&(this._setAttributeIfNotExists(f,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,f){const v=this._getOuterElement(l);if(!v.classList.contains(BR))return;const R=(U,F)=>{const B=ie.findOne(U,v);B&&B.classList.toggle(F,f)};R(bv,ws),R(zR,Pf),v.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(l,f,v){l.hasAttribute(f)||l.setAttribute(f,v)}_elemIsActive(l){return l.classList.contains(ws)}_getInnerElement(l){return l.matches(Nf)?l:ie.findOne(Nf,l)}_getOuterElement(l){return l.closest(WR)||l}static jQueryInterface(l){return this.each(function(){const f=Ts.getOrCreateInstance(this);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l]()}})}}H.on(document,VR,Ov,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!M(this)&&Ts.getOrCreateInstance(this).show()}),H.on(window,FR,()=>{for(const p of ie.find(qR))Ts.getOrCreateInstance(p)}),A(Ts);const GR="toast",mi=".bs.toast",QR=`mouseover${mi}`,YR=`mouseout${mi}`,XR=`focusin${mi}`,JR=`focusout${mi}`,ZR=`hide${mi}`,eP=`hidden${mi}`,tP=`show${mi}`,nP=`shown${mi}`,rP="fade",xv="hide",gc="show",_c="showing",iP={animation:"boolean",autohide:"boolean",delay:"number"},sP={animation:!0,autohide:!0,delay:5e3};class il extends Kt{constructor(l,f){super(l,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sP}static get DefaultType(){return iP}static get NAME(){return GR}show(){if(H.trigger(this._element,tP).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(rP);const f=()=>{this._element.classList.remove(_c),H.trigger(this._element,nP),this._maybeScheduleHide()};this._element.classList.remove(xv),T(this._element),this._element.classList.add(gc,_c),this._queueCallback(f,this._element,this._config.animation)}hide(){if(!this.isShown()||H.trigger(this._element,ZR).defaultPrevented)return;const f=()=>{this._element.classList.add(xv),this._element.classList.remove(_c,gc),H.trigger(this._element,eP)};this._element.classList.add(_c),this._queueCallback(f,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(gc),super.dispose()}isShown(){return this._element.classList.contains(gc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,f){switch(l.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=f;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=f;break}}if(f){this._clearTimeout();return}const v=l.relatedTarget;this._element===v||this._element.contains(v)||this._maybeScheduleHide()}_setListeners(){H.on(this._element,QR,l=>this._onInteraction(l,!0)),H.on(this._element,YR,l=>this._onInteraction(l,!1)),H.on(this._element,XR,l=>this._onInteraction(l,!0)),H.on(this._element,JR,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const f=il.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof f[l]>"u")throw new TypeError(`No method named "${l}"`);f[l](this)}})}}return ao(il),A(il),{Alert:Qe,Button:si,Carousel:ci,Collapse:Pr,Dropdown:zn,Modal:vs,Offcanvas:Vr,Popover:mc,ScrollSpy:rl,Tab:Ts,Toast:il,Tooltip:ys}})})(J4);var Z4="firebase",e3="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(Z4,e3,"app");const t3={apiKey:"AIzaSyDzRnxYJMlab9R_nt3DdTmBKmaXSmH2bKw",authDomain:"olx-clone-4719d.firebaseapp.com",projectId:"olx-clone-4719d",storageBucket:"olx-clone-4719d.appspot.com",messagingSenderId:"197705987283",appId:"1:197705987283:web:eedada7dcb3b227571d026"},V_=yI(t3),n3=SL(V_),r3=eU(V_),i3=K4(V_);Ap.createRoot(document.getElementById("root")).render(I.jsx(Ww.StrictMode,{children:I.jsx(ts.Provider,{value:{firebase:n3,db:r3,storage:i3},children:I.jsx($b,{children:I.jsx(X4,{})})})}));
